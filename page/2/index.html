<!DOCTYPE HTML>
<html>

<head>

  <meta charset="utf-8">
  
  <title>Page 2 | Andrew&#39;s Blog</title>
  <meta name="author" content="Andrew">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Andrew&#39;s Blog"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/notebook.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/tabs.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  <script src="/js/tabs.js"></script>

  <!-- analytics -->
  



<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML-full,Safe"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    init_mathjax = function() {
        if (window.MathJax) {
        // MathJax loaded
            MathJax.Hub.Config({
                TeX: {
                    equationNumbers: {
                    autoNumber: "AMS",
                    useLabelIds: true
                    }
                },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true,
                    processEnvironments: true
                },
                displayAlign: 'center',
                CommonHTML: {
                    linebreaks: {
                    automatic: true
                    }
                }
            });

            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
    }
    init_mathjax();
    </script>
    <!-- End of mathjax configuration -->

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Andrew&#39;s Blog</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header">
  <h1>Andrew&#39;s Blog</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <i class="fa fa-heart"></i>
      PURSUE ULTIMATE FACTS
</div>    

		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-11-27 </div>
			<div class="article-title"><a href="/2023/11/27/Deploy-Magento/" >Deploy Magento</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Debian 12</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">docker</span><span class="o">.</span><span class="n">io</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">usermod</span> <span class="o">-</span><span class="n">aG</span> <span class="n">docker</span> <span class="n">saintway</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">service</span> <span class="n">docker</span> <span class="n">start</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">service</span> <span class="n">docker</span> <span class="n">status</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://hub.docker.com/_/mysql">MySQL Docker</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">docker</span> <span class="n">pull</span> <span class="n">mysql</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Using default tag: latest
latest: Pulling from library/mysql
Digest: sha256:1ee299bf9eb8d2218fcb4fad666a090c92caef48ce524e6edce35f2e2d55170d
Status: Image is up to date for mysql:latest
docker.io/library/mysql:latest
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">name</span> <span class="n">mobaichi</span> <span class="o">-</span><span class="n">p</span> <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">3306</span><span class="p">:</span><span class="mi">3306</span> <span class="o">-</span><span class="n">e</span> <span class="n">MYSQL_ROOT_PASSWORD</span><span class="o">=</span><span class="n">mobaichi</span> <span class="o">-</span><span class="n">d</span> <span class="n">mysql</span><span class="p">:</span><span class="mf">8.0</span><span class="o">-</span><span class="n">debian</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">mobaichi</span><span class="p">;</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="s1">&#39;ekp&#39;</span><span class="nv">@&#39;172.17.0.1&#39;</span><span class="w"> </span><span class="k">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;ekp&#39;</span><span class="p">;</span>
<span class="k">GRANT</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mobaichi</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="s1">&#39;ekp&#39;</span><span class="nv">@&#39;172.17.0.1&#39;</span><span class="p">;</span>
<span class="k">FLUSH</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="p">;</span>
<span class="k">EXIT</span><span class="p">;</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Debian 11</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">wget</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">dev</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">get</span><span class="o">/</span><span class="n">mysql</span><span class="o">-</span><span class="n">apt</span><span class="o">-</span><span class="n">config_0</span><span class="mf">.8.26</span><span class="o">-</span><span class="mi">1</span><span class="n">_all</span><span class="o">.</span><span class="n">deb</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">lsb</span><span class="o">-</span><span class="n">release</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">dpkg</span> <span class="o">-</span><span class="n">i</span> <span class="o">~/</span><span class="n">mysql</span><span class="o">-</span><span class="n">apt</span><span class="o">-</span><span class="n">config_0</span><span class="mf">.8.26</span><span class="o">-</span><span class="mi">1</span><span class="n">_all</span><span class="o">.</span><span class="n">deb</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">mysql</span><span class="o">-</span><span class="n">server</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
    <span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># MySQL</span>
<span class="c1"># KQaJ6rYR</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">mobaichi</span><span class="p">;</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="s1">&#39;ekp&#39;</span><span class="nv">@&#39;localhost&#39;</span><span class="w"> </span><span class="k">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;ekp&#39;</span><span class="p">;</span>
<span class="k">GRANT</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mobaichi</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="s1">&#39;ekp&#39;</span><span class="nv">@&#39;localhost&#39;</span><span class="p">;</span>
<span class="k">FLUSH</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="p">;</span>
<span class="k">EXIT</span><span class="p">;</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Ubuntu 22</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">mysql</span><span class="o">-</span><span class="n">server</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mysql</span> <span class="o">--</span><span class="n">version</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">netstat</span> <span class="o">-</span><span class="n">tunpl</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">mysql</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">service</span> <span class="n">mysql</span> <span class="n">status</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">mobaichi</span><span class="p">;</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="s1">&#39;ekp&#39;</span><span class="nv">@&#39;localhost&#39;</span><span class="w"> </span><span class="k">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;ekp&#39;</span><span class="p">;</span>
<span class="k">GRANT</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mobaichi</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="s1">&#39;ekp&#39;</span><span class="nv">@&#39;localhost&#39;</span><span class="p">;</span>
<span class="k">FLUSH</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="p">;</span>
<span class="k">EXIT</span><span class="p">;</span>
</pre></div>

</div>
</div>
</div>
 




<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Debian 11</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">wget</span> <span class="o">-</span><span class="n">O</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">trusted</span><span class="o">.</span><span class="n">gpg</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">php</span><span class="o">.</span><span class="n">gpg</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">packages</span><span class="o">.</span><span class="n">sury</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">php</span><span class="o">/</span><span class="n">apt</span><span class="o">.</span><span class="n">gpg</span>
<span class="n">sudo</span> <span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;echo &quot;deb https://packages.sury.org/php/ $(lsb_release -sc) main&quot; &gt; /etc/apt/sources.list.d/php.list&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">php</span> <span class="o">-</span><span class="n">v</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>PHP 8.2.12 (cli) (built: Oct 27 2023 13:01:32) (NTS)
Copyright (c) The PHP Group
Zend Engine v4.2.12, Copyright (c) Zend Technologies
    with Zend OPcache v8.2.12, Copyright (c), by Zend Technologies
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">php</span> <span class="o">--</span><span class="n">ini</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Configuration File (php.ini) Path: /etc/php/8.2/cli
Loaded Configuration File:         /etc/php/8.2/cli/php.ini
Scan for additional .ini files in: /etc/php/8.2/cli/conf.d
Additional .ini files parsed:      /etc/php/8.2/cli/conf.d/10-mysqlnd.ini,
/etc/php/8.2/cli/conf.d/10-opcache.ini,
/etc/php/8.2/cli/conf.d/10-pdo.ini,
/etc/php/8.2/cli/conf.d/15-xml.ini,
/etc/php/8.2/cli/conf.d/20-bcmath.ini,
/etc/php/8.2/cli/conf.d/20-calendar.ini,
/etc/php/8.2/cli/conf.d/20-ctype.ini,
/etc/php/8.2/cli/conf.d/20-curl.ini,
/etc/php/8.2/cli/conf.d/20-dom.ini,
/etc/php/8.2/cli/conf.d/20-exif.ini,
/etc/php/8.2/cli/conf.d/20-ffi.ini,
/etc/php/8.2/cli/conf.d/20-fileinfo.ini,
/etc/php/8.2/cli/conf.d/20-ftp.ini,
/etc/php/8.2/cli/conf.d/20-gd.ini,
/etc/php/8.2/cli/conf.d/20-gettext.ini,
/etc/php/8.2/cli/conf.d/20-iconv.ini,
/etc/php/8.2/cli/conf.d/20-intl.ini,
/etc/php/8.2/cli/conf.d/20-mbstring.ini,
/etc/php/8.2/cli/conf.d/20-mysqli.ini,
/etc/php/8.2/cli/conf.d/20-pdo_mysql.ini,
/etc/php/8.2/cli/conf.d/20-phar.ini,
/etc/php/8.2/cli/conf.d/20-posix.ini,
/etc/php/8.2/cli/conf.d/20-readline.ini,
/etc/php/8.2/cli/conf.d/20-shmop.ini,
/etc/php/8.2/cli/conf.d/20-simplexml.ini,
/etc/php/8.2/cli/conf.d/20-soap.ini,
/etc/php/8.2/cli/conf.d/20-sockets.ini,
/etc/php/8.2/cli/conf.d/20-sysvmsg.ini,
/etc/php/8.2/cli/conf.d/20-sysvsem.ini,
/etc/php/8.2/cli/conf.d/20-sysvshm.ini,
/etc/php/8.2/cli/conf.d/20-tokenizer.ini,
/etc/php/8.2/cli/conf.d/20-xmlreader.ini,
/etc/php/8.2/cli/conf.d/20-xmlwriter.ini,
/etc/php/8.2/cli/conf.d/20-xsl.ini,
/etc/php/8.2/cli/conf.d/20-zip.ini

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">php</span> <span class="o">-</span><span class="n">m</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[PHP Modules]
bcmath
calendar
Core
ctype
curl
date
dom
exif
FFI
fileinfo
filter
ftp
gd
gettext
hash
iconv
intl
json
libxml
mbstring
mysqli
mysqlnd
openssl
pcntl
pcre
PDO
pdo_mysql
Phar
posix
random
readline
Reflection
session
shmop
SimpleXML
soap
sockets
sodium
SPL
standard
sysvmsg
sysvsem
sysvshm
tokenizer
xml
xmlreader
xmlwriter
xsl
Zend OPcache
zip
zlib

[Zend Modules]
Zend OPcache

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="n">bcmath</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="n">curl</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="n">dom</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="n">gd</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="n">intl</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="n">mysql</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="n">simplexml</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="n">soap</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="n">xsl</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php8</span><span class="mf">.2</span><span class="o">-</span><span class="nb">zip</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">php</span><span class="o">-</span><span class="n">mbstring</span>
</pre></div>

    </div>
</div>
</div>

</div>
 




<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">composer</span> <span class="k">global</span> <span class="n">require</span> <span class="n">psy</span><span class="o">/</span><span class="n">psysh</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">~/.</span><span class="n">config</span><span class="o">/</span><span class="n">composer</span><span class="o">/</span><span class="n">vendor</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">psysh</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>zmq</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">zeromq</span><span class="o">/</span><span class="n">php</span><span class="o">-</span><span class="n">zmq</span><span class="o">.</span><span class="n">git</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">php</span><span class="o">-</span><span class="n">zmq</span> <span class="o">&amp;&amp;</span> <span class="n">phpize</span> <span class="o">&amp;&amp;</span> <span class="o">./</span><span class="n">configure</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">php</span><span class="o">-</span><span class="n">zmq</span> <span class="o">&amp;&amp;</span> <span class="n">make</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">php</span><span class="o">-</span><span class="n">zmq</span> <span class="o">&amp;&amp;</span> <span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>jupyter-php-kernel</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">amemoba</span><span class="o">/</span><span class="n">jupyter</span><span class="o">-</span><span class="n">php</span><span class="o">-</span><span class="n">kernel</span><span class="o">.</span><span class="n">git</span> <span class="o">~/</span><span class="n">jupyter</span><span class="o">-</span><span class="n">php</span><span class="o">-</span><span class="n">kernel</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">jupyter</span><span class="o">-</span><span class="n">php</span><span class="o">-</span><span class="n">kernel</span> <span class="o">&amp;&amp;</span> <span class="n">composer</span> <span class="n">install</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><a target="_blank" rel="noopener" href="https://github.com/amemoba/jupyter-php-install">jupyter-php-install</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">amemoba</span><span class="o">/</span><span class="n">jupyter</span><span class="o">-</span><span class="n">php</span><span class="o">-</span><span class="n">install</span><span class="o">.</span><span class="n">git</span> <span class="o">~/</span><span class="n">jupyter</span><span class="o">-</span><span class="n">php</span><span class="o">-</span><span class="n">install</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">jupyter</span><span class="o">-</span><span class="n">php</span><span class="o">-</span><span class="n">install</span> <span class="o">&amp;&amp;</span> <span class="n">composer</span> <span class="n">install</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">jupyter</span><span class="o">-</span><span class="n">php</span><span class="o">-</span><span class="n">install</span> <span class="o">&amp;&amp;</span> <span class="n">php</span> <span class="n">src</span><span class="o">/</span><span class="n">EntryPoint</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">php</span> <span class="o">-</span><span class="n">v</span> <span class="n">install</span>
</pre></div>

    </div>
</div>
</div>

</div>
 




<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">docker</span><span class="o">.</span><span class="n">io</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">usermod</span> <span class="o">-</span><span class="n">aG</span> <span class="n">docker</span> <span class="n">saintway</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">docker</span> <span class="n">network</span> <span class="n">create</span> <span class="n">elastic</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0c4dc0164ede8ec461c44d0e10dc522d1fea16de38298432c3ab1892c026869b
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/run-elasticsearch-locally.html">Elasticsearch 8.10.2</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">docker</span> <span class="n">pull</span> <span class="n">docker</span><span class="o">.</span><span class="n">elastic</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="n">elasticsearch</span><span class="p">:</span><span class="mf">8.10.2</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">name</span> <span class="n">elasticsearch</span> <span class="o">--</span><span class="n">net</span> <span class="n">elastic</span> <span class="o">-</span><span class="n">p</span> <span class="mi">9200</span><span class="p">:</span><span class="mi">9200</span> <span class="o">-</span><span class="n">p</span> <span class="mi">9300</span><span class="p">:</span><span class="mi">9300</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;discovery.type=single-node&quot;</span> <span class="o">-</span><span class="n">t</span> <span class="n">docker</span><span class="o">.</span><span class="n">elastic</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="n">elasticsearch</span><span class="p">:</span><span class="mf">8.10.2</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.17/getting-started.html">Elasticsearch 7.17.13</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">docker</span> <span class="n">pull</span> <span class="n">docker</span><span class="o">.</span><span class="n">elastic</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="n">elasticsearch</span><span class="p">:</span><span class="mf">7.17.13</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>7.17.13: Pulling from elasticsearch/elasticsearch

5e7b73a4: Pulling fs layer 
133c4766: Pulling fs layer 
ff004a8c: Pulling fs layer 
2bc75041: Pulling fs layer 
4cd7d8ab: Pulling fs layer 
59d44b65: Pulling fs layer 
e327c328: Pulling fs layer 
54e541f7: Pulling fs layer 
c4728702: Pulling fs layer 
Digest: sha256:67b2d720621da7092ef18fe5ccca2eeb7b863b55d4bcee30108224520aebd92c
Status: Downloaded newer image for docker.elastic.co/elasticsearch/elasticsearch:7.17.13
docker.elastic.co/elasticsearch/elasticsearch:7.17.13
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">name</span> <span class="n">elasticsearch</span> <span class="o">--</span><span class="n">net</span> <span class="n">elastic</span> <span class="o">-</span><span class="n">p</span> <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">9200</span><span class="p">:</span><span class="mi">9200</span> <span class="o">-</span><span class="n">p</span> <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">9300</span><span class="p">:</span><span class="mi">9300</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;discovery.type=single-node&quot;</span> <span class="n">docker</span><span class="o">.</span><span class="n">elastic</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="n">elasticsearch</span><span class="p">:</span><span class="mf">7.17.13</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">9200</span><span class="o">/</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">docker</span> <span class="n">start</span> <span class="n">elasticsearch</span>
<span class="n">docker</span> <span class="n">logs</span> <span class="n">elasticsearch</span>
</pre></div>

    </div>
</div>
</div>

</div>
 




<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">apache2</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><a target="_blank" rel="noopener" href="https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html">https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">composer</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">composer</span> <span class="n">create</span><span class="o">-</span><span class="n">project</span> <span class="o">--</span><span class="n">repository</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">repo</span><span class="o">.</span><span class="n">magento</span><span class="o">.</span><span class="n">com</span><span class="o">/</span> <span class="n">magento</span><span class="o">/</span><span class="n">project</span><span class="o">-</span><span class="n">community</span><span class="o">-</span><span class="n">edition</span> <span class="o">~/</span><span class="n">magento2</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><a target="_blank" rel="noopener" href="https://developer.adobe.com/commerce/contributor/guides/install/">https://developer.adobe.com/commerce/contributor/guides/install/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">magento</span><span class="o">/</span><span class="n">magento2</span> <span class="o">~/</span><span class="n">magento2</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">fetch</span> <span class="o">--</span><span class="n">tags</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>remote: Enumerating objects: 1173, done.        
remote: Counting objects: 100% (1173/1173), done.        
remote: Compressing objects: 100% (450/450), done.        
remote: Total 1173 (delta 661), reused 1065 (delta 638), pack-reused 0        
Receiving objects: 100% (1173/1173), 388.05 KiB | 3.66 MiB/s, done.
Resolving deltas: 100% (661/661), completed with 46 local objects.
From https://github.com/magento/magento2
 * [new tag]                 2.4.4-p6    -&gt; 2.4.4-p6
 * [new tag]                 2.4.5-p5    -&gt; 2.4.5-p5
 * [new tag]                 2.4.6-p3    -&gt; 2.4.6-p3
 * [new tag]                 2.4.7-beta2 -&gt; 2.4.7-beta2
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">checkout</span> <span class="mf">2.4.6</span><span class="o">-</span><span class="n">p3</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Previous HEAD position was 37861a4025e Magento Release 2.4.6-p2
HEAD is now at 6cc0d28cf66 Magento Release 2.4.6-p3
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span> <span class="o">&amp;&amp;</span> <span class="n">composer</span> <span class="n">install</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
    <span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># --admin-firstname=i \</span>
<span class="c1"># --admin-lastname=sei \</span>
<span class="c1"># --admin-email=sei@ekp.co.jp \</span>
<span class="c1"># --admin-user=ekp \</span>
<span class="c1"># --admin-password=5b0gs9x \</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="n">yes</span> <span class="o">|</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">setup</span><span class="p">:</span><span class="n">uninstall</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">setup</span><span class="p">:</span><span class="n">install</span> \
<span class="o">--</span><span class="n">base</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">jhub</span><span class="o">.</span><span class="n">name</span><span class="p">:</span><span class="mi">8890</span> \
<span class="o">--</span><span class="n">db</span><span class="o">-</span><span class="n">host</span><span class="o">=</span><span class="mf">127.0.0.1</span> \
<span class="o">--</span><span class="n">db</span><span class="o">-</span><span class="n">name</span><span class="o">=</span><span class="n">mobaichi</span> \
<span class="o">--</span><span class="n">db</span><span class="o">-</span><span class="n">user</span><span class="o">=</span><span class="n">ekp</span> \
<span class="o">--</span><span class="n">db</span><span class="o">-</span><span class="n">password</span><span class="o">=</span><span class="n">ekp</span> \
<span class="o">--</span><span class="n">admin</span><span class="o">-</span><span class="n">firstname</span><span class="o">=</span><span class="n">i</span> \
<span class="o">--</span><span class="n">admin</span><span class="o">-</span><span class="n">lastname</span><span class="o">=</span><span class="n">sei</span> \
<span class="o">--</span><span class="n">admin</span><span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="n">sei</span><span class="nd">@ekp</span><span class="o">.</span><span class="n">co</span><span class="o">.</span><span class="n">jp</span> \
<span class="o">--</span><span class="n">admin</span><span class="o">-</span><span class="n">user</span><span class="o">=</span><span class="n">ekp</span> \
<span class="o">--</span><span class="n">admin</span><span class="o">-</span><span class="n">password</span><span class="o">=</span><span class="mi">5</span><span class="n">b0gs9x</span> \
<span class="o">--</span><span class="n">language</span><span class="o">=</span><span class="n">ja_JP</span> \
<span class="o">--</span><span class="n">currency</span><span class="o">=</span><span class="n">JPY</span> \
<span class="o">--</span><span class="n">timezone</span><span class="o">=</span><span class="n">Asia</span><span class="o">/</span><span class="n">Tokyo</span> \
<span class="o">--</span><span class="n">use</span><span class="o">-</span><span class="n">rewrites</span><span class="o">=</span><span class="mi">1</span> \
<span class="o">--</span><span class="n">search</span><span class="o">-</span><span class="n">engine</span><span class="o">=</span><span class="n">elasticsearch7</span> \
<span class="o">--</span><span class="n">elasticsearch</span><span class="o">-</span><span class="n">host</span><span class="o">=</span><span class="n">localhost</span> \
<span class="o">--</span><span class="n">elasticsearch</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">9200</span> \
<span class="o">--</span><span class="n">elasticsearch</span><span class="o">-</span><span class="n">index</span><span class="o">-</span><span class="n">prefix</span><span class="o">=</span><span class="n">mobaichi</span> \
<span class="o">--</span><span class="n">elasticsearch</span><span class="o">-</span><span class="n">timeout</span><span class="o">=</span><span class="mi">15</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-blue-fg">Starting Magento installation:</span>
<span class="ansi-blue-fg">File permissions check...</span>
<span class="ansi-cyan-fg">[Progress: 1 / 851]</span>
<span class="ansi-blue-fg">Required extensions check...</span>
<span class="ansi-cyan-fg">[Progress: 2 / 851]</span>
<span class="ansi-blue-fg">Enabling Maintenance Mode...</span>
<span class="ansi-cyan-fg">[Progress: 3 / 851]</span>
<span class="ansi-blue-fg">Installing deployment configuration...</span>
<span class="ansi-cyan-fg">[Progress: 4 / 851]</span>
<span class="ansi-blue-fg">Installing database schema:</span>
<span class="ansi-blue-fg">Schema creation/updates:</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdminAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 5 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Store&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 6 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdvancedPricingImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 7 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Directory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 8 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Amqp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 9 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Config&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 10 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Theme&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 11 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Backend&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 12 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Variable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 13 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Search&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 14 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Backup&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 15 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Eav&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 16 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Customer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 17 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_BundleImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 18 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CacheInvalidate&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 19 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdminNotification&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 20 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Indexer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 21 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 22 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Security&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 23 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Authorization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 24 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 25 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_StoreGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 26 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 27 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Catalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 28 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 29 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Rule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 30 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Payment&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 31 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRuleGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 32 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 33 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogUrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 34 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_EavGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 35 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Widget&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 36 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Quote&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 37 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesSequence&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 38 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CheckoutAgreementsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 39 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Bundle&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 40 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 41 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsUrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 42 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsUrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 43 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 44 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_User&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 45 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Msrp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 46 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Sales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 47 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 48 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Checkout&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 49 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Contact&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 50 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cookie&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 51 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cron&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 52 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Csp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 53 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CurrencySymbol&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 54 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogCustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 55 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Integration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 56 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Downloadable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 57 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 58 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 59 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Deploy&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 60 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Developer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 61 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Dhl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 62 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AsynchronousOperations&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 63 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DirectoryGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 64 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DownloadableGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 65 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerDownloadableGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 66 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 67 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Captcha&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 68 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_BundleGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 69 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 70 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdvancedSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 71 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Email&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 72 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_EncryptionKey&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 73 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Fedex&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 74 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GiftMessage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 75 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GiftMessageGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 76 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleAdwords&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 77 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 78 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleGtag&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 79 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Ui&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 80 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogCmsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 81 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PageCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 82 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 83 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 84 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedCatalogInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 85 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 86 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DownloadableImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 87 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 88 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_InstantPurchase&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 89 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Analytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 90 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_JwtFrameworkAdapter&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 91 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_JwtUserToken&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 92 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LayeredNavigation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 93 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 94 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerAdminUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 95 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 96 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerAssistance&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 97 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerFrontendUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 98 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 99 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerLog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 100 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerPageCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 101 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerQuote&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 102 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerSales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 103 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Marketplace&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 104 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContent&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 105 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 106 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 107 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentCms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 108 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 109 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 110 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 111 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationCms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 112 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallery&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 113 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 114 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 115 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalogIntegration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 116 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalogUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 117 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCmsUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 118 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryIntegration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 119 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryMetadata&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 120 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryMetadataApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 121 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryRenditions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 122 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryRenditionsApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 123 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 124 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronizationApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 125 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronizationMetadata&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 126 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 127 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryUiApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 128 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Robots&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 129 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MessageQueue&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 130 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRuleConfigurable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 131 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MsrpConfigurableProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 132 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MsrpGroupedProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 133 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Multishipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 134 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MysqlMq&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 135 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_NewRelicReporting&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 136 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Newsletter&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 137 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_NewsletterGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 138 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OfflinePayments&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 139 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesRule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 140 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Elasticsearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 141 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GraphQlCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 142 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CardinalCommerce&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 143 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaymentGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 144 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Vault&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 145 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Paypal&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 146 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaypalGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 147 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Persistent&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 148 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ProductAlert&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 149 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ProductVideo&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 150 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CheckoutAgreements&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 151 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 152 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteBundleOptions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 153 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteConfigurableOptions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 154 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteDownloadableLinks&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 155 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 156 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RelatedProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 157 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReleaseNotification&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 158 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Sitemap&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 159 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Reports&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 160 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RequireJs&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 161 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Review&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 162 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReviewAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 163 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReviewGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 164 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaStorage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 165 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Rss&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 166 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Elasticsearch7&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 167 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProductSales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 168 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 169 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 170 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 171 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OfflineShipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 172 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 173 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_UrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 174 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OpenSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 175 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 176 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SendFriend&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 177 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SendFriendGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 178 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Shipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 179 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RemoteStorage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 180 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AwsS3&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 181 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_UrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 182 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Webapi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 183 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwaggerWebapi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 184 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwaggerWebapiAsync&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 185 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Swatches&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 186 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwatchesGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 187 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwatchesLayeredNavigation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 188 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Tax&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 189 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_TaxGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 190 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_TaxImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 191 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CompareListGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 192 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ThemeGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 193 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Translation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 194 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleOptimizer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 195 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Ups&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 196 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SampleData&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 197 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogUrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 198 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 199 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Usps&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 200 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogInventoryGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 201 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaypalCaptcha&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 202 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_VaultGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 203 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Version&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 204 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Swagger&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 205 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WebapiAsync&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 206 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WebapiSecurity&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 207 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Weee&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 208 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WeeeGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 209 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogWidget&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 210 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Wishlist&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 211 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WishlistAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 212 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WishlistGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 213 / 851]</span>
<span class="ansi-blue-fg">Schema post-updates:</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdminAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 214 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Store&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 215 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdvancedPricingImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 216 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Directory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 217 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Amqp&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 218 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Config&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 219 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Theme&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 220 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Backend&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 221 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Variable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 222 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Search&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 223 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Backup&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 224 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Eav&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 225 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Customer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 226 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_BundleImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 227 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CacheInvalidate&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 228 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdminNotification&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 229 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Indexer&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 230 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 231 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Security&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 232 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Authorization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 233 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 234 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_StoreGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 235 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 236 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Catalog&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 237 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogInventory&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 238 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Rule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 239 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Payment&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 240 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRuleGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 241 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 242 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogUrlRewrite&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 243 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_EavGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 244 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Widget&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 245 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Quote&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 246 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesSequence&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 247 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CheckoutAgreementsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 248 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Bundle&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 249 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 250 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsUrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 251 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsUrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 252 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 253 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_User&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 254 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Msrp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 255 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Sales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 256 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 257 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Checkout&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 258 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Contact&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 259 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cookie&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 260 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cron&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 261 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Csp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 262 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CurrencySymbol&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 263 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogCustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 264 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Integration&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 265 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Downloadable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 266 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 267 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 268 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Deploy&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 269 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Developer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 270 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Dhl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 271 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AsynchronousOperations&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 272 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DirectoryGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 273 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DownloadableGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 274 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerDownloadableGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 275 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 276 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Captcha&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 277 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_BundleGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 278 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 279 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdvancedSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 280 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Email&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 281 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_EncryptionKey&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 282 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Fedex&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 283 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GiftMessage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 284 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GiftMessageGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 285 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleAdwords&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 286 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 287 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleGtag&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 288 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Ui&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 289 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogCmsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 290 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PageCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 291 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 292 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 293 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedCatalogInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 294 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 295 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DownloadableImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 296 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProduct&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 297 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_InstantPurchase&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 298 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Analytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 299 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_JwtFrameworkAdapter&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 300 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_JwtUserToken&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 301 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LayeredNavigation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 302 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 303 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerAdminUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 304 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 305 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerAssistance&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 306 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerFrontendUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 307 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 308 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerLog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 309 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerPageCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 310 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerQuote&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 311 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerSales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 312 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Marketplace&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 313 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContent&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 314 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 315 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 316 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentCms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 317 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 318 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 319 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 320 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationCms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 321 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallery&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 322 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 323 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 324 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalogIntegration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 325 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalogUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 326 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCmsUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 327 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryIntegration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 328 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryMetadata&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 329 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryMetadataApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 330 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryRenditions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 331 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryRenditionsApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 332 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 333 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronizationApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 334 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronizationMetadata&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 335 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 336 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryUiApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 337 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Robots&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 338 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MessageQueue&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 339 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRuleConfigurable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 340 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MsrpConfigurableProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 341 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MsrpGroupedProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 342 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Multishipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 343 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MysqlMq&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 344 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_NewRelicReporting&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 345 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Newsletter&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 346 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_NewsletterGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 347 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OfflinePayments&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 348 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesRule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 349 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Elasticsearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 350 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GraphQlCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 351 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CardinalCommerce&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 352 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaymentGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 353 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Vault&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 354 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Paypal&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 355 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaypalGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 356 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Persistent&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 357 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ProductAlert&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 358 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ProductVideo&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 359 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CheckoutAgreements&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 360 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 361 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteBundleOptions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 362 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteConfigurableOptions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 363 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteDownloadableLinks&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 364 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 365 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RelatedProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 366 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReleaseNotification&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 367 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Sitemap&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 368 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Reports&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 369 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RequireJs&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 370 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Review&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 371 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReviewAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 372 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReviewGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 373 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaStorage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 374 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Rss&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 375 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Elasticsearch7&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 376 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProductSales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 377 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 378 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 379 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 380 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OfflineShipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 381 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 382 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_UrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 383 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OpenSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 384 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 385 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SendFriend&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 386 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SendFriendGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 387 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Shipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 388 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RemoteStorage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 389 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AwsS3&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 390 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_UrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 391 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Webapi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 392 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwaggerWebapi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 393 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwaggerWebapiAsync&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 394 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Swatches&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 395 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwatchesGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 396 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwatchesLayeredNavigation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 397 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Tax&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 398 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_TaxGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 399 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_TaxImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 400 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CompareListGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 401 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ThemeGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 402 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Translation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 403 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleOptimizer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 404 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Ups&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 405 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SampleData&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 406 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogUrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 407 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 408 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Usps&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 409 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogInventoryGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 410 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaypalCaptcha&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 411 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_VaultGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 412 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Version&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 413 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Swagger&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 414 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WebapiAsync&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 415 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WebapiSecurity&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 416 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Weee&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 417 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WeeeGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 418 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogWidget&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 419 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Wishlist&#39;:</span>
<span class="ansi-blue-fg">Running schema recurring...</span>
<span class="ansi-cyan-fg">[Progress: 420 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WishlistAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 421 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WishlistGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 422 / 851]</span>
<span class="ansi-cyan-fg">[Progress: 423 / 851]</span>
<span class="ansi-blue-fg">Installing search configuration...</span>
<span class="ansi-cyan-fg">[Progress: 424 / 851]</span>
<span class="ansi-blue-fg">Validating remote storage configuration...</span>
<span class="ansi-cyan-fg">[Progress: 425 / 851]</span>
<span class="ansi-blue-fg">Installing user configuration...</span>
<span class="ansi-cyan-fg">[Progress: 426 / 851]</span>
<span class="ansi-blue-fg">Enabling caches:</span>
<span class="ansi-blue-fg">Current status:</span>
<span class="ansi-blue-fg">config: 1</span>
<span class="ansi-blue-fg">layout: 1</span>
<span class="ansi-blue-fg">block_html: 1</span>
<span class="ansi-blue-fg">collections: 1</span>
<span class="ansi-blue-fg">reflection: 1</span>
<span class="ansi-blue-fg">db_ddl: 1</span>
<span class="ansi-blue-fg">compiled_config: 1</span>
<span class="ansi-blue-fg">eav: 1</span>
<span class="ansi-blue-fg">customer_notification: 1</span>
<span class="ansi-blue-fg">config_integration: 1</span>
<span class="ansi-blue-fg">config_integration_api: 1</span>
<span class="ansi-blue-fg">full_page: 1</span>
<span class="ansi-blue-fg">config_webservice: 1</span>
<span class="ansi-blue-fg">translate: 1</span>
<span class="ansi-cyan-fg">[Progress: 427 / 851]</span>
<span class="ansi-blue-fg">Installing data...</span>
<span class="ansi-blue-fg">Data install/update:</span>
<span class="ansi-blue-fg">Disabling caches:</span>
<span class="ansi-blue-fg">Current status:</span>
<span class="ansi-blue-fg">layout: 0</span>
<span class="ansi-blue-fg">block_html: 0</span>
<span class="ansi-blue-fg">full_page: 0</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdminAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 428 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Store&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 429 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdvancedPricingImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 430 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Directory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 431 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Amqp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 432 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Config&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 433 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Theme&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 434 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Backend&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 435 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Variable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 436 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Search&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 437 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Backup&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 438 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Eav&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 439 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Customer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 440 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_BundleImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 441 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CacheInvalidate&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 442 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdminNotification&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 443 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Indexer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 444 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 445 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Security&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 446 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Authorization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 447 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 448 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_StoreGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 449 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 450 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Catalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 451 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 452 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Rule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 453 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Payment&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 454 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRuleGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 455 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 456 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogUrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 457 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_EavGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 458 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Widget&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 459 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Quote&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 460 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesSequence&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 461 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CheckoutAgreementsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 462 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Bundle&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 463 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 464 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsUrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 465 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsUrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 466 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 467 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_User&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 468 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Msrp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 469 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Sales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 470 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 471 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Checkout&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 472 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Contact&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 473 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cookie&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 474 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cron&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 475 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Csp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 476 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CurrencySymbol&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 477 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogCustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 478 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Integration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 479 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Downloadable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 480 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 481 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 482 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Deploy&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 483 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Developer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 484 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Dhl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 485 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AsynchronousOperations&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 486 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DirectoryGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 487 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DownloadableGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 488 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerDownloadableGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 489 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 490 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Captcha&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 491 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_BundleGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 492 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 493 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdvancedSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 494 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Email&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 495 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_EncryptionKey&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 496 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Fedex&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 497 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GiftMessage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 498 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GiftMessageGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 499 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleAdwords&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 500 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 501 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleGtag&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 502 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Ui&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 503 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogCmsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 504 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PageCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 505 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 506 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 507 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedCatalogInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 508 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 509 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DownloadableImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 510 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 511 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_InstantPurchase&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 512 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Analytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 513 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_JwtFrameworkAdapter&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 514 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_JwtUserToken&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 515 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LayeredNavigation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 516 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 517 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerAdminUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 518 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 519 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerAssistance&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 520 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerFrontendUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 521 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 522 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerLog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 523 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerPageCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 524 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerQuote&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 525 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerSales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 526 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Marketplace&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 527 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContent&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 528 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 529 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 530 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentCms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 531 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 532 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 533 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 534 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationCms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 535 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallery&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 536 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 537 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 538 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalogIntegration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 539 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalogUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 540 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCmsUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 541 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryIntegration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 542 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryMetadata&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 543 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryMetadataApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 544 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryRenditions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 545 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryRenditionsApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 546 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 547 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronizationApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 548 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronizationMetadata&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 549 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 550 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryUiApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 551 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Robots&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 552 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MessageQueue&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 553 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRuleConfigurable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 554 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MsrpConfigurableProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 555 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MsrpGroupedProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 556 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Multishipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 557 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MysqlMq&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 558 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_NewRelicReporting&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 559 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Newsletter&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 560 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_NewsletterGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 561 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OfflinePayments&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 562 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesRule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 563 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Elasticsearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 564 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GraphQlCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 565 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CardinalCommerce&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 566 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaymentGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 567 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Vault&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 568 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Paypal&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 569 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaypalGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 570 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Persistent&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 571 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ProductAlert&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 572 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ProductVideo&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 573 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CheckoutAgreements&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 574 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 575 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteBundleOptions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 576 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteConfigurableOptions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 577 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteDownloadableLinks&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 578 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 579 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RelatedProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 580 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReleaseNotification&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 581 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Sitemap&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 582 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Reports&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 583 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RequireJs&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 584 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Review&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 585 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReviewAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 586 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReviewGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 587 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaStorage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 588 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Rss&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 589 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Elasticsearch7&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 590 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProductSales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 591 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 592 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 593 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 594 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OfflineShipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 595 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 596 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_UrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 597 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OpenSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 598 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 599 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SendFriend&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 600 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SendFriendGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 601 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Shipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 602 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RemoteStorage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 603 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AwsS3&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 604 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_UrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 605 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Webapi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 606 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwaggerWebapi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 607 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwaggerWebapiAsync&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 608 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Swatches&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 609 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwatchesGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 610 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwatchesLayeredNavigation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 611 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Tax&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 612 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_TaxGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 613 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_TaxImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 614 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CompareListGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 615 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ThemeGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 616 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Translation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 617 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleOptimizer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 618 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Ups&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 619 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SampleData&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 620 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogUrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 621 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 622 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Usps&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 623 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogInventoryGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 624 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaypalCaptcha&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 625 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_VaultGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 626 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Version&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 627 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Swagger&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 628 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WebapiAsync&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 629 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WebapiSecurity&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 630 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Weee&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 631 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WeeeGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 632 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogWidget&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 633 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Wishlist&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 634 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WishlistAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 635 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WishlistGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 636 / 851]</span>
<span class="ansi-blue-fg">Data post-updates:</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdminAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 637 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Store&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 638 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdvancedPricingImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 639 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Directory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 640 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Amqp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 641 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Config&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 642 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Theme&#39;:</span>
<span class="ansi-blue-fg">Running data recurring...</span>
<span class="ansi-cyan-fg">[Progress: 643 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Backend&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 644 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Variable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 645 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Search&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 646 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Backup&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 647 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Eav&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 648 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Customer&#39;:</span>
<span class="ansi-blue-fg">Running data recurring...</span>
<span class="ansi-cyan-fg">[Progress: 649 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_BundleImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 650 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CacheInvalidate&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 651 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdminNotification&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 652 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Indexer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 653 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 654 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Security&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 655 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Authorization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 656 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 657 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_StoreGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 658 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 659 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Catalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 660 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 661 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Rule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 662 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Payment&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 663 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRuleGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 664 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 665 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogUrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 666 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_EavGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 667 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Widget&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 668 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Quote&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 669 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesSequence&#39;:</span>
<span class="ansi-blue-fg">Running data recurring...</span>
<span class="ansi-cyan-fg">[Progress: 670 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CheckoutAgreementsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 671 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Bundle&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 672 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 673 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsUrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 674 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CmsUrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 675 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 676 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_User&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 677 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Msrp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 678 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Sales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 679 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 680 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Checkout&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 681 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Contact&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 682 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cookie&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 683 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Cron&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 684 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Csp&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 685 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CurrencySymbol&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 686 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogCustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 687 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Integration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 688 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Downloadable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 689 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 690 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 691 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Deploy&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 692 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Developer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 693 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Dhl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 694 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AsynchronousOperations&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 695 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DirectoryGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 696 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DownloadableGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 697 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerDownloadableGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 698 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 699 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Captcha&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 700 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_BundleGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 701 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 702 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AdvancedSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 703 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Email&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 704 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_EncryptionKey&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 705 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Fedex&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 706 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GiftMessage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 707 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GiftMessageGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 708 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleAdwords&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 709 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 710 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleGtag&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 711 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Ui&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 712 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogCmsGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 713 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PageCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 714 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 715 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 716 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedCatalogInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 717 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GroupedProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 718 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_DownloadableImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 719 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 720 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_InstantPurchase&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 721 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Analytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 722 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_JwtFrameworkAdapter&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 723 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_JwtUserToken&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 724 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LayeredNavigation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 725 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 726 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerAdminUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 727 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 728 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerAssistance&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 729 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerFrontendUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 730 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 731 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerLog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 732 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerPageCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 733 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerQuote&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 734 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_LoginAsCustomerSales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 735 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Marketplace&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 736 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContent&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 737 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 738 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 739 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentCms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 740 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 741 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 742 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 743 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaContentSynchronizationCms&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 744 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallery&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 745 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 746 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalog&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 747 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalogIntegration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 748 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCatalogUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 749 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryCmsUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 750 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryIntegration&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 751 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryMetadata&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 752 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryMetadataApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 753 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryRenditions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 754 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryRenditionsApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 755 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronization&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 756 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronizationApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 757 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGallerySynchronizationMetadata&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 758 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryUi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 759 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaGalleryUiApi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 760 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Robots&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 761 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MessageQueue&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 762 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogRuleConfigurable&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 763 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MsrpConfigurableProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 764 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MsrpGroupedProduct&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 765 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Multishipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 766 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MysqlMq&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 767 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_NewRelicReporting&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 768 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Newsletter&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 769 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_NewsletterGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 770 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OfflinePayments&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 771 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesRule&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 772 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Elasticsearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 773 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GraphQlCache&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 774 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CardinalCommerce&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 775 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaymentGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 776 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Vault&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 777 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Paypal&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 778 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaypalGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 779 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Persistent&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 780 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ProductAlert&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 781 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ProductVideo&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 782 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CheckoutAgreements&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 783 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 784 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteBundleOptions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 785 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteConfigurableOptions&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 786 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_QuoteDownloadableLinks&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 787 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 788 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RelatedProductGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 789 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReleaseNotification&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 790 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Sitemap&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 791 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Reports&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 792 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RequireJs&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 793 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Review&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 794 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReviewAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 795 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ReviewGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 796 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_MediaStorage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 797 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Rss&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 798 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Elasticsearch7&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 799 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableProductSales&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 800 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 801 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 802 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SalesInventory&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 803 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OfflineShipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 804 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ConfigurableImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 805 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_UrlRewrite&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 806 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_OpenSearch&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 807 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CustomerAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 808 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SendFriend&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 809 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SendFriendGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 810 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Shipping&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 811 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_RemoteStorage&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 812 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_AwsS3&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 813 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_UrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 814 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Webapi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 815 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwaggerWebapi&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 816 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwaggerWebapiAsync&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 817 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Swatches&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 818 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwatchesGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 819 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SwatchesLayeredNavigation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 820 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Tax&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 821 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_TaxGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 822 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_TaxImportExport&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 823 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CompareListGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 824 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_ThemeGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 825 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Translation&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 826 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_GoogleOptimizer&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 827 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Ups&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 828 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_SampleData&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 829 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogUrlRewriteGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 830 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 831 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Usps&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 832 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogInventoryGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 833 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_PaypalCaptcha&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 834 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_VaultGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 835 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Version&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 836 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Swagger&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 837 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WebapiAsync&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 838 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WebapiSecurity&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 839 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Weee&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 840 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WeeeGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 841 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_CatalogWidget&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 842 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_Wishlist&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 843 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WishlistAnalytics&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 844 / 851]</span>
<span class="ansi-blue-fg">Module &#39;Magento_WishlistGraphQl&#39;:</span>
<span class="ansi-cyan-fg">[Progress: 845 / 851]</span>
<span class="ansi-blue-fg">Enabling caches:</span>
<span class="ansi-blue-fg">Current status:</span>
<span class="ansi-blue-fg">layout: 1</span>
<span class="ansi-blue-fg">block_html: 1</span>
<span class="ansi-blue-fg">full_page: 1</span>
<span class="ansi-cyan-fg">[Progress: 846 / 851]</span>
<span class="ansi-blue-fg">Installing admin user...</span>
<span class="ansi-cyan-fg">[Progress: 847 / 851]</span>
<span class="ansi-blue-fg">Caches clearing:</span>
<span class="ansi-blue-fg">Cache cleared successfully</span>
<span class="ansi-cyan-fg">[Progress: 848 / 851]</span>
<span class="ansi-blue-fg">Disabling Maintenance Mode:</span>
<span class="ansi-cyan-fg">[Progress: 849 / 851]</span>
<span class="ansi-blue-fg">Post installation file permissions check...</span>
<span class="ansi-blue-fg">For security, remove write permissions from these directories: &#39;/home/jupyter-saintway/magento2/app/etc&#39;</span>
<span class="ansi-cyan-fg">[Progress: 850 / 851]</span>
<span class="ansi-blue-fg">Write installation date...</span>
<span class="ansi-cyan-fg">[Progress: 851 / 851]</span>
<span class="ansi-green-fg">[SUCCESS]: Magento installation complete.</span>
<span class="ansi-green-fg">[SUCCESS]: Magento Admin URI: /admin_1t4wii</span>
<span class="ansi-green-fg">Nothing to import.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">php</span> <span class="o">-</span><span class="n">S</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">8890</span> <span class="o">-</span><span class="n">t</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span><span class="n">phpserver</span><span class="o">/</span><span class="n">router</span><span class="o">.</span><span class="n">php</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[Thu Nov  2 14:54:31 2023] PHP 8.2.12 Development Server (http://localhost:8890) started
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">php</span> <span class="o">-</span><span class="n">S</span> <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8890</span> <span class="o">-</span><span class="n">t</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span><span class="n">phpserver</span><span class="o">/</span><span class="n">router</span><span class="o">.</span><span class="n">php</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cron</span><span class="p">:</span><span class="n">install</span> <span class="o">--</span><span class="n">force</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Crontab has been generated and saved</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">crontab</span> <span class="o">-</span><span class="n">l</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
#~ MAGENTO START cd95fadb56f392d0664922423b5cc7cdcbb5f1741b53b8cf4af80c8de1136992
* * * * * /usr/bin/php8.2 /home/saintway/amemoba-kobe/bin/magento cron:run 2&gt;&amp;1 | grep -v &#34;Ran jobs by schedule&#34; &gt;&gt; /home/saintway/amemoba-kobe/var/log/magento.cron.log
#~ MAGENTO END cd95fadb56f392d0664922423b5cc7cdcbb5f1741b53b8cf4af80c8de1136992

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cron</span><span class="p">:</span><span class="n">run</span> <span class="o">--</span><span class="n">group</span> <span class="n">index</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Ran jobs by schedule.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cron</span><span class="p">:</span><span class="n">run</span> <span class="o">--</span><span class="n">group</span> <span class="n">default</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Ran jobs by schedule.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cron</span><span class="p">:</span><span class="n">remove</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Magento cron tasks have been removed</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">help</span> <span class="n">setup</span><span class="p">:</span><span class="n">config</span><span class="p">:</span><span class="nb">set</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">help</span> <span class="n">setup</span><span class="p">:</span><span class="n">store</span><span class="o">-</span><span class="n">config</span><span class="p">:</span><span class="nb">set</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">help</span> <span class="n">config</span><span class="p">:</span><span class="nb">set</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="nb">list</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">app</span><span class="p">:</span><span class="n">config</span><span class="p">:</span><span class="n">status</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cache</span><span class="p">:</span><span class="n">clean</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cache</span><span class="p">:</span><span class="n">status</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">deploy</span><span class="p">:</span><span class="n">mode</span><span class="p">:</span><span class="nb">set</span> <span class="n">developer</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">deploy</span><span class="p">:</span><span class="n">mode</span><span class="p">:</span><span class="n">show</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">config</span><span class="p">:</span><span class="nb">set</span> <span class="n">web</span><span class="o">/</span><span class="n">url</span><span class="o">/</span><span class="n">redirect_to_base</span> <span class="mi">0</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Value was saved.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">config</span><span class="p">:</span><span class="nb">set</span> <span class="n">web</span><span class="o">/</span><span class="n">seo</span><span class="o">/</span><span class="n">use_rewrites</span> <span class="mi">0</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Value was saved.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">config</span><span class="p">:</span><span class="nb">set</span> <span class="n">web</span><span class="o">/</span><span class="n">unsecure</span><span class="o">/</span><span class="n">base_url</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">jhub</span><span class="o">.</span><span class="n">name</span><span class="p">:</span><span class="mi">8890</span><span class="o">/</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Value was saved.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">config</span><span class="p">:</span><span class="nb">set</span> <span class="n">web</span><span class="o">/</span><span class="n">secure</span><span class="o">/</span><span class="n">base_url</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">jhub</span><span class="o">.</span><span class="n">name</span><span class="p">:</span><span class="mi">8890</span><span class="o">/</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Value was saved.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">config</span><span class="p">:</span><span class="nb">set</span> <span class="n">web</span><span class="o">/</span><span class="n">unsecure</span><span class="o">/</span><span class="n">base_url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">jhub</span><span class="o">.</span><span class="n">name</span><span class="o">/</span><span class="n">magento</span><span class="o">/</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Value was saved.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">config</span><span class="p">:</span><span class="nb">set</span> <span class="n">web</span><span class="o">/</span><span class="n">secure</span><span class="o">/</span><span class="n">base_url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">jhub</span><span class="o">.</span><span class="n">name</span><span class="o">/</span><span class="n">magento</span><span class="o">/</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">Value was saved.</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">config</span><span class="p">:</span><span class="n">show</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>catalog/search/engine - elasticsearch7
catalog/search/elasticsearch7_server_hostname - localhost
catalog/search/elasticsearch7_server_port - 9200
catalog/search/elasticsearch7_index_prefix - mobaichi
catalog/search/elasticsearch7_server_timeout - 15
catalog/category/root_id - 2
web/seo/use_rewrites - 0
web/unsecure/base_url - https://jhub.name/magento/
web/unsecure/base_static_url - 
web/unsecure/base_media_url - 
web/secure/base_url - https://jhub.name/magento/
web/secure/base_static_url - 
web/secure/base_media_url - 
web/secure/enable_hsts - 0
web/secure/enable_upgrade_insecure - 0
web/default_layouts/default_product_layout - 
web/default_layouts/default_category_layout - 
web/default_layouts/default_cms_layout - 1column
web/cookie/cookie_path - 
web/cookie/cookie_domain - 
web/cookie/cookie_httponly - 1
web/url/redirect_to_base - 0
general/locale/code - ja_JP
general/locale/timezone - Asia/Tokyo
general/region/display_all - 1
general/region/state_required - AL,AR,AU,BG,BO,BR,BY,CA,CH,CL,CN,CO,CZ,DK,EC,EE,ES,GR,GY,HR,IN,IS,IT,LT,LV,MX,PE,PL,PT,PY,RO,SE,SR,US,UY,VE
currency/options/base - JPY
currency/options/default - JPY
currency/options/allow - JPY
analytics/subscription/enabled - 1
analytics/general/token - V8pH4aChkpnbnyrVHz7cpdqvcUAsB2Cx4XGM2OtPnozajEVcbB5j4e-IxRoy7pTyopfGHAcfSKcFFb8cCB8_fg
crontab/default/jobs/analytics_collect_data/schedule/cron_expr - 00 02 * * *
crontab/default/jobs/analytics_update/schedule/cron_expr - 0 * * * *
admin/usage/enabled - 0
paypal/general/merchant_country - JP
paypal/general/business_account - 
paypal/wpp/api_authentication - 0
paypal/wpp/api_username - 
paypal/wpp/api_password - 
paypal/wpp/api_signature - 
paypal/wpp/sandbox_flag - 0
paypal/wpp/use_proxy - 0
paypal/wpp/button_flavor - dynamic
paypal/fetch_reports/ftp_login - 
paypal/fetch_reports/ftp_password - 
paypal/fetch_reports/ftp_sandbox - 0
paypal/fetch_reports/ftp_ip - 
paypal/fetch_reports/ftp_path - 
paypal/fetch_reports/active - 0
paypal/fetch_reports/schedule - 1
paypal/fetch_reports/time - 00,00,00
paypal/style/logo - 
paypal/style/page_style - 
paypal/style/paypal_hdrimg - 
paypal/style/paypal_hdrbackcolor - 
paypal/style/paypal_hdrbordercolor - 
paypal/style/paypal_payflowcolor - 
paypal/style/checkout_page_button_customize - 0
paypal/style/product_page_button_customize - 0
paypal/style/cart_page_button_customize - 0
paypal/style/mini_cart_page_button_customize - 0
paypal/style/disable_funding_options - 
payment/komoju_payments/active - 1
payment/komoju_payments/merchant_id - d7b3l2bsi5k6jpnb6ekzc1zjl
payment/komoju_payments/secret_key - ******
payment/komoju_payments/webhook_secret_token - ******
payment/komoju_payments/title - 
payment/komoju_payments/show_title - 1
payment/paypal_express/active - 0
payment/paypal_express/in_context - 0
payment/paypal_express/title - PayPal Express Checkout
payment/paypal_express/sort_order - 
payment/paypal_express/payment_action - Authorization
payment/paypal_express/visible_on_product - 1
payment/paypal_express/visible_on_cart - 1
payment/paypal_express/allowspecific - 0
payment/paypal_express/debug - 0
payment/paypal_express/verify_peer - 1
payment/paypal_express/line_items_enabled - 1
payment/paypal_express/transfer_shipping_options - 0
payment/paypal_express/solution_type - Mark
payment/paypal_express/require_billing_address - 0
payment/paypal_express/allow_ba_signup - never
payment/paypal_express/skip_order_review_step - 1
payment/paypal_paylater/experience_active - 0
payment/paypal_express_bml/publisher_id - 
payment/paypal_express_bml/homepage_display - 0
payment/paypal_express_bml/homepage_position - 0
payment/paypal_express_bml/homepage_size - 190x100
payment/paypal_express_bml/categorypage_display - 0
payment/paypal_express_bml/categorypage_position - 0
payment/paypal_express_bml/categorypage_size - 190x100
payment/paypal_express_bml/productpage_display - 0
payment/paypal_express_bml/productpage_position - 0
payment/paypal_express_bml/productpage_size - 190x100
payment/paypal_express_bml/checkout_display - 0
payment/paypal_express_bml/checkout_position - 0
payment/paypal_express_bml/checkout_size - 234x60
payment/paypal_billing_agreement/active - 1
payment/paypal_billing_agreement/title - PayPal Billing Agreement
payment/paypal_billing_agreement/sort_order - 
payment/paypal_billing_agreement/payment_action - Authorization
payment/paypal_billing_agreement/allowspecific - 0
payment/paypal_billing_agreement/debug - 0
payment/paypal_billing_agreement/verify_peer - 1
payment/paypal_billing_agreement/line_items_enabled - 0
payment/paypal_billing_agreement/allow_billing_agreement_wizard - 1
payment/payflow_express/active - 0
payment/payflow_express/title - PayPal Express Checkout Payflow Edition
payment/payflow_express/sort_order - 
payment/payflow_express/payment_action - Authorization
payment/payflow_express/visible_on_product - 1
payment/payflow_express/visible_on_cart - 1
payment/payflow_express/allowspecific - 0
payment/payflow_express/debug - 0
payment/payflow_express/verify_peer - 1
payment/payflow_express/line_items_enabled - 1
payment/payflow_advanced/active - 0
payment/payflow_advanced/partner - PayPal
payment/payflow_advanced/vendor - PayPal
payment/payflow_advanced/user - 
payment/payflow_advanced/pwd - 
payment/payflow_advanced/sandbox_flag - 0
payment/payflow_advanced/use_proxy - 0
payment/payflow_advanced/title - Credit Card (Payflow Advanced)
payment/payflow_advanced/sort_order - 
payment/payflow_advanced/payment_action - Authorization
payment/payflow_advanced/allowspecific - 0
payment/payflow_advanced/debug - 0
payment/payflow_advanced/verify_peer - 1
payment/payflow_advanced/csc_editable - 1
payment/payflow_advanced/csc_required - 1
payment/payflow_advanced/email_confirmation - 0
payment/payflow_advanced/url_method - GET
payment/payflow_express_bml/active - 0
payment/paypal_payment_pro/active - 0
payment/payflowpro_cc_vault/active - 0
payment/payflowpro_cc_vault/title - Stored Cards (Payflow Pro)
payment/payflowpro/partner - 
payment/payflowpro/user - 
payment/payflowpro/vendor - 
payment/payflowpro/pwd - 
payment/payflowpro/sandbox_flag - 0
payment/payflowpro/use_proxy - 0
payment/payflowpro/title - Credit Card (Payflow Pro)
payment/payflowpro/sort_order - 
payment/payflowpro/payment_action - Authorization
payment/payflowpro/cctypes - AE,VI
payment/payflowpro/allowspecific - 0
payment/payflowpro/debug - 0
payment/payflowpro/verify_peer - 1
payment/payflowpro/useccv - 1
payment/payflowpro/fmf - 0
payment/payflowpro/avs_street - 0
payment/payflowpro/avs_zip - 0
payment/payflowpro/avs_international - 0
payment/payflowpro/avs_security_code - 1
payment/payflowpro/active - 0
payment/wps_express/active - 0
payment/wps_express_bml/active - 0
payment/payflow_link/active - 0
payment/payflow_link/partner - PayPal
payment/payflow_link/vendor - 
payment/payflow_link/user - 
payment/payflow_link/pwd - 
payment/payflow_link/sandbox_flag - 0
payment/payflow_link/use_proxy - 0
payment/payflow_link/title - Credit Card (Payflow Link)
payment/payflow_link/sort_order - 
payment/payflow_link/payment_action - Authorization
payment/payflow_link/allowspecific - 0
payment/payflow_link/debug - 0
payment/payflow_link/verify_peer - 1
payment/payflow_link/csc_editable - 1
payment/payflow_link/csc_required - 1
payment/payflow_link/email_confirmation - 0
payment/payflow_link/url_method - GET
payment/free/specificcountry - 
payment/checkmo/active - 0
payment/checkmo/specificcountry - 
payment/checkmo/payable_to - 
payment/checkmo/mailing_address - 
payment/checkmo/min_order_total - 
payment/checkmo/max_order_total - 
payment/checkmo/sort_order - 
payment/banktransfer/specificcountry - 
payment/banktransfer/instructions - 
payment/banktransfer/min_order_total - 
payment/banktransfer/max_order_total - 
payment/banktransfer/sort_order - 
payment/cashondelivery/specificcountry - 
payment/cashondelivery/instructions - 
payment/cashondelivery/min_order_total - 
payment/cashondelivery/max_order_total - 
payment/cashondelivery/sort_order - 
payment/purchaseorder/specificcountry - 
payment/purchaseorder/min_order_total - 
payment/purchaseorder/max_order_total - 
payment/purchaseorder/sort_order - 
payment/hosted_pro/active - 0
payment/hosted_pro/title - Payment by cards or by PayPal account
payment/hosted_pro/sort_order - 
payment/hosted_pro/payment_action - Authorization
payment/hosted_pro/display_ec - 0
payment/hosted_pro/allowspecific - 0
payment/hosted_pro/debug - 0
payment/hosted_pro/verify_peer - 1
</pre>
</div>
</div>

</div>
</div>

</div>
 




<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">amemoba</span><span class="o">/</span><span class="n">magento</span><span class="o">-</span><span class="n">i18n</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">i18n</span><span class="o">/</span><span class="n">Magento</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cache</span><span class="p">:</span><span class="n">clean</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rm</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">static</span><span class="o">/</span><span class="n">adminhtml</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">backend</span><span class="o">/</span><span class="n">zh_Hans_CN</span><span class="o">/</span><span class="n">js</span><span class="o">-</span><span class="n">translation</span><span class="o">.</span><span class="n">json</span>
<span class="n">rm</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">static</span><span class="o">/</span><span class="n">frontend</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">luma</span><span class="o">/</span><span class="n">zh_Hans_CN</span><span class="o">/</span><span class="n">js</span><span class="o">-</span><span class="n">translation</span><span class="o">.</span><span class="n">json</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">setup</span><span class="p">:</span><span class="n">static</span><span class="o">-</span><span class="n">content</span><span class="p">:</span><span class="n">deploy</span> <span class="o">-</span><span class="n">f</span> <span class="n">zh_Hans_CN</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cache</span><span class="p">:</span><span class="n">flush</span>
</pre></div>

    </div>
</div>
</div>

</div>
 




<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">d</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">magentoj</span><span class="o">/</span><span class="n">language</span><span class="o">-</span><span class="n">ja_JP</span> <span class="n">magento</span><span class="o">-</span><span class="n">ja</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Cloning into &#39;magento-ja&#39;...
remote: Enumerating objects: 114, done.
remote: Counting objects: 100% (16/16), done.
remote: Compressing objects: 100% (13/13), done.
remote: Total 114 (delta 4), reused 9 (delta 3), pack-reused 98
Receiving objects: 100% (114/114), 1.56 MiB | 5.37 MiB/s, done.
Resolving deltas: 100% (53/53), done.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">i18n</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">/</span>
<span class="n">cp</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">d</span><span class="o">/</span><span class="n">magento</span><span class="o">-</span><span class="n">ja</span><span class="o">/</span><span class="n">composer</span><span class="o">.</span><span class="n">json</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">i18n</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">/</span>
<span class="n">cp</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">d</span><span class="o">/</span><span class="n">magento</span><span class="o">-</span><span class="n">ja</span><span class="o">/</span><span class="n">language</span><span class="o">.</span><span class="n">xml</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">i18n</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">/</span>
<span class="n">cp</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">d</span><span class="o">/</span><span class="n">magento</span><span class="o">-</span><span class="n">ja</span><span class="o">/</span><span class="n">LICENSE</span><span class="o">.</span><span class="n">txt</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">i18n</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">/</span>
<span class="n">cp</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">d</span><span class="o">/</span><span class="n">magento</span><span class="o">-</span><span class="n">ja</span><span class="o">/</span><span class="n">LICENSE_AFL</span><span class="o">.</span><span class="n">txt</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">i18n</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">/</span>
<span class="n">cp</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">d</span><span class="o">/</span><span class="n">magento</span><span class="o">-</span><span class="n">ja</span><span class="o">/</span><span class="n">registration</span><span class="o">.</span><span class="n">php</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">i18n</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">/</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cp</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">d</span><span class="o">/</span><span class="n">magento</span><span class="o">-</span><span class="n">ja</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">.</span><span class="n">csv</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">i18n</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">/</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cache</span><span class="p">:</span><span class="n">clean</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rm</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">static</span><span class="o">/</span><span class="n">adminhtml</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">backend</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">/</span><span class="n">js</span><span class="o">-</span><span class="n">translation</span><span class="o">.</span><span class="n">json</span>
<span class="n">rm</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">static</span><span class="o">/</span><span class="n">frontend</span><span class="o">/</span><span class="n">Magento</span><span class="o">/</span><span class="n">luma</span><span class="o">/</span><span class="n">ja_JP</span><span class="o">/</span><span class="n">js</span><span class="o">-</span><span class="n">translation</span><span class="o">.</span><span class="n">json</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">setup</span><span class="p">:</span><span class="n">static</span><span class="o">-</span><span class="n">content</span><span class="p">:</span><span class="n">deploy</span> <span class="o">-</span><span class="n">f</span> <span class="n">ja_JP</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kobe</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cache</span><span class="p">:</span><span class="n">flush</span>
</pre></div>

    </div>
</div>
</div>

</div>
 




<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://ja.komoju.com/integrations/magento-integration/">Magento with KOMOJU</a></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/degica/komoju-magento/">https://github.com/degica/komoju-magento/</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">degica</span><span class="o">/</span><span class="n">komoju</span><span class="o">-</span><span class="n">magento</span><span class="o">.</span><span class="n">git</span> <span class="o">~/</span><span class="n">komoju</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Cloning into &#39;/home/jupyter-saintway/komoju&#39;...
remote: Enumerating objects: 1991, done.        
remote: Counting objects: 100% (1/1), done.        
remote: Total 1991 (delta 0), reused 0 (delta 0), pack-reused 1990        
Receiving objects: 100% (1991/1991), 2.53 MiB | 13.93 MiB/s, done.
Resolving deltas: 100% (844/844), done.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="o">~/</span><span class="n">komoju</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">Komoju</span> <span class="o">~/</span><span class="n">magento2</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">code</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">setup</span><span class="p">:</span><span class="n">upgrade</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">setup</span><span class="p">:</span><span class="n">di</span><span class="p">:</span><span class="nb">compile</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="n">cache</span><span class="p">:</span><span class="n">flush</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">magento2</span> <span class="o">&amp;&amp;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">magento</span> <span class="o">-</span><span class="n">f</span> <span class="n">setup</span><span class="p">:</span><span class="n">static</span><span class="o">-</span><span class="n">content</span><span class="p">:</span><span class="n">deploy</span>
</pre></div>

    </div>
</div>
</div>

</div>
 




<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">nodejs</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">npm</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">npm</span> <span class="o">-</span><span class="n">v</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://github.com/nvm-sh/nvm">https://github.com/nvm-sh/nvm</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">o</span><span class="o">-</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="o">.</span><span class="n">githubusercontent</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">nvm</span><span class="o">-</span><span class="n">sh</span><span class="o">/</span><span class="n">nvm</span><span class="o">/</span><span class="n">v0</span><span class="mf">.39.5</span><span class="o">/</span><span class="n">install</span><span class="o">.</span><span class="n">sh</span> <span class="o">|</span> <span class="n">bash</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 15916  100 15916    0     0  44046      0 --:--:-- --:--:-- --:--:-- 44088
=&gt; Downloading nvm from git to &#39;/home/saintway/.nvm&#39;
=&gt; Cloning into &#39;/home/saintway/.nvm&#39;...
remote: Enumerating objects: 360, done.
remote: Counting objects: 100% (360/360), done.
remote: Compressing objects: 100% (306/306), done.
remote: Total 360 (delta 41), reused 166 (delta 28), pack-reused 0
Receiving objects: 100% (360/360), 220.81 KiB | 5.52 MiB/s, done.
Resolving deltas: 100% (41/41), done.
* <span class="ansi-green-fg">(HEAD detached at FETCH_HEAD)</span>
  master
=&gt; Compressing and cleaning up git repository

=&gt; Appending nvm source string to /home/saintway/.bashrc
=&gt; Appending bash_completion source string to /home/saintway/.bashrc
=&gt; Close and reopen your terminal to start using nvm or run the following to use it now:

export NVM_DIR=&#34;$HOME/.nvm&#34;
[ -s &#34;$NVM_DIR/nvm.sh&#34; ] &amp;&amp; \. &#34;$NVM_DIR/nvm.sh&#34;  # This loads nvm
[ -s &#34;$NVM_DIR/bash_completion&#34; ] &amp;&amp; \. &#34;$NVM_DIR/bash_completion&#34;  # This loads nvm bash_completion
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nvm</span> <span class="n">install</span> <span class="mi">14</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Downloading and installing node v14.21.3...
Downloading https://nodejs.org/dist/v14.21.3/node-v14.21.3-linux-x64.tar.xz...
######################################################################### 100.0%                                                                           0.1%
Computing checksum with sha256sum
Checksums matched!
Now using node v14.21.3 (npm v6.14.18)
Creating default alias: <span class="ansi-green-fg">default</span> <span class="ansi-black-intense-fg">-&gt;</span> <span class="ansi-green-fg">14</span> (<span class="ansi-black-intense-fg">-&gt;</span> <span class="ansi-green-fg">v14.21.3</span>)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">node</span> <span class="o">-</span><span class="n">v</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>v14.21.3
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://hexo.io/">https://hexo.io/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="n">hexo</span><span class="o">-</span><span class="n">cli</span> <span class="o">-</span><span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hexo</span> <span class="n">init</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kansai</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kansai</span> <span class="o">&amp;&amp;</span> <span class="n">npm</span> <span class="n">install</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/XPoet/hexo-theme-keep">https://github.com/XPoet/hexo-theme-keep</a></li>
<li><a target="_blank" rel="noopener" href="https://keep-docs.xpoet.cn/">https://keep-docs.xpoet.cn/</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">EvanNotFound</span><span class="o">/</span><span class="n">hexo</span><span class="o">-</span><span class="n">theme</span><span class="o">-</span><span class="n">redefine</span><span class="o">.</span><span class="n">git</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kansai</span><span class="o">/</span><span class="n">themes</span><span class="o">/</span><span class="n">redefine</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Cloning into &#39;/home/saintway/amemoba-kansai/themes/redefine&#39;...
remote: Enumerating objects: 5374, done.
remote: Counting objects: 100% (1475/1475), done.
remote: Compressing objects: 100% (443/443), done.
remote: Total 5374 (delta 1118), reused 1219 (delta 1020), pack-reused 3899
Receiving objects: 100% (5374/5374), 42.71 MiB | 12.94 MiB/s, done.
Resolving deltas: 100% (3608/3608), done.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">amemoba</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">wpn</span><span class="o">/</span><span class="n">wp</span><span class="o">-</span><span class="n">content</span><span class="o">/</span><span class="n">themes</span><span class="o">/</span><span class="n">amemoba</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">favicon</span><span class="o">.</span><span class="n">ico</span> <span class="o">-</span><span class="n">O</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kansai</span><span class="o">/</span><span class="n">themes</span><span class="o">/</span><span class="n">redefine</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">favicon</span><span class="o">.</span><span class="n">ico</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>--2023-10-22 14:15:55--  https://amemoba.com/wpn/wp-content/themes/amemoba/images/favicon.ico
Resolving amemoba.com (amemoba.com)... 183.90.231.153
Connecting to amemoba.com (amemoba.com)|183.90.231.153|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 4286 (4.2K) [image/vnd.microsoft.icon]
Saving to: /home/saintway/amemoba-kansai/themes/redefine/source/images/amemoba-favicon.ico

/home/saintway/amem 100%[===================&gt;]   4.19K  --.-KB/s    in 0s      

2023-10-22 14:15:55 (1.25 GB/s) - /home/saintway/amemoba-kansai/themes/redefine/source/images/amemoba-favicon.ico saved [4286/4286]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">amemoba</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">wpn</span><span class="o">/</span><span class="n">wp</span><span class="o">-</span><span class="n">content</span><span class="o">/</span><span class="n">themes</span><span class="o">/</span><span class="n">amemoba</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">common</span><span class="o">/</span><span class="n">header</span><span class="o">-</span><span class="n">logo</span><span class="o">.</span><span class="n">png</span> <span class="o">-</span><span class="n">O</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kansai</span><span class="o">/</span><span class="n">themes</span><span class="o">/</span><span class="n">redefine</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">avatar</span><span class="o">.</span><span class="n">png</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>--2023-10-22 14:39:07--  https://amemoba.com/wpn/wp-content/themes/amemoba/images/common/header-logo.png
Resolving amemoba.com (amemoba.com)... 183.90.231.153
Connecting to amemoba.com (amemoba.com)|183.90.231.153|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 34002 (33K) [image/png]
Saving to: /home/saintway/amemoba-kansai/themes/redefine/source/images/amemoba-avatar.png

/home/saintway/amem 100%[===================&gt;]  33.21K  --.-KB/s    in 0.001s  

2023-10-22 14:39:07 (21.7 MB/s) - /home/saintway/amemoba-kansai/themes/redefine/source/images/amemoba-avatar.png saved [34002/34002]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kansai</span> <span class="o">&amp;&amp;</span> <span class="n">hexo</span> <span class="n">server</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-green-fg">INFO </span> Validating config
<span class="ansi-green-fg">INFO </span> Start processing
<span class="ansi-green-fg">INFO </span> Hexo is running at <span class="ansi-underline">http://localhost:4000/</span> . Press Ctrl+C to stop.
<span class="ansi-green-fg">INFO </span> 
===================================================================
      ______ __  __  ______  __    __  ______                       
     /\__  _/\ \_\ \/\  ___\/\ &#34;-./  \/\  ___\                      
     \/_/\ \\ \  __ \ \  __\\ \ \-./\ \ \  __\                      
        \ \_\\ \_\ \_\ \_____\ \_\ \ \_\ \_____\                    
         \/_/ \/_/\/_/\/_____/\/_/  \/_/\/_____/                    
                                                               
 ______  ______  _____   ______  ______ __  __   __  ______    
/\  == \/\  ___\/\  __-./\  ___\/\  ___/\ \/\ &#34;-.\ \/\  ___\   
\ \  __&lt;\ \  __\\ \ \/\ \ \  __\\ \  __\ \ \ \ \-.  \ \  __\   
 \ \_\ \_\ \_____\ \____-\ \_____\ \_\  \ \_\ \_\\&#34;\_\ \_____\ 
  \/_/ /_/\/_____/\/____/ \/_____/\/_/   \/_/\/_/ \/_/\/_____/
                                                               
  Github: https://github.com/EvanNotFound/hexo-theme-redefine
      current version is v2.5.0,latest version is v2.5.0
===================================================================
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kansai</span> <span class="o">&amp;&amp;</span> <span class="n">npm</span> <span class="n">install</span> <span class="n">hexo</span><span class="o">-</span><span class="n">deployer</span><span class="o">-</span><span class="n">git</span> <span class="o">--</span><span class="n">save</span>
</pre></div>

    </div>
</div>
</div>

</div>
 




<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Bash</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">amemoba</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">wpn</span><span class="o">/</span><span class="n">wp</span><span class="o">-</span><span class="n">content</span><span class="o">/</span><span class="n">themes</span><span class="o">/</span><span class="n">amemoba</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">favicon</span><span class="o">.</span><span class="n">ico</span> <span class="o">-</span><span class="n">O</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kansai</span><span class="o">/</span><span class="n">themes</span><span class="o">/</span><span class="n">keep</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">favicon</span><span class="o">.</span><span class="n">ico</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>--2023-11-08 19:16:54--  https://amemoba.com/wpn/wp-content/themes/amemoba/images/favicon.ico
Resolving amemoba.com (amemoba.com)... 183.90.231.153
Connecting to amemoba.com (amemoba.com)|183.90.231.153|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 4286 (4.2K) [image/vnd.microsoft.icon]
Saving to: /home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-favicon.ico

/home/saintway/amem 100%[===================&gt;]   4.19K  --.-KB/s    in 0s      

2023-11-08 19:16:54 (889 MB/s) - /home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-favicon.ico saved [4286/4286]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pillow</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Defaulting to user installation because normal site-packages is not writeable
Collecting pillow
  Downloading Pillow-10.1.0-cp310-cp310-manylinux_2_28_x86_64.whl (3.6 MB)
     <span style="color: rgb(135,175,95)"></span> <span class="ansi-green-fg">3.6/3.6 MB</span> <span class="ansi-red-fg">7.1 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>[36m0:00:01[36m0:00:01
Installing collected packages: pillow
Successfully installed pillow-10.1.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Python</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="c1"># </span>
<span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;/home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-favicon.png&#39;</span><span class="p">)</span>

<span class="c1">#  RGBA  RGBA</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;RGBA&#39;</span><span class="p">)</span>

<span class="c1"># </span>
<span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">size</span>

<span class="c1"># </span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">height</span><span class="p">):</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">getpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

        <span class="c1"># </span>
        <span class="k">if</span> <span class="n">r</span> <span class="o">&gt;</span> <span class="mi">150</span> <span class="ow">and</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="c1"># </span>
            <span class="n">image</span><span class="o">.</span><span class="n">putpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>  <span class="c1"># </span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># </span>
            <span class="n">image</span><span class="o">.</span><span class="n">putpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>

<span class="c1"># </span>
<span class="n">image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;/home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-favicon.png&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Bash</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">amemoba</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">wpn</span><span class="o">/</span><span class="n">wp</span><span class="o">-</span><span class="n">content</span><span class="o">/</span><span class="n">themes</span><span class="o">/</span><span class="n">amemoba</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">common</span><span class="o">/</span><span class="n">header</span><span class="o">-</span><span class="n">logo</span><span class="o">.</span><span class="n">png</span> <span class="o">-</span><span class="n">O</span> <span class="o">~/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">kansai</span><span class="o">/</span><span class="n">themes</span><span class="o">/</span><span class="n">keep</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">amemoba</span><span class="o">-</span><span class="n">avatar</span><span class="o">.</span><span class="n">png</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>--2023-11-08 17:25:09--  https://amemoba.com/wpn/wp-content/themes/amemoba/images/common/header-logo.png
Resolving amemoba.com (amemoba.com)... 183.90.231.153
Connecting to amemoba.com (amemoba.com)|183.90.231.153|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 34002 (33K) [image/png]
Saving to: /home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-avatar.png

/home/saintway/amem 100%[===================&gt;]  33.21K  --.-KB/s    in 0s      

2023-11-08 17:25:09 (84.7 MB/s) - /home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-avatar.png saved [34002/34002]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Python</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="c1"># </span>
<span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;/home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-avatar.png&#39;</span><span class="p">)</span>

<span class="c1">#  RGBA  RGBA</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;RGBA&#39;</span><span class="p">)</span>

<span class="c1"># </span>
<span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">size</span>

<span class="c1"># </span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">height</span><span class="p">):</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">getpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

        <span class="c1"># </span>
        <span class="k">if</span> <span class="n">r</span> <span class="o">&gt;</span> <span class="mi">150</span> <span class="ow">and</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="c1"># </span>
            <span class="n">image</span><span class="o">.</span><span class="n">putpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>  <span class="c1"># </span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># </span>
            <span class="n">image</span><span class="o">.</span><span class="n">putpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>

<span class="c1"># </span>
<span class="n">image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;/home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-avatar.png&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="c1"># </span>
<span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;/home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-avatar.png&#39;</span><span class="p">)</span>

<span class="c1">#  RGBA  RGBA</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;RGBA&#39;</span><span class="p">)</span>

<span class="c1"># </span>
<span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">size</span>

<span class="c1"># </span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">height</span><span class="p">):</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">getpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

        <span class="c1"># </span>
        <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">:</span>
            <span class="c1"># </span>
            <span class="n">image</span><span class="o">.</span><span class="n">putpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>  <span class="c1"># </span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># </span>
            <span class="n">image</span><span class="o">.</span><span class="n">putpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>

<span class="c1"># </span>
<span class="n">image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;/home/saintway/amemoba-kansai/themes/keep/source/images/amemoba-avatar.png&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
 




<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://github.com/gohugoio/hugo">https://github.com/gohugoio/hugo</a></p>

</div>
</div>
</div>
 




<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://github.com/paypay/paypayopa-sdk-php">https://github.com/paypay/paypayopa-sdk-php</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://developer.paypay.ne.jp/products/docs/webpayment">https://developer.paypay.ne.jp/products/docs/webpayment</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
 




	
	</div>
	
  
</div>
	<a type="button" href="/2023/11/27/Deploy-Magento/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-08-07 </div>
			<div class="article-title"><a href="/2023/08/07//" ></a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Python-%E3%81%A7%E3%80%81%E6%BC%A2%E5%AD%97%E6%96%87%E3%81%8B%E3%82%89%E9%9F%B3%E8%AA%AD%E3%81%BF%E6%96%87%E3%81%AB%E8%BB%A2%E6%8F%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82">Python &#12391;&#12289;&#28450;&#23383;&#25991;&#12363;&#12425;&#38899;&#35501;&#12415;&#25991;&#12395;&#36578;&#25563;&#12375;&#12414;&#12377;&#12290;<a class="anchor-link" href="#Python-%E3%81%A7%E3%80%81%E6%BC%A2%E5%AD%97%E6%96%87%E3%81%8B%E3%82%89%E9%9F%B3%E8%AA%AD%E3%81%BF%E6%96%87%E3%81%AB%E8%BB%A2%E6%8F%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># </span>
<span class="n">kanji_to_onyomi</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="c1"># </span>
<span class="p">}</span>

<span class="k">def</span> <span class="nf">convert_to_onyomi_sentence</span><span class="p">(</span><span class="n">input_sentence</span><span class="p">):</span>
    <span class="c1"># </span>
    <span class="n">words</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">input_sentence</span><span class="p">)</span>  <span class="c1"># </span>
    <span class="n">onyomi_sentence</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
        <span class="n">onyomi</span> <span class="o">=</span> <span class="n">kanji_to_onyomi</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span>  <span class="c1"># </span>
        <span class="n">onyomi_sentence</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">onyomi</span><span class="p">)</span>

    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">onyomi_sentence</span><span class="p">)</span>

<span class="c1"># </span>
<span class="n">input_sentence</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="c1"># </span>
<span class="n">result</span> <span class="o">=</span> <span class="n">convert_to_onyomi_sentence</span><span class="p">(</span><span class="n">input_sentence</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>  <span class="c1"># : &quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<h4 id="Janome-%E3%81%A7%E3%80%81%E6%BC%A2%E5%AD%97%E6%96%87%E3%81%8B%E3%82%89%E9%9F%B3%E8%AA%AD%E3%81%BF%E6%96%87%E3%81%AB%E8%BB%A2%E6%8F%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82">Janome &#12391;&#12289;&#28450;&#23383;&#25991;&#12363;&#12425;&#38899;&#35501;&#12415;&#25991;&#12395;&#36578;&#25563;&#12375;&#12414;&#12377;&#12290;<a class="anchor-link" href="#Janome-%E3%81%A7%E3%80%81%E6%BC%A2%E5%AD%97%E6%96%87%E3%81%8B%E3%82%89%E9%9F%B3%E8%AA%AD%E3%81%BF%E6%96%87%E3%81%AB%E8%BB%A2%E6%8F%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82">&#182;</a></h4><p>Janome Janome  API </p>
<p>kanji_to_onyomi </p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>janome
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Defaulting to user installation because normal site-packages is not writeable
Requirement already satisfied: janome in /home/jupyter-saintway/.local/lib/python3.9/site-packages (0.5.0)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><strong>Janome </strong></p>
<p>Janome  Tokenizer </p>
<p>Janome </p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">janome.tokenizer</span> <span class="kn">import</span> <span class="n">Tokenizer</span>

<span class="c1"># </span>
<span class="n">kanji_to_onyomi</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="c1"># </span>
<span class="p">}</span>

<span class="k">def</span> <span class="nf">get_onyomi</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
    <span class="c1"># </span>
    <span class="k">return</span> <span class="n">kanji_to_onyomi</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">surface</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">surface</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">convert_to_onyomi_sentence</span><span class="p">(</span><span class="n">input_sentence</span><span class="p">):</span>
    <span class="c1"># </span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">Tokenizer</span><span class="p">()</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">input_sentence</span><span class="p">)</span>
    <span class="c1"># print([token.surface for token in tokens])</span>
    <span class="n">onyomi_sentence</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="n">onyomi</span> <span class="o">=</span> <span class="n">get_onyomi</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
        <span class="n">onyomi_sentence</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">onyomi</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">onyomi_sentence</span><span class="p">)</span>

    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">onyomi_sentence</span><span class="p">)</span>

<span class="c1"># </span>
<span class="n">input_sentence</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="c1"># </span>
<span class="n">result</span> <span class="o">=</span> <span class="n">convert_to_onyomi_sentence</span><span class="p">(</span><span class="n">input_sentence</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>  <span class="c1"># : &#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<h4 id="MeCab-%E3%81%A7%E3%80%81UniDic-%E3%81%A7%E3%80%81%E6%BC%A2%E5%AD%97%E6%96%87%E3%81%8B%E3%82%89%E9%9F%B3%E8%AA%AD%E3%81%BF%E6%96%87%E3%81%AB%E8%BB%A2%E6%8F%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82"><a target="_blank" rel="noopener" href="https://taku910.github.io/mecab/">MeCab</a> &#12391;&#12289;UniDic &#12391;&#12289;&#28450;&#23383;&#25991;&#12363;&#12425;&#38899;&#35501;&#12415;&#25991;&#12395;&#36578;&#25563;&#12375;&#12414;&#12377;&#12290;<a class="anchor-link" href="#MeCab-%E3%81%A7%E3%80%81UniDic-%E3%81%A7%E3%80%81%E6%BC%A2%E5%AD%97%E6%96%87%E3%81%8B%E3%82%89%E9%9F%B3%E8%AA%AD%E3%81%BF%E6%96%87%E3%81%AB%E8%BB%A2%E6%8F%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82">&#182;</a></h4><p>MeCab  UniDic Python  MeCab </p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><strong>MeCab  UniDic </strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>unidic-lite
pip<span class="w"> </span>install<span class="w"> </span>mecab-python3
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Defaulting to user installation because normal site-packages is not writeable
Collecting unidic-lite
  Downloading unidic-lite-1.0.8.tar.gz (47.4 MB)
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status &#39;done&#39;
Building wheels for collected packages: unidic-lite
  Building wheel for unidic-lite (setup.py): started
  Building wheel for unidic-lite (setup.py): finished with status &#39;done&#39;
  Created wheel for unidic-lite: filename=unidic_lite-1.0.8-py3-none-any.whl size=47658836 sha256=d354e3491cb194fab1fab224d3595dfa0419a6d75edec0bdd76fad8f60ec4d3a
  Stored in directory: /home/jupyter-saintway/.cache/pip/wheels/56/9c/4f/2c115e896b4b6c584039ca19de3581d333856782ef108cdc5c
Successfully built unidic-lite
Installing collected packages: unidic-lite
Successfully installed unidic-lite-1.0.8
Defaulting to user installation because normal site-packages is not writeable
Collecting mecab-python3
  Downloading mecab_python3-1.0.6-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (581 kB)
Installing collected packages: mecab-python3
Successfully installed mecab-python3-1.0.6
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><strong>MeCab  UniDic </strong></p>
<p>MeCab  Tagger  UniDic  UniDic 7</p>
<p>/path/to/unidic UniDic </p>
<p>UniDic '*'Juman++ </p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">MeCab</span>

<span class="c1"># MeCab + UniDic</span>
<span class="k">def</span> <span class="nf">get_onyomi</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">mecab</span> <span class="o">=</span> <span class="n">MeCab</span><span class="o">.</span><span class="n">Tagger</span><span class="p">(</span><span class="s1">&#39;-d /path/to/unidic&#39;</span><span class="p">)</span>  <span class="c1"># UniDic</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">mecab</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">onyomi_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        
        <span class="k">while</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">features</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">features</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">7</span> <span class="ow">and</span> <span class="n">features</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">features</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">onyomi_text</span> <span class="o">+=</span> <span class="n">features</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="k">if</span> <span class="n">features</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;*&#39;</span> <span class="k">else</span> <span class="n">node</span><span class="o">.</span><span class="n">surface</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">onyomi_text</span> <span class="o">+=</span> <span class="n">node</span><span class="o">.</span><span class="n">surface</span>

            <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">next</span>

        <span class="k">return</span> <span class="n">onyomi_text</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="c1"># </span>
<span class="n">input_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="c1"># </span>
<span class="n">result</span> <span class="o">=</span> <span class="n">get_onyomi</span><span class="p">(</span><span class="n">input_text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>  <span class="c1"># : &#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<h4 id="Juman++"><a target="_blank" rel="noopener" href="https://github.com/ku-nlp/jumanpp">Juman++</a><a class="anchor-link" href="#Juman++">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">cmake</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">protobuf</span><span class="o">-</span><span class="n">compiler</span> <span class="n">libprotobuf</span><span class="o">-</span><span class="n">dev</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ku-nlp/jumanpp.git<span class="w"> </span>~/jumanpp
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
mkdir<span class="w"> </span>-p<span class="w"> </span>~/jumanpp/build
<span class="nb">cd</span><span class="w"> </span>~/jumanpp/build
cmake<span class="w"> </span>~/jumanpp<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release
<span class="nb">cd</span><span class="w"> </span>~/jumanpp
sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><strong>Jumandic </strong>  <strong>GPT </strong> </p>
<h3 id="1.-%E7%9B%AE%E7%9A%84%E4%B8%8E%E5%BA%94%E7%94%A8"><strong>1. &#30446;&#30340;&#19982;&#24212;&#29992;</strong><a class="anchor-link" href="#1.-%E7%9B%AE%E7%9A%84%E4%B8%8E%E5%BA%94%E7%94%A8">&#182;</a></h3><ul>
<li><p><strong>Jumandic </strong> Juman++ <strong></strong></p>
<ul>
<li><strong></strong></li>
</ul>
</li>
<li><p><strong>GPT </strong>Generative Pre-trained Transformer <strong></strong> GPT </p>
<ul>
<li><strong></strong></li>
</ul>
</li>
</ul>
<h3 id="2.-%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%9E%B6%E6%9E%84"><strong>2. &#25216;&#26415;&#22522;&#30784;&#19982;&#26550;&#26500;</strong><a class="anchor-link" href="#2.-%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%9E%B6%E6%9E%84">&#182;</a></h3><ul>
<li><p><strong>Jumandic</strong>  <strong></strong>  <strong>RNN</strong></p>
</li>
<li><p><strong>GPT</strong>  <strong>Transformer</strong>  <strong></strong> GPT fine-tuning</p>
<ul>
<li></li>
</ul>
</li>
</ul>
<h3 id="3.-%E6%95%B0%E6%8D%AE%E4%B8%8E%E8%AE%AD%E7%BB%83"><strong>3. &#25968;&#25454;&#19982;&#35757;&#32451;</strong><a class="anchor-link" href="#3.-%E6%95%B0%E6%8D%AE%E4%B8%8E%E8%AE%AD%E7%BB%83">&#182;</a></h3><ul>
<li><strong>Jumandic</strong>  <strong></strong> <strong></strong><strong></strong></li>
<li><strong>GPT</strong>  <strong></strong> </li>
</ul>
<h3 id="4.-%E7%94%9F%E6%88%90%E8%83%BD%E5%8A%9B"><strong>4. &#29983;&#25104;&#33021;&#21147;</strong><a class="anchor-link" href="#4.-%E7%94%9F%E6%88%90%E8%83%BD%E5%8A%9B">&#182;</a></h3><ul>
<li><strong>Jumandic</strong>  <strong></strong>  <strong></strong></li>
<li><strong>GPT</strong>  <strong></strong>GPT </li>
</ul>
<h3 id="5.-%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E4%B8%8E%E5%BA%94%E7%94%A8"><strong>5. &#27169;&#22411;&#35757;&#32451;&#19982;&#24212;&#29992;</strong><a class="anchor-link" href="#5.-%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E4%B8%8E%E5%BA%94%E7%94%A8">&#182;</a></h3><ul>
<li><strong>Jumandic</strong> </li>
<li><strong>GPT</strong> GPT </li>
</ul>
<h3 id="%E6%80%BB%E7%BB%93"><strong>&#24635;&#32467;</strong><a class="anchor-link" href="#%E6%80%BB%E7%BB%93">&#182;</a></h3><ul>
<li><strong>Jumandic</strong> </li>
<li><strong>GPT</strong> </li>
</ul>
<p></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p> <strong>Juman++</strong>  <strong>RNN</strong>  <strong>RNNLMRecurrent Neural Network Language Model</strong> RNNLM </p>
<h3 id="RNNLM-%E7%9A%84%E7%89%B9%E7%82%B9"><strong>RNNLM &#30340;&#29305;&#28857;</strong><a class="anchor-link" href="#RNNLM-%E7%9A%84%E7%89%B9%E7%82%B9">&#182;</a></h3><ol>
<li><p><strong></strong></p>
<ul>
<li>RNNLM  Juman++ <strong></strong></li>
</ul>
</li>
<li><p><strong></strong></p>
<ul>
<li>Juman++  <strong>Mikolov RNN</strong> RNN </li>
<li>RNN </li>
</ul>
</li>
<li><p><strong></strong></p>
<ul>
<li>RNN  <strong>Mainichi Shinbun 1995</strong>  <strong>Kyoto University Corpus</strong></li>
<li> Juman++  <code>--rnn-model</code>  RNN </li>
</ul>
</li>
<li><p><strong></strong></p>
<ul>
<li> Juman++  <strong><code>mikolov_rnn_test.cc</code></strong>  RNN </li>
</ul>
</li>
<li><p><strong></strong></p>
<ul>
<li> RNNLM Juman++  Juman  250 </li>
</ul>
</li>
</ol>
<h3 id="%E6%80%BB%E7%BB%93"><strong>&#24635;&#32467;</strong><a class="anchor-link" href="#%E6%80%BB%E7%BB%93">&#182;</a></h3><ul>
<li><strong>Juman++</strong>  <strong>RNNLM</strong> </li>
<li>RNN  <strong>Mikolov RNN</strong></li>
<li> <code>--rnn-model</code>  RNN </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><a target="_blank" rel="noopener" href="https://lotus.kuee.kyoto-u.ac.jp/nl-resource/jumanpp/jumanpp-1.02.tar.xz">Juman++ 1.02 with Model File</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="nb">cd</span><span class="w"> </span>~<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>wget<span class="w"> </span>https://lotus.kuee.kyoto-u.ac.jp/nl-resource/jumanpp/jumanpp-1.02.tar.xz
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="nb">cd</span><span class="w"> </span>~<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>tar<span class="w"> </span>xJvf<span class="w"> </span>~/jumanpp-1.02.tar.xz
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On Linux</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libboost-all-dev
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On macOS</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
brew<span class="w"> </span>install<span class="w"> </span>boost
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="nb">cd</span><span class="w"> </span>~/jumanpp-1.02
./configure
make
sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><a target="_blank" rel="noopener" href="https://github.com/ku-nlp/jumanpp/releases/download/v2.0.0-rc4/jumanpp-2.0.0-rc4.tar.xz">Juman++ 2.0.0 rc4 with Model File</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://scoop.sh/">Scoop</a> on Windows 11</p>
<div class="highlight"><pre><span></span><span class="nb">Set-ExecutionPolicy</span> <span class="n">-ExecutionPolicy</span> <span class="n">RemoteSigned</span> <span class="n">-Scope</span> <span class="n">CurrentUser</span>
<span class="nb">Invoke-RestMethod</span> <span class="n">-Uri</span> <span class="n">https</span><span class="p">://</span><span class="n">get</span><span class="p">.</span><span class="n">scoop</span><span class="p">.</span><span class="n">sh</span> <span class="p">|</span> <span class="nb">Invoke-Expression</span>
<span class="n">scoop</span> <span class="n">bucket</span> <span class="n">add</span> <span class="n">main</span>
<span class="n">scoop</span> <span class="n">install</span> <span class="n">main</span><span class="p">/</span><span class="n">cmake</span>
<span class="n">scoop</span> <span class="n">install</span> <span class="n">main</span><span class="p">/</span><span class="n">make</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ubuntu</p>
<div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>g++-10<span class="w"> </span>clang<span class="w"> </span>cmake
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libprotobuf-dev<span class="w"> </span>protobuf-compiler
<span class="nb">cd</span><span class="w"> </span>~<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>tar<span class="w"> </span>xvf<span class="w"> </span>jumanpp-2.0.0-rc4.tar.xz
mkdir<span class="w"> </span>-p<span class="w"> </span>~/jumanpp-2.0.0-rc4/build
<span class="nb">cd</span><span class="w"> </span>~/jumanpp-2.0.0-rc4/build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cmake<span class="w"> </span>..<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release<span class="w"> </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span>/usr/local
<span class="nb">cd</span><span class="w"> </span>~/jumanpp-2.0.0-rc4/build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>install<span class="w"> </span>-j<span class="w"> </span><span class="m">4</span>
sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<h3 id="%E4%BD%BF%E7%94%A8-Juman-%E8%BF%9B%E8%A1%8C%E6%97%A5%E8%AF%AD%E8%A7%A3%E6%9E%90%E5%92%8C-LaTeX-%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7"><strong>&#20351;&#29992; Juman &#36827;&#34892;&#26085;&#35821;&#35299;&#26512;&#21644; LaTeX &#26684;&#24335;&#21270;&#30340;&#24037;&#20855;</strong><a class="anchor-link" href="#%E4%BD%BF%E7%94%A8-Juman-%E8%BF%9B%E8%A1%8C%E6%97%A5%E8%AF%AD%E8%A7%A3%E6%9E%90%E5%92%8C-LaTeX-%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7">&#182;</a></h3><p><strong>A Tool for Japanese Parsing and LaTeX Formatting Using Juman</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>pyknp
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Defaulting to user installation because normal site-packages is not writeable
Requirement already satisfied: pyknp in /home/jupyter-saintway/.local/lib/python3.9/site-packages (0.6.1)
Requirement already satisfied: six in /home/jupyter-saintway/.local/lib/python3.9/site-packages (from pyknp) (1.16.0)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pyknp</span> <span class="kn">import</span> <span class="n">Juman</span>
<span class="n">juman</span> <span class="o">=</span> <span class="n">Juman</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">halfwidth_to_fullwidth</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
        <span class="n">code</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">elif</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;!&#39;</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">):</span>
            <span class="c1"># Convert ASCII characters in the range 0x0021 to 0x007E</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">code</span> <span class="o">+</span> <span class="mh">0xFEE0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="n">char</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">halfwidth_to_fullwidth</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="k">yield</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">continue</span>
        <span class="n">mrphs</span> <span class="o">=</span> <span class="n">juman</span><span class="o">.</span><span class="n">analysis</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="o">.</span><span class="n">mrph_list</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">mrph</span> <span class="ow">in</span> <span class="n">mrphs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">mrph</span><span class="o">.</span><span class="n">midasi</span> <span class="o">==</span> <span class="n">mrph</span><span class="o">.</span><span class="n">yomi</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">mrph</span><span class="o">.</span><span class="n">midasi</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">yield</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"></span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">mrph</span><span class="o">.</span><span class="n">midasi</span><span class="p">,</span>
                    <span class="n">mrph</span><span class="o">.</span><span class="n">yomi</span>
                <span class="p">)</span>
        <span class="k">yield</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

<span class="k">def</span> <span class="nf">render_to_latex</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">halfwidth_to_fullwidth</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="k">yield</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">continue</span>
        <span class="n">mrphs</span> <span class="o">=</span> <span class="n">juman</span><span class="o">.</span><span class="n">analysis</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="o">.</span><span class="n">mrph_list</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">mrph</span> <span class="ow">in</span> <span class="n">mrphs</span><span class="p">:</span>
            <span class="k">yield</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">frac</span><span class="se">{{</span><span class="si">{</span><span class="n">mrph</span><span class="o">.</span><span class="n">yomi</span><span class="si">}</span><span class="se">}}{{</span><span class="si">{</span><span class="n">mrph</span><span class="o">.</span><span class="n">midasi</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span>
        <span class="k">yield</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>

<span class="s1">21:3</span>
<span class="s1">22</span>

<span class="s1"></span>
<span class="s1">2121994199754</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2"></span>

<span class="s2">21:9-11</span>

<span class="s2">3:91:9-2321:23:1221:3225:1025428</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>






</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2"></span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>


</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2"></span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>


</pre>
</div>
</div>

</div>
</div>

</div>
 




<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>jumanpp_train.cc</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ku-nlp/KyotoCorpus
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ku-nlp/jumanpp-jumandic
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="nb">cd</span><span class="w"> </span>~/nlp/jumanpp-jumandic/<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>python3<span class="w"> </span>configure.py
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
sudo<span class="w"> </span>apt-get<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>zsh
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
sudo<span class="w"> </span>apt-get<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>ruby-full
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
mkdir<span class="w"> </span>-p<span class="w"> </span>~/nlp/jumanpp-jumandic/bld/corpora
<span class="nb">cd</span><span class="w"> </span>~/nlp/jumanpp-jumandic/<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>corpora
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="nb">cd</span><span class="w"> </span>~/nlp/jumanpp-jumandic/<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>~/nlp/jumanpp-jumandic/bld/models/jumandic.bin
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>cmake
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
rm<span class="w"> </span>-rf<span class="w"> </span>~/nlp/jumanpp-jumandic/bld/jpp/
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="nb">cd</span><span class="w"> </span>~/nlp/jumanpp-jumandic/<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>rnn
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="nb">cd</span><span class="w"> </span>~/nlp/jumanpp-jumandic/bld/jpp<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>install
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
mkdir<span class="w"> </span>-p<span class="w"> </span>/usr/local/libexec/jumanpp
cat<span class="w"> </span><span class="s">&lt;&lt; EOF &gt; /usr/local/libexec/jumanpp/jumandic.config</span>
<span class="s">--model=$HOME/nlp/jumanpp-jumandic/bld/models/jumandic-rnn.model</span>
<span class="s">--rnn-nce-bias=5.62844432562</span>
<span class="s">--rnn-unk-constant=-3.4748115191</span>
<span class="s">--rnn-unk-length=-2.92994951022</span>
<span class="s">--feature-weight-perceptron=1</span>
<span class="s">--feature-weight-rnn=0.0176</span>
<span class="s">EOF</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>jumanpp</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ipymock.nlp</span> <span class="kn">import</span> <span class="n">annotate</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>

<span class="n">answser</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="n">answser</span> <span class="o">+=</span> <span class="n">word</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ipymock.nlp</span> <span class="kn">import</span> <span class="n">annotate</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
<span class="n">answser</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;come forwardgo forward12:25:2010:22&#39;</span><span class="p">):</span>
    <span class="n">answser</span> <span class="o">+=</span> <span class="n">word</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
<span class="n">answser</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ipymock.nlp</span> <span class="kn">import</span> <span class="n">annotate</span><span class="p">,</span> <span class="n">halfwidth_to_fullwidth</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
<span class="n">answser</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">annotate</span><span class="p">(</span><span class="n">halfwidth_to_fullwidth</span><span class="p">(</span><span class="s1">&#39;come forwardgo forward12:25:2010:22&#39;</span><span class="p">)):</span>
    <span class="n">answser</span> <span class="o">+=</span> <span class="n">word</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
<span class="n">answser</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;202409&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">zipfile</span>

<span class="k">def</span> <span class="nf">unzip_epub</span><span class="p">(</span><span class="n">epub_file_path</span><span class="p">):</span>
    <span class="c1"># Get the absolute path and name of the file</span>
    <span class="n">epub_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">epub_file_path</span><span class="p">)</span>
    <span class="c1"># Generate a folder path with the same name</span>
    <span class="n">output_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">epub_file_path</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">output_dir</span><span class="p">):</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>  <span class="c1"># Delete a non-empty directory</span>

    <span class="c1"># Ensure the output directory exists</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>

    <span class="c1"># Open and extract the .epub file</span>
    <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">epub_file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">zip_ref</span><span class="p">:</span>
        <span class="n">zip_ref</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The .epub file has been extracted to: </span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Replace with your .epub file path</span>
<span class="n">unzip_epub</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s1">.epub&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>beautifulsoup4
pip<span class="w"> </span>install<span class="w"> </span>lxml
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">ipymock.nlp</span> <span class="kn">import</span> <span class="n">annotate_html</span>

<span class="c1"># Define file path patterns</span>
<span class="n">file_pattern</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s1">/OEBPS/Text/[0-9]*Week_*.xhtml&#39;</span>

<span class="c1"># Get a list of files that meet the conditions</span>
<span class="n">file_list</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">file_pattern</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># Iterate through the files and read their contents</span>
<span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_list</span><span class="p">:</span>
    <span class="c1"># Read the file contents</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">annotate_html</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Result for </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s1">:</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

    <span class="c1"># Write the modified content back to the file</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">zipfile</span>

<span class="k">def</span> <span class="nf">folder_to_epub</span><span class="p">(</span><span class="n">folder_path</span><span class="p">):</span>
    <span class="c1"># Get the absolute path and name of the folder</span>
    <span class="n">folder_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">folder_path</span><span class="p">)</span>
    <span class="n">folder_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">folder_path</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Generate a .zip file path with the same name</span>
    <span class="n">zip_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">folder_name</span><span class="si">}</span><span class="s1">.zip&#39;</span>

    <span class="c1"># Create a .zip file</span>
    <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">zip_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZIP_DEFLATED</span><span class="p">)</span> <span class="k">as</span> <span class="n">zipf</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">folder_path</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                <span class="c1"># Ensure the relative path structure is preserved inside the .zip file</span>
                <span class="n">arcname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">folder_path</span><span class="p">)</span>
                <span class="n">zipf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">arcname</span><span class="p">)</span>

    <span class="c1"># Generate the .epub file path</span>
    <span class="n">epub_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">folder_name</span><span class="si">}</span><span class="s1">.epub&#39;</span>

    <span class="c1"># Rename the .zip file to an .epub file</span>
    <span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">zip_path</span><span class="p">,</span> <span class="n">epub_path</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The .epub file has been created: </span><span class="si">{</span><span class="n">epub_path</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Replace with the folder path you want to compress</span>
<span class="n">folder_to_epub</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
 




<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Python-%E3%81%A7%E3%80%81%E5%81%BD%E6%97%A5%E6%9C%AC%E8%AA%9E%E6%96%87%E3%81%8B%E3%82%89%E9%9F%B3%E8%AA%AD%E3%81%BF%E6%96%87%E3%81%AB%E8%BB%A2%E6%8F%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82">Python &#12391;&#12289;&#20605;&#26085;&#26412;&#35486;&#25991;&#12363;&#12425;&#38899;&#35501;&#12415;&#25991;&#12395;&#36578;&#25563;&#12375;&#12414;&#12377;&#12290;<a class="anchor-link" href="#Python-%E3%81%A7%E3%80%81%E5%81%BD%E6%97%A5%E6%9C%AC%E8%AA%9E%E6%96%87%E3%81%8B%E3%82%89%E9%9F%B3%E8%AA%AD%E3%81%BF%E6%96%87%E3%81%AB%E8%BB%A2%E6%8F%9B%E3%81%97%E3%81%BE%E3%81%99%E3%80%82">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<h4 id="PyKakasi"><a target="_blank" rel="noopener" href="https://codeberg.org/miurahr/pykakasi">PyKakasi</a><a class="anchor-link" href="#PyKakasi">&#182;</a></h4><p><code>pykakasi</code> is a Python Natural Language Processing (NLP) library to transliterate hiragana, katakana and kanji (Japanese text) into rmaji (Latin/Roman alphabet). It can handle characters in NFC form.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>pykakasi
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Defaulting to user installation because normal site-packages is not writeable
Collecting pykakasi
  Downloading pykakasi-2.2.1-py3-none-any.whl (2.4 MB)
Collecting jaconv
  Downloading jaconv-0.3.4.tar.gz (16 kB)
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status &#39;done&#39;
Collecting deprecated
  Downloading Deprecated-1.2.14-py2.py3-none-any.whl (9.6 kB)
Requirement already satisfied: wrapt&lt;2,&gt;=1.10 in /home/jupyter-saintway/.local/lib/python3.9/site-packages (from deprecated-&gt;pykakasi) (1.15.0)
Building wheels for collected packages: jaconv
  Building wheel for jaconv (setup.py): started
  Building wheel for jaconv (setup.py): finished with status &#39;done&#39;
  Created wheel for jaconv: filename=jaconv-0.3.4-py3-none-any.whl size=16415 sha256=ee5ab10be02623d85b0962dad372b01ad36a876b0a7421e27fb0ab4c8bdcff9d
  Stored in directory: /home/jupyter-saintway/.cache/pip/wheels/49/de/f1/55f605920db3666d30215331bc85f24686dde9b95b473ae41b
Successfully built jaconv
Installing collected packages: jaconv, deprecated, pykakasi
Successfully installed deprecated-1.2.14 jaconv-0.3.4 pykakasi-2.2.1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pykakasi</span>
<span class="n">kks</span> <span class="o">=</span> <span class="n">pykakasi</span><span class="o">.</span><span class="n">kakasi</span><span class="p">()</span>
<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">kks</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"></span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">item</span><span class="p">[</span><span class="s1">&#39;orig&#39;</span><span class="p">],</span>
            <span class="n">item</span><span class="p">[</span><span class="s1">&#39;hepburn&#39;</span><span class="p">]</span>
        <span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>kamizeshinmiteki,ranokoretametashoshou,shinnyuuryouhokaninkowarerashuyasokirisutotekikoutsuu.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pykakasi</span>
<span class="n">kks</span> <span class="o">=</span> <span class="n">pykakasi</span><span class="o">.</span><span class="n">kakasi</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">halfwidth_to_fullwidth</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
        <span class="n">code</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">elif</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;!&#39;</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">):</span>
            <span class="c1"># Convert ASCII characters in the range 0x0021 to 0x007E</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">code</span> <span class="o">+</span> <span class="mh">0xFEE0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="n">char</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">def</span> <span class="nf">render_to_latex</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">halfwidth_to_fullwidth</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="k">yield</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">kks</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="s1">&#39;orig&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
                <span class="k">yield</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="s1">&#39;kana&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="k">yield</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">frac</span><span class="se">{{</span><span class="si">{</span><span class="n">word</span><span class="p">[</span><span class="s2">&quot;orig&quot;</span><span class="p">]</span><span class="si">}</span><span class="se">}}{{</span><span class="si">{</span><span class="n">word</span><span class="p">[</span><span class="s2">&quot;orig&quot;</span><span class="p">]</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">yield</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">frac</span><span class="se">{{</span><span class="si">{</span><span class="n">word</span><span class="p">[</span><span class="s2">&quot;kana&quot;</span><span class="p">]</span><span class="si">}</span><span class="se">}}{{</span><span class="si">{</span><span class="n">word</span><span class="p">[</span><span class="s2">&quot;orig&quot;</span><span class="p">]</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span>
        <span class="k">yield</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">###  20</span>

<span class="s1">## ** 17**</span>

<span class="s1">###  116</span>

<span class="s1">###  1516</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Math</span>
<span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">render_to_latex</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">word</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle \frac{}{}\frac{}{}\frac{}{}$
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_latex output_subarea ">
$\displaystyle $
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<h4 id="Unihan-Database-Lookup"><a target="_blank" rel="noopener" href="https://unicode.org/charts/unihan.html">Unihan Database Lookup</a><a class="anchor-link" href="#Unihan-Database-Lookup">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>unihan-etl
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>cihai
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">cihai.core</span> <span class="kn">import</span> <span class="n">Cihai</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Cihai</span><span class="p">()</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">unihan</span><span class="o">.</span><span class="n">is_bootstrapped</span><span class="p">:</span>  <span class="c1"># download and install Unihan to db</span>
    <span class="n">c</span><span class="o">.</span><span class="n">unihan</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">unihan</span><span class="o">.</span><span class="n">lookup_char</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">glyph</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;lookup for : </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">glyph</span><span class="o">.</span><span class="n">kDefinition</span><span class="p">)</span>
<span class="c1"># lookup for : good, excellent, fine; well</span>

<span class="n">query</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">unihan</span><span class="o">.</span><span class="n">reverse_char</span><span class="p">(</span><span class="s1">&#39;good&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;matches for &quot;good&quot;: </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">glph</span><span class="o">.</span><span class="n">char</span> <span class="k">for</span> <span class="n">glph</span> <span class="ow">in</span> <span class="n">query</span><span class="p">]))</span>
<span class="c1"># matches for &quot;good&quot;: , , , , , , , , , , , , , , ...</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>Exists, but is not a file: /home/jupyter-saintway/.cache/unihan_etl/downloads/Unihan.zip
Downloading Unihan.zip...
http://www.unicode.org/Public/UNIDATA/Unihan.zip to /home/jupyter-saintway/.cache/unihan_etl/downloads/Unihan.zip
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Total size: 8.0Mb
100% [==================================================&gt;]</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>extract_zip dest dir: /home/jupyter-saintway/.cache/unihan_etl/downloads
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>

</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>Loading data: /home/jupyter-saintway/.cache/unihan_etl/downloads/Unihan_DictionaryLikeData.txt, /home/jupyter-saintway/.cache/unihan_etl/downloads/Unihan_IRGSources.txt, /home/jupyter-saintway/.cache/unihan_etl/downloads/Unihan_NumericValues.txt, /home/jupyter-saintway/.cache/unihan_etl/downloads/Unihan_RadicalStrokeCounts.txt, /home/jupyter-saintway/.cache/unihan_etl/downloads/Unihan_Readings.txt, /home/jupyter-saintway/.cache/unihan_etl/downloads/Unihan_Variants.txt
Done loading data.
Collecting field data...
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>lookup for : good, excellent, fine; well
matches for &#34;good&#34;: , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,  
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">cihai.core</span> <span class="kn">import</span> <span class="n">Cihai</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Cihai</span><span class="p">()</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">unihan</span><span class="o">.</span><span class="n">is_bootstrapped</span><span class="p">:</span>  <span class="c1"># download and install Unihan to db</span>
    <span class="n">c</span><span class="o">.</span><span class="n">unihan</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">unihan</span><span class="o">.</span><span class="n">lookup_char</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">glyph</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">glyph</span><span class="o">.</span><span class="n">kJapaneseKun</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;YOMU&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">glyph</span><span class="o">.</span><span class="n">kJapaneseOn</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;TOKU TOU DOKU&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">glyph</span><span class="o">.</span><span class="n">kRSJapanese</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">glyph</span><span class="o">.</span><span class="n">kZVariant</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">glyph</span><span class="o">.</span><span class="n">kSemanticVariant</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">glyph</span><span class="o">.</span><span class="n">kSimplifiedVariant</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;U+8BFB&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">glyph</span><span class="o">.</span><span class="n">kTraditionalVariant</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;U+8B80&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">glyph</span><span class="o">.</span><span class="n">kCompatibilityVariant</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">glyph</span><span class="o">.</span><span class="n">kSpecializedSemanticVariant</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="n">glyph</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[&#39;__abstract__&#39;,
 &#39;__annotations__&#39;,
 &#39;__class__&#39;,
 &#39;__delattr__&#39;,
 &#39;__dict__&#39;,
 &#39;__dir__&#39;,
 &#39;__doc__&#39;,
 &#39;__eq__&#39;,
 &#39;__format__&#39;,
 &#39;__ge__&#39;,
 &#39;__getattribute__&#39;,
 &#39;__gt__&#39;,
 &#39;__hash__&#39;,
 &#39;__init__&#39;,
 &#39;__init_subclass__&#39;,
 &#39;__le__&#39;,
 &#39;__lt__&#39;,
 &#39;__mapper__&#39;,
 &#39;__module__&#39;,
 &#39;__ne__&#39;,
 &#39;__new__&#39;,
 &#39;__reduce__&#39;,
 &#39;__reduce_ex__&#39;,
 &#39;__repr__&#39;,
 &#39;__setattr__&#39;,
 &#39;__sizeof__&#39;,
 &#39;__str__&#39;,
 &#39;__subclasshook__&#39;,
 &#39;__table__&#39;,
 &#39;__weakref__&#39;,
 &#39;_sa_automapbase_bookkeeping&#39;,
 &#39;_sa_class_manager&#39;,
 &#39;_sa_decl_prepare&#39;,
 &#39;_sa_instance_state&#39;,
 &#39;_sa_raise_deferred_config&#39;,
 &#39;_sa_registry&#39;,
 &#39;by_module&#39;,
 &#39;char&#39;,
 &#39;classes&#39;,
 &#39;kAccountingNumeric&#39;,
 &#39;kCangjie&#39;,
 &#39;kCantonese&#39;,
 &#39;kCheungBauer&#39;,
 &#39;kCihaiT&#39;,
 &#39;kCompatibilityVariant&#39;,
 &#39;kDefinition&#39;,
 &#39;kFenn&#39;,
 &#39;kFourCornerCode&#39;,
 &#39;kFrequency&#39;,
 &#39;kGradeLevel&#39;,
 &#39;kHDZRadBreak&#39;,
 &#39;kHKGlyph&#39;,
 &#39;kHangul&#39;,
 &#39;kHanyuPinlu&#39;,
 &#39;kHanyuPinyin&#39;,
 &#39;kJapaneseKun&#39;,
 &#39;kJapaneseOn&#39;,
 &#39;kKorean&#39;,
 &#39;kMandarin&#39;,
 &#39;kOtherNumeric&#39;,
 &#39;kPhonetic&#39;,
 &#39;kPrimaryNumeric&#39;,
 &#39;kRSAdobe_Japan1_6&#39;,
 &#39;kRSJapanese&#39;,
 &#39;kRSKanWa&#39;,
 &#39;kRSKangXi&#39;,
 &#39;kRSKorean&#39;,
 &#39;kRSUnicode&#39;,
 &#39;kSemanticVariant&#39;,
 &#39;kSimplifiedVariant&#39;,
 &#39;kSpecializedSemanticVariant&#39;,
 &#39;kTang&#39;,
 &#39;kTotalStrokes&#39;,
 &#39;kTraditionalVariant&#39;,
 &#39;kVietnamese&#39;,
 &#39;kXHC1983&#39;,
 &#39;kZVariant&#39;,
 &#39;metadata&#39;,
 &#39;prepare&#39;,
 &#39;registry&#39;,
 &#39;ucn&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
 




	
	</div>
	
  
</div>
	<a type="button" href="/2023/08/07//#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-08-07 </div>
			<div class="article-title"><a href="/2023/08/07//" ></a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <iframe style="width: 90%; aspect-ratio: 16/9;" src="https://www.youtube.com/embed/jECkG1qKIE8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<hr>
<div class="tabs" id="wandering"><ul class="nav-tabs"><li class="tab active"><a href="#wandering-1">Wandering</a></li><li class="tab"><a href="#wandering-2"></a></li></ul><div class="tab-content"><div class="tab-pane active" id="wandering-1"><blockquote>
<p>Life Hymn 570 - Wandering (<a target="_blank" rel="noopener" href="https://www.hymnal.net/en/hymn/ns/26">O the joy of having nothing</a>)<br>by Brother Darby, Zheng &amp; Andrew</p>
<p>Original Lyrics: Brother Darby (<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/John_Nelson_Darby">John Nelson Darby</a>, 1800-1882)<br>Lyrics Adaptation: Brother Zhicheng<br>Melody Adaptation: Sister Yuting<br>Sung by: Young Sisters of the Cleveland Church<br>Lyrics Readaptation: Brother Andrew</p>
<hr>
<p>[V1]<br>The glorious God revealed, drawing me forward;<br>All earthly things are no longer closely connected to me.<br>The glorious God revealed, with a face as solid as a rock;<br>In wandering, there is hope, walking step by step in the heavenly realm.</p>
<hr>
<p>[C]<br>Oh, what joy, oh, what joy,<br>that we can have nothing,<br>see nothing, manifest nothing,<br>but a living Christ in glory;<br>Oh, what joy, oh, what joy,<br>that we can have nothing,<br>see nothing, worry about nothing,<br>but regard His interests here on the earth.</p>
</blockquote></div><div class="tab-pane" id="wandering-2"><blockquote>
<p> 570 -  (<a target="_blank" rel="noopener" href="https://www.hymnal.net/en/hymn/ns/26">O the joy of having nothing</a>)</p>
<p><br><br><br><br></p>
<hr>
<p>[V1]<br><br><br><br></p>
<hr>
<p>[C]<br><br><br><br><br><br><br><br></p>
</blockquote></div></div></div>

	
	</div>
	
  
</div>
	<a type="button" href="/2023/08/07//#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-04-19 </div>
			<div class="article-title"><a href="/2023/04/19/Text2Vec/" >Text2Vec</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Text2Vec"><a target="_blank" rel="noopener" href="https://github.com/shibing624/text2vec">Text2Vec</a><a class="anchor-link" href="#Text2Vec">&#182;</a></h2><ul>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/sentence-transformers">Sentence Transformer</a></li>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/shibing624/text2vec-base-chinese">CoSENT hfl/chinese-macbert-base</a></li>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/GanymedeNil/text2vec-large-chinese">CoSENT hfl/chinese-lert-large</a><ul>
<li>GanymedeNil/text2vec-large-chinese</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sentence_transformers</span> <span class="kn">import</span> <span class="n">SentenceTransformer</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>all-mpnet-base-v2</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SentenceTransformer</span><span class="p">(</span><span class="s1">&#39;sentence-transformers/all-mpnet-base-v2&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>SentenceTransformer(
  (0): Transformer({&#39;max_seq_length&#39;: 384, &#39;do_lower_case&#39;: False}) with Transformer model: MPNetModel 
  (1): Pooling({&#39;word_embedding_dimension&#39;: 768, &#39;pooling_mode_cls_token&#39;: False, &#39;pooling_mode_mean_tokens&#39;: True, &#39;pooling_mode_max_tokens&#39;: False, &#39;pooling_mode_mean_sqrt_len_tokens&#39;: False})
  (2): Normalize()
)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/torch/sentence_transformers/sentence-transformers_all-mpnet-base-v2
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
total 857056
drwxr-xr-x  16 saintway  staff   512B Apr 12 14:31 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x   5 saintway  staff   160B Apr 19 17:23 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
-rw-r--r--   1 saintway  staff   1.1K Apr 12 14:28 .gitattributes
drwxr-xr-x   3 saintway  staff    96B Apr 12 14:28 <span class="ansi-cyan-intense-fg ansi-bold">1_Pooling</span>
-rw-r--r--   1 saintway  staff    10K Apr 12 14:28 README.md
-rw-r--r--   1 saintway  staff   571B Apr 12 14:28 config.json
-rw-r--r--   1 saintway  staff   116B Apr 12 14:28 config_sentence_transformers.json
-rw-r--r--   1 saintway  staff    38K Apr 12 14:28 data_config.json
-rw-r--r--   1 saintway  staff   349B Apr 12 14:31 modules.json
-rw-r--r--   1 saintway  staff   418M Apr 12 14:31 pytorch_model.bin
-rw-r--r--   1 saintway  staff    53B Apr 12 14:31 sentence_bert_config.json
-rw-r--r--   1 saintway  staff   239B Apr 12 14:31 special_tokens_map.json
-rw-r--r--   1 saintway  staff   455K Apr 12 14:31 tokenizer.json
-rw-r--r--   1 saintway  staff   363B Apr 12 14:31 tokenizer_config.json
-rw-r--r--   1 saintway  staff    13K Apr 12 14:31 train_script.py
-rw-r--r--   1 saintway  staff   226K Apr 12 14:31 vocab.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
cat<span class="w"> </span>~/.cache/torch/sentence_transformers/sentence-transformers_all-mpnet-base-v2/modules.json
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[
  {
    &#34;idx&#34;: 0,
    &#34;name&#34;: &#34;0&#34;,
    &#34;path&#34;: &#34;&#34;,
    &#34;type&#34;: &#34;sentence_transformers.models.Transformer&#34;
  },
  {
    &#34;idx&#34;: 1,
    &#34;name&#34;: &#34;1&#34;,
    &#34;path&#34;: &#34;1_Pooling&#34;,
    &#34;type&#34;: &#34;sentence_transformers.models.Pooling&#34;
  },
  {
    &#34;idx&#34;: 2,
    &#34;name&#34;: &#34;2&#34;,
    &#34;path&#34;: &#34;2_Normalize&#34;,
    &#34;type&#34;: &#34;sentence_transformers.models.Normalize&#34;
  }
]</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
cat<span class="w"> </span>~/.cache/torch/sentence_transformers/sentence-transformers_all-mpnet-base-v2/sentence_bert_config.json
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{
  &#34;max_seq_length&#34;: 384,
  &#34;do_lower_case&#34;: false
}</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
cat<span class="w"> </span>~/.cache/torch/sentence_transformers/sentence-transformers_all-mpnet-base-v2/1_Pooling/config.json
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{
  &#34;word_embedding_dimension&#34;: 768,
  &#34;pooling_mode_cls_token&#34;: false,
  &#34;pooling_mode_mean_tokens&#34;: true,
  &#34;pooling_mode_max_tokens&#34;: false,
  &#34;pooling_mode_mean_sqrt_len_tokens&#34;: false
}</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
du<span class="w"> </span>-sh<span class="w"> </span>~/.cache/torch/sentence_transformers/sentence-transformers_all-mpnet-base-v2/data_config.json
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre> 40K	/Users/saintway/.cache/torch/sentence_transformers/sentence-transformers_all-mpnet-base-v2/data_config.json
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>all-MiniLM-L6-v2</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SentenceTransformer</span><span class="p">(</span><span class="s1">&#39;sentence-transformers/all-MiniLM-L6-v2&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>SentenceTransformer(
  (0): Transformer({&#39;max_seq_length&#39;: 256, &#39;do_lower_case&#39;: False}) with Transformer model: BertModel 
  (1): Pooling({&#39;word_embedding_dimension&#39;: 384, &#39;pooling_mode_cls_token&#39;: False, &#39;pooling_mode_mean_tokens&#39;: True, &#39;pooling_mode_max_tokens&#39;: False, &#39;pooling_mode_mean_sqrt_len_tokens&#39;: False})
  (2): Normalize()
)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/torch/sentence_transformers/sentence-transformers_all-MiniLM-L6-v2
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
total 210456
drwxr-xr-x  16 saintway  staff   512B Apr 19 17:38 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x   6 saintway  staff   192B Apr 19 17:38 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
-rw-r--r--   1 saintway  staff   1.1K Apr 19 17:37 .gitattributes
drwxr-xr-x   3 saintway  staff    96B Apr 19 17:38 <span class="ansi-cyan-intense-fg ansi-bold">1_Pooling</span>
-rw-r--r--   1 saintway  staff    10K Apr 19 17:38 README.md
-rw-r--r--   1 saintway  staff   612B Apr 19 17:38 config.json
-rw-r--r--   1 saintway  staff   116B Apr 19 17:38 config_sentence_transformers.json
-rw-r--r--   1 saintway  staff    38K Apr 19 17:38 data_config.json
-rw-r--r--   1 saintway  staff   349B Apr 19 17:38 modules.json
-rw-r--r--   1 saintway  staff    87M Apr 19 17:38 pytorch_model.bin
-rw-r--r--   1 saintway  staff    53B Apr 19 17:38 sentence_bert_config.json
-rw-r--r--   1 saintway  staff   112B Apr 19 17:38 special_tokens_map.json
-rw-r--r--   1 saintway  staff   455K Apr 19 17:38 tokenizer.json
-rw-r--r--   1 saintway  staff   350B Apr 19 17:38 tokenizer_config.json
-rw-r--r--   1 saintway  staff    13K Apr 19 17:38 train_script.py
-rw-r--r--   1 saintway  staff   226K Apr 19 17:38 vocab.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>CoSENT hfl/chinese-macbert-base</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Full Model Architecture:</p>
<pre><code>CoSENT(
  (0): Transformer({'max_seq_length': 128, 'do_lower_case': False}) with Transformer model: BertModel 
  (1): Pooling({'word_embedding_dimension': 768, 'pooling_mode_mean_tokens': True})
)
</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SentenceTransformer</span><span class="p">(</span><span class="s1">&#39;shibing624/text2vec-base-chinese&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>SentenceTransformer(
  (0): Transformer({&#39;max_seq_length&#39;: 128, &#39;do_lower_case&#39;: False}) with Transformer model: BertModel 
  (1): Pooling({&#39;word_embedding_dimension&#39;: 768, &#39;pooling_mode_cls_token&#39;: False, &#39;pooling_mode_mean_tokens&#39;: True, &#39;pooling_mode_max_tokens&#39;: False, &#39;pooling_mode_mean_sqrt_len_tokens&#39;: False})
)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> ~/.cache/torch/sentence_transformers/shibing624_text2vec-base-chinese/modules.json
<span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;idx&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sentence_transformers.models.Transformer&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;idx&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;1_Pooling&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sentence_transformers.models.Pooling&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /Users/saintway/.cache/torch/sentence_transformers/shibing624_text2vec-base-chinese/modules.json
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> ~/.cache/torch/sentence_transformers/shibing624_text2vec-base-chinese/sentence_bert_config.json
<span class="p">{</span>
  <span class="s2">&quot;max_seq_length&quot;</span><span class="p">:</span> <span class="mi">128</span><span class="p">,</span>
  <span class="s2">&quot;do_lower_case&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Writing /Users/saintway/.cache/torch/sentence_transformers/shibing624_text2vec-base-chinese/sentence_bert_config.json
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
mkdir<span class="w"> </span>-p<span class="w"> </span>~/.cache/torch/sentence_transformers/shibing624_text2vec-base-chinese/1_Pooling
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> ~/.cache/torch/sentence_transformers/shibing624_text2vec-base-chinese/1_Pooling/config.json
<span class="p">{</span>
  <span class="s2">&quot;word_embedding_dimension&quot;</span><span class="p">:</span> <span class="mi">768</span><span class="p">,</span>
  <span class="s2">&quot;pooling_mode_mean_tokens&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Writing /Users/saintway/.cache/torch/sentence_transformers/shibing624_text2vec-base-chinese/1_Pooling/config.json
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/torch/sentence_transformers/shibing624_text2vec-base-chinese
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>total 831776
drwxr-xr-x  13 saintway  staff   416B Apr 19 19:22 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x   7 saintway  staff   224B Apr 19 17:43 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
-rw-r--r--   1 saintway  staff   1.1K Apr 19 17:42 .gitattributes
drwxr-xr-x   3 saintway  staff    96B Apr 19 19:22 <span class="ansi-cyan-intense-fg ansi-bold">1_Pooling</span>
-rw-r--r--   1 saintway  staff   4.0K Apr 19 17:43 README.md
-rw-r--r--   1 saintway  staff   856B Apr 19 17:43 config.json
-rw-r--r--   1 saintway  staff   546B Apr 19 17:43 logs.txt
-rw-r--r--   1 saintway  staff   230B Apr 19 19:17 modules.json
-rw-r--r--   1 saintway  staff   390M Apr 19 17:43 pytorch_model.bin
-rw-r--r--   1 saintway  staff    54B Apr 19 19:11 sentence_bert_config.json
-rw-r--r--   1 saintway  staff   112B Apr 19 17:43 special_tokens_map.json
-rw-r--r--   1 saintway  staff   319B Apr 19 17:43 tokenizer_config.json
-rw-r--r--   1 saintway  staff   107K Apr 19 17:43 vocab.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>CoSENT hfl/chinese-lert-large</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SentenceTransformer</span><span class="p">(</span><span class="s1">&#39;GanymedeNil/text2vec-large-chinese&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>SentenceTransformer(
  (0): Transformer({&#39;max_seq_length&#39;: 128, &#39;do_lower_case&#39;: False}) with Transformer model: BertModel 
  (1): Pooling({&#39;word_embedding_dimension&#39;: 1024, &#39;pooling_mode_cls_token&#39;: False, &#39;pooling_mode_mean_tokens&#39;: True, &#39;pooling_mode_max_tokens&#39;: False, &#39;pooling_mode_mean_sqrt_len_tokens&#39;: False})
)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> ~/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese/modules.json
<span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;idx&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sentence_transformers.models.Transformer&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;idx&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;1_Pooling&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sentence_transformers.models.Pooling&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Writing /home/jupyter-saintway/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese/modules.json
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> ~/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese/sentence_bert_config.json
<span class="p">{</span>
  <span class="s2">&quot;max_seq_length&quot;</span><span class="p">:</span> <span class="mi">128</span><span class="p">,</span>
  <span class="s2">&quot;do_lower_case&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Writing /home/jupyter-saintway/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese/sentence_bert_config.json
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
mkdir<span class="w"> </span>-p<span class="w"> </span>~/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese/1_Pooling
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> ~/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese/1_Pooling/config.json
<span class="p">{</span>
  <span class="s2">&quot;word_embedding_dimension&quot;</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span>
  <span class="s2">&quot;pooling_mode_mean_tokens&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Writing /home/jupyter-saintway/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese/1_Pooling/config.json
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>total 2569336
drwxr-xr-x  14 saintway  staff   448B Apr 19 19:28 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x   7 saintway  staff   224B Apr 19 17:43 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
-rw-r--r--   1 saintway  staff   1.4K Apr 19 17:16 .gitattributes
drwxr-xr-x   3 saintway  staff    96B Apr 19 19:28 <span class="ansi-cyan-intense-fg ansi-bold">1_Pooling</span>
-rw-r--r--   1 saintway  staff   317B Apr 19 17:16 README.md
-rw-r--r--   1 saintway  staff   821B Apr 19 17:16 config.json
-rw-r--r--   1 saintway  staff    69B Apr 19 17:16 eval_results.txt
-rw-r--r--   1 saintway  staff   230B Apr 19 19:28 modules.json
-rw-r--r--   1 saintway  staff   1.2G Apr 19 17:23 pytorch_model.bin
-rw-r--r--   1 saintway  staff    54B Apr 19 19:28 sentence_bert_config.json
-rw-r--r--   1 saintway  staff   125B Apr 19 17:23 special_tokens_map.json
-rw-r--r--   1 saintway  staff   429K Apr 19 17:23 tokenizer.json
-rw-r--r--   1 saintway  staff   514B Apr 19 17:23 tokenizer_config.json
-rw-r--r--   1 saintway  staff   107K Apr 19 17:23 vocab.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
du<span class="w"> </span>-sh<span class="w"> </span>~/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1.2G	/Users/saintway/.cache/torch/sentence_transformers/GanymedeNil_text2vec-large-chinese
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Transformer and Indexer</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sentence_transformers</span> <span class="kn">import</span> <span class="n">SentenceTransformer</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">SentenceTransformer</span><span class="p">(</span><span class="s1">&#39;GanymedeNil/text2vec-large-chinese&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">faiss</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">faiss</span><span class="o">.</span><span class="n">IndexFlatL2</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Preparing Text</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">DirectoryLoader</span><span class="p">,</span> <span class="n">BSHTMLLoader</span>
<span class="n">loader</span> <span class="o">=</span> <span class="n">DirectoryLoader</span><span class="p">(</span><span class="s1">&#39;_morning/htm&#39;</span><span class="p">,</span> <span class="n">loader_cls</span><span class="o">=</span><span class="n">BSHTMLLoader</span><span class="p">)</span>
<span class="n">raw_documents</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="k">for</span> <span class="n">raw_document</span> <span class="ow">in</span> <span class="n">raw_documents</span><span class="p">:</span>
    <span class="n">raw_document</span><span class="o">.</span><span class="n">page_content</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\n+&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">raw_document</span><span class="o">.</span><span class="n">page_content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Embedding</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentences</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">num_words</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">embed</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">sentences</span>

    <span class="c1"># words = extra_text.split(&#39; &#39;)</span>
    <span class="c1"># sentences = [words[i: i+num_words] for i in range(0, len(words), num_words)]</span>
    <span class="c1"># sentences = [&#39; &#39;.join(word_list) for word_list in sentences]</span>
    <span class="kn">import</span> <span class="nn">re</span>
    <span class="n">sentences</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\n+&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))):</span>
        <span class="n">sentence</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">sentence</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">sentences</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Number of Sentences:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sentences</span><span class="p">))</span>
    <span class="c1"># print(sentences)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Embedding the sentences...&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">sentences</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">embeddings</span> <span class="o">=</span> <span class="n">embed</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">raw_document</span><span class="o">.</span><span class="n">page_content</span> <span class="k">for</span> <span class="n">raw_document</span> <span class="ow">in</span> <span class="n">raw_documents</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">embeddings</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>1024</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Loading Faiss Indexer from Disk</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">pickle</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/lert_indexing_morning.pkl&#39;</span><span class="p">)):</span>
    <span class="c1"># load vectorstore</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/lert_indexing_morning.pkl&#39;</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">indexer</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Indexing</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Building the index...&#39;</span><span class="p">)</span>
<span class="n">indexer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">embeddings</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">index.ntotal:&#39;</span><span class="p">,</span> <span class="n">indexer</span><span class="o">.</span><span class="n">ntotal</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Saving Faiss Indexer to Disk</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/lert_indexing_morning.pkl&#39;</span><span class="p">)):</span>
    <span class="c1"># save vectorstore</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/lert_indexing_morning.pkl&#39;</span><span class="p">),</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">indexer</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/lert_indexing_morning.pkl
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
-rw-r--r--  1 saintway  staff    55M Apr 19 21:42 /Users/saintway/lert_indexing_morning.pkl
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Searching</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">k</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">retrieve</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Searching for:&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="n">xq</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">encode</span><span class="p">([</span><span class="n">text</span><span class="p">])</span>
    <span class="n">D</span><span class="p">,</span> <span class="n">I</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">xq</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distance:&#39;</span><span class="p">,</span> <span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Index:&#39;</span><span class="p">,</span> <span class="n">I</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Retrieving related information...&#39;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="n">sentences</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sentences</span><span class="p">),</span> <span class="n">i</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">result:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
Retrieving extra information...
[656.14075 686.03516 686.03516 701.83813 708.9243  709.8529  711.5835
 729.1748  740.6108  756.9905  759.0303  759.19086 760.30756 762.8627
 763.7213  764.0825  770.2078  770.9846  771.6991  776.6118 ]
[ 5330  6025  8696  4925  1817   292  3119  6404  2026  5745  2730  9065
   509 12541 12823  1832 12689   263 10313  2867]

result: 










2:5










Retrieving extra information...
[336.1584  336.1584  336.1584  336.1584  336.1584  336.1584  437.74524
 457.0722  491.19138 524.97955 547.4698  561.1646  561.1646  635.23145
 641.3999  641.3999  641.3999  641.3999  641.3999  641.3999 ]
[10211 10762 11196 12282 12928 13579 13596 11211 12946 12292 10226  5370
  9340  2110  3021  4193  4830  5107  5176  6307]

result: 





















Retrieving extra information...
[149.68991 257.37964 293.2322  390.10983 412.68298 416.7586  426.44324
 448.9715  448.9715  448.9715  474.88263 485.05545 510.15057 515.02356
 539.4849  539.485   539.485   539.485   543.3683  544.59344]
[ 9906  9659  9919  3820  9914  3819  9908  6576  9134 13120  3777  9967
    28    99    13    79  4119  5287  9977  9915]

result: 




















</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;\n\n\n\n\n\n\n\u3000\n\u3000\n\u3000\n\n\n\n\n\u3000\n\u3000\n\u3000\n\u3000\n\n\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
Retrieving extra information...
[149.68991 257.37964 293.2322  390.10983 412.68298 416.7586  426.44324
 448.9715  448.9715  448.9715  474.88263 485.05545 510.15057 515.02356
 539.4849  539.485   539.485   539.485   543.3683  544.59344]
[ 9906  9659  9919  3820  9914  3819  9908  6576  9134 13120  3777  9967
    28    99    13    79  4119  5287  9977  9915]

result: 





















Retrieving extra information...
[207.48007 293.95245 316.6468  394.41498 415.14142 427.4111  440.00018
 440.00018 440.00018 456.50128 494.71838 507.38333 543.869   543.869
 543.869   546.0684  546.0684  546.0684  546.0684  550.43463]
[ 9906  9659  9919  3820  3819  9914  6576  9134 13120  9908  3777  9967
  1349  4167  5299    13    79  4119  5287  6918]

result: 











a
a
a




237


Retrieving extra information...
[455.2392  474.6516  554.92584 554.92584 554.92584 555.4395  558.1987
 561.82495 562.31335 562.31335 562.31335 573.8733  575.1859  578.14307
 582.34247 584.78894 590.16046 591.0485  592.72095 594.661  ]
[ 9906  9919 11058 13036 13470  1623  1622   813  3182  3861  5811  6918
  1880   488  9659  3820 13501  9728  3819  4528]

result: 






7
237
237
237
237







6:7

</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;\n\n\u3000\n\u3000\n\u3000\n\n\n7\n\u3000237\n\u3000237\n\u3000237\n237\n\n\n\n\n\n\n\n6:7\u3000\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Chat with PDF</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messages_in_english</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;You are an AI agent that summarizes chat in less than three setences.&#39;</span>
<span class="p">}]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messages_in_chinese</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39; AI &#39;</span>
<span class="p">}]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">chats_in_english</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;You are an AI assistant providing helpful advice.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;You are given the following extracted parts of a long document and a question.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;Provide a conversational answer based on the context provided.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;You should only provide hyperlinks that reference the context below.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;Do NOT make up hyperlinks.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;If you can</span><span class="se">\&#39;</span><span class="s1">t find the answer in the context below, use your prior knowledge,</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;but in most of the cases the answer will be in the context.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="c1"># &#39;If the question is not related to the context, politely respond that you are tuned to only answer questions that are related to the context.\n&#39; + \</span>
    <span class="s1">&#39;Answer in Markdown format.</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="p">}]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">chats_in_chinese</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39; AI </span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;****</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="c1"># &#39;\n&#39; + \</span>
    <span class="s1">&#39; Markdown </span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="p">}]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">PyPDF2</span>

<span class="k">def</span> <span class="nf">extract_text</span><span class="p">(</span><span class="n">pdf_file</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Extract text from a PDF file.&#39;&#39;&#39;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pdf_file</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">page</span><span class="o">.</span><span class="n">extract_text</span><span class="p">()</span> <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">PyPDF2</span><span class="o">.</span><span class="n">PdfReader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">pages</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">build_the_bot</span><span class="p">(</span><span class="n">pdf_file</span><span class="p">,</span> <span class="n">openai_key</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;split sentences in chinese&#39;&#39;&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;OpenAI Key:&#39;</span><span class="p">,</span> <span class="n">openai_key</span><span class="p">)</span>

    <span class="n">pdf_content</span> <span class="o">=</span> <span class="n">extract_text</span><span class="p">(</span><span class="n">pdf_file</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Text Length:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">extra_text</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Building the index...&#39;</span><span class="p">)</span>
    <span class="n">indexer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">embed</span><span class="p">(</span><span class="n">pdf_content</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">index.ntotal:&#39;</span><span class="p">,</span> <span class="n">indexer</span><span class="o">.</span><span class="n">ntotal</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">pdf_content</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">openai</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">chat</span><span class="p">(</span><span class="n">chat_history</span><span class="p">,</span> <span class="n">user_input</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;chat in chinese&#39;&#39;&#39;</span>
    <span class="k">global</span> <span class="n">sentences</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">messages_in_chinese:&#39;</span><span class="p">,</span> <span class="n">messages_in_chinese</span><span class="p">)</span>
    <span class="c1"># messages_in_english.append({&#39;role&#39;: &#39;user&#39;, &#39;content&#39;: &#39;Question:\n&#39; + user_input})</span>
    <span class="c1"># print(&#39;\nmessages_in_english:&#39;, messages_in_english)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Summarizing the chat history...&#39;</span><span class="p">)</span>

    <span class="n">completion</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;gpt-3.5-turbo&#39;</span><span class="p">,</span>
        <span class="n">temperature</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">messages</span> <span class="o">=</span> <span class="n">messages_in_chinese</span>
    <span class="p">)</span>

    <span class="n">summary</span> <span class="o">=</span> <span class="n">completion</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Summarized Histoy: </span><span class="si">{</span><span class="n">summary</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">extra_info</span> <span class="o">=</span> <span class="n">retrieve</span><span class="p">(</span><span class="n">summary</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="n">user_input</span><span class="p">)</span>

    <span class="n">chats_in_chinese</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">extra_info</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="n">user_input</span><span class="p">})</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">chats_in_chinese:&#39;</span><span class="p">,</span> <span class="n">chats_in_chinese</span><span class="p">)</span>
    <span class="n">completion</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;gpt-3.5-turbo&#39;</span><span class="p">,</span>
        <span class="n">temperature</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">messages</span> <span class="o">=</span> <span class="n">chats_in_chinese</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">chats_in_chinese</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span>
    <span class="p">)</span>

    <span class="n">chat_output</span> <span class="o">=</span> <span class="n">completion</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">ChatGPT: </span><span class="si">{</span><span class="n">chat_output</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># messages_in_chinese.append({&#39;role&#39;: &#39;&#39;, &#39;content&#39;: user_input})</span>
    <span class="c1"># messages_in_chinese.append({&#39;role&#39;: &#39;&#39;, &#39;content&#39;: chat_output})</span>
    <span class="k">yield</span> <span class="n">chat_history</span> <span class="o">+</span> <span class="p">[(</span><span class="n">user_input</span><span class="p">,</span> <span class="n">chat_output</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">gradio</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_demo</span><span class="p">(</span><span class="n">mock_openai</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Blocks</span><span class="p">()</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
        <span class="n">gradio</span><span class="o">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;Chat with a PDF document&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Tab</span><span class="p">(</span><span class="s1">&#39;Select PDF&#39;</span><span class="p">):</span>
            <span class="n">pdf</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">File</span><span class="p">()</span>
            <span class="n">openai_key</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;OpenAI API Key&#39;</span><span class="p">,)</span>
            <span class="n">text_output</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;PDF content&#39;</span><span class="p">)</span>
            <span class="n">text_button</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Build the Bot!!!&#39;</span><span class="p">)</span>
            <span class="n">text_button</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">build_the_bot</span><span class="p">,</span> <span class="p">[</span><span class="n">pdf</span><span class="p">,</span> <span class="n">openai_key</span><span class="p">],</span> <span class="n">text_output</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Tab</span><span class="p">(</span><span class="s1">&#39;Knowledge Bot&#39;</span><span class="p">):</span>
            <span class="n">chatbot</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Chatbot</span><span class="p">()</span>
            <span class="n">message</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="s1">&#39;What is this document about?&#39;</span><span class="p">)</span>
            <span class="n">message</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="p">[</span><span class="n">chatbot</span><span class="p">,</span> <span class="n">message</span><span class="p">],</span> <span class="n">chatbot</span><span class="p">)</span>
    <span class="n">demo</span><span class="o">.</span><span class="n">queue</span><span class="p">()</span><span class="o">.</span><span class="n">launch</span><span class="p">(</span><span class="n">debug</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">True</span>
    <span class="n">demo</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ipymock</span> <span class="kn">import</span> <span class="n">do</span>
<span class="kn">from</span> <span class="nn">ipymock.browser</span> <span class="kn">import</span> <span class="n">common</span><span class="p">,</span> <span class="n">get_conversation</span><span class="p">,</span> <span class="n">mock_openai</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">common</span><span class="o">.</span><span class="n">conversation_id</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">do</span><span class="p">(</span>
    <span class="n">mock_openai</span><span class="o">=</span><span class="n">mock_openai</span><span class="p">,</span>
    <span class="n">test_demo</span><span class="o">=</span><span class="n">test_demo</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
=&gt; no.0  ::tools::test_demo  setup  passed

Running on local URL:  http://127.0.0.1:7860

To create a public link, set `share=True` in `launch()`.
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><iframe src="http://127.0.0.1:7860/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
messages_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI &#39;}]

Summarizing the chat history...

Summarized Histoy:  TerraUSD 

Retrieving extra information...
[575.85126 580.8882  583.3136  587.01587 588.3385  609.59955 610.3556
 611.7924  611.7924  611.7924  612.34534 612.8718  613.65656 614.2593
 617.09534 619.9896  622.2654  624.4966  624.9232  625.8043 ]
[ 6397  6622  3147 12978  4241  4792 11808  3182  3861  5811  6711  3874
  8512  2782  6918  1994 13386  3155  5450 12342]

result: 

I.The Lord&#39;s recovery is unique, and it must be absolutely pure, single, and holy, without any mixture; thus, we need Ezras and Nehemiahs to carry out a purifying work; in all the steps of the Lord&#39;s recovery, there is the need of purification:



E.Nehemiah, as the governor, in the position of a king, was a man with a pure heart for the rebuilding of Jerusalem&#39;s wall in carrying out God&#39;s economy; he was a pattern of what a leader among God&#39;s people should becf. 1 Tim. 3:2-7; 1 Pet. 5:1-3:
237
237
237


2.The problem is that we have come back from Babylon to Jerusalem, yet at Jerusalem we may still keep many things for our own interests; we may not offer everything on the altar for God&#39;s interests and for God&#39;s satisfactionRom. 12:1:

237

B.Recovery means the restoration or return to a normal condition after a damage or a loss has been incurred; recovery means to go back to God&#39;s original intention and standard as revealed in the Scriptures, which is according to the present advance of His recovery of the contents of God&#39;s eternal economy:
a.The Lord&#39;s recovery is the holy seed; we must be so pure that the holy seed will never be mingled with anything heathen.
1.In Romans 14 Paul was liberal and gracious regarding the receiving of those who differ in doctrine or practice; however, in Romans 16:17 he was unyielding and resolute in saying that we must &#34;mark those who make divisions and causes of stumbling contrary to the teaching which you have learned, and turn away from them.&#34;



chats_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI \n\n\n\n****\n\n\n Markdown \n&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n1.\u3000In Romans 14 Paul was liberal and gracious regarding the receiving of those who differ in doctrine or practice; however, in Romans 16:17 he was unyielding and resolute in saying that we must &#34;mark those who make divisions and causes of stumbling contrary to the teaching which you have learned, and turn away from them.&#34;\n1.\u3000It is very difficult to find a person whose spirit is pure (7:1); pureness is the prerequisite in the leadership and a basic condition of our service (1 Tim. 3:9; 1:5); the problem of mixture is the greatest problem among workers; impureness is often the source of misunderstanding and suspicion (2 Tim. 1:3; 1 Tim. 3:9; Titus 1:15).\n\nA.\u3000All of us should look to the Lord and pray that we will have dispensational value to God; we need to ask ourselves what we are doing to close this dispensation and to bring in the next age, the kingdom age; this is a special time, so there is the need of special believers to do a special work.\nVI.\u3000With God\&#39;s move, as the divine history, in man\&#39;s history, there is the new creationthe new man with a new heart, a new spirit, a new life, a new nature, a new history, and a new consummation; we praise the Lord that we are in the divine history, experiencing and enjoying the mysterious, divine things for our organic salvation, so that we may make ourselves ready to become His overcoming bride to bring Him backHymns, #16; Rom. 5:10, 17-18, 21; 6:4; Ezek. 36:26; 2 Cor. 3:16-18; Matt. 5:8; Titus 3:5; Eph. 5:26-27; 6:17-18; Rev. 19:7; Matt. 24:44; 25:10.\n\nC.\u3000There was the need of teaching and reconstitution to bring the people of God into a culture that was according to God, a culture that expressed God; this kind of culture requires a great deal of educationv. 8.\n1.\u3000A factious man is a heretical, sectarian man who causes divisions by forming parties in the church according to his own opinions; in order to maintain good order in the church, a factious, divisive person should be refused, rejected, after a first and second admonitionv. 10.\n\nB.\u3000Recovery means the restoration or return to a normal condition after a damage or a loss has been incurred; recovery means to go back to God\&#39;s original intention and standard as revealed in the Scriptures, which is according to the present advance of His recovery of the contents of God\&#39;s eternal economy:\n1.\u3000Literally, the Greek words rendered &#34;faith&#34; mean &#34;the faith&#34;; this denotes the persistent faith for our persistent prayer, like that of the widow.\nI.\u3000The intrinsic significance of Ezra\&#39;s ministry is embodied in the words purification, education, and reconstitution; the intrinsic significance of Nehemiah\&#39;s leadership is embodied in the words separation, protection, and expression; we need to cooperate with the Lord in His heavenly ministry to build up the church as the house of God and the kingdom of God by living out and working out the New Jerusalem according to this intrinsic significance1 Kings 8:48; Psa. 48:1-2; 1 Tim. 3:15; Eph. 2:21-22.\n\nC.\u3000The law makes demands on man according to what God is; grace supplies man with what God is to meet what God demands; grace is God enjoyed by manJohn 1:16-17; Gal. 6:18; 2 Cor. 13:14; 12:9; 1 Pet. 4:10; Eph. 3:2; 4:29; 6:24.\nb.\u3000If we see that the prayers of the greatest worth are prayers in ascension, then we can understand that prayer is a warfare, and we will utter prayers of warfare; such is the nature of the prayer spoken of in Ephesians 6:\n3.\u3000If a church goes astray or is misled, the apostles have the obligation and responsibility to deal with the situation according to God\&#39;s word, which has authorityvv. 26-27; 2 Cor. 10:6; 2 Tim. 1:13; 4:2.\nThe Intrinsic Significance of the Purification of the Returned Captives\n2.\u3000We all need to be helped through the Life-studies and the Recovery Version with the footnotes to see the intrinsic significance of the word of the BibleNeh. 8:8, 13.\nB.\u3000They were unaware that the dispensation of law was altogether over, that the dispensation of grace should be fully honored, and that any disregard of the distinction between these two dispensations would be against God\&#39;s dispensational administration and would be a great damage to God\&#39;s economical plan for the building up of the church as the expression of ChristJohn 1:16-17; Rev. 2:9.\nIII.\u3000In the Lord\&#39;s recovery we need Ezras, priestly teachers who contact God, who are saturated with God, who are one with God, who are mingled with God, who are filled with God, and who are skillful in the Word of God; this is the kind of person who is qualified to be a teacher in the recoveryMatt. 13:52; 2 Cor. 3:5-6; 1 Tim. 2:7; 2 Tim. 1:11:\n\n\nWhat is this document about?&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n\n\nI.\u3000The Lord\&#39;s recovery is unique, and it must be absolutely pure, single, and holy, without any mixture; thus, we need Ezras and Nehemiahs to carry out a purifying work; in all the steps of the Lord\&#39;s recovery, there is the need of purification:\n\n\n\nE.\u3000Nehemiah, as the governor, in the position of a king, was a man with a pure heart for the rebuilding of Jerusalem\&#39;s wall in carrying out God\&#39;s economy; he was a pattern of what a leader among God\&#39;s people should becf. 1 Tim. 3:2-7; 1 Pet. 5:1-3:\n\u3000237\n\u3000237\n\u3000237\n\n\n2.\u3000The problem is that we have come back from Babylon to Jerusalem, yet at Jerusalem we may still keep many things for our own interests; we may not offer everything on the altar for God\&#39;s interests and for God\&#39;s satisfactionRom. 12:1:\n\n237\n\nB.\u3000Recovery means the restoration or return to a normal condition after a damage or a loss has been incurred; recovery means to go back to God\&#39;s original intention and standard as revealed in the Scriptures, which is according to the present advance of His recovery of the contents of God\&#39;s eternal economy:\na.\u3000The Lord\&#39;s recovery is the holy seed; we must be so pure that the holy seed will never be mingled with anything heathen.\n1.\u3000In Romans 14 Paul was liberal and gracious regarding the receiving of those who differ in doctrine or practice; however, in Romans 16:17 he was unyielding and resolute in saying that we must &#34;mark those who make divisions and causes of stumbling contrary to the teaching which you have learned, and turn away from them.&#34;\n\n\n\nWhat is this document about?&#39;}]

ChatGPT: 

messages_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI &#39;}]

Summarizing the chat history...

Summarized Histoy: 

Retrieving extra information...
[560.0207  580.6549  599.6284  603.5715  604.7684  605.70654 606.26
 607.6616  609.8817  616.5469  618.50104 620.88055 622.4879  622.8662
 624.0831  626.81396 627.3507  628.6865  629.2973  631.0054 ]
[ 2690 12691  6988  7878 10302  3872  6436  7779  1832  1875   263  2023
  1885  3506 12498  2051  1817  2959 12342  7023]

result: 





















chats_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI \n\n\n\n****\n\n\n Markdown \n&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n1.\u3000In Romans 14 Paul was liberal and gracious regarding the receiving of those who differ in doctrine or practice; however, in Romans 16:17 he was unyielding and resolute in saying that we must &#34;mark those who make divisions and causes of stumbling contrary to the teaching which you have learned, and turn away from them.&#34;\n1.\u3000It is very difficult to find a person whose spirit is pure (7:1); pureness is the prerequisite in the leadership and a basic condition of our service (1 Tim. 3:9; 1:5); the problem of mixture is the greatest problem among workers; impureness is often the source of misunderstanding and suspicion (2 Tim. 1:3; 1 Tim. 3:9; Titus 1:15).\n\nA.\u3000All of us should look to the Lord and pray that we will have dispensational value to God; we need to ask ourselves what we are doing to close this dispensation and to bring in the next age, the kingdom age; this is a special time, so there is the need of special believers to do a special work.\nVI.\u3000With God\&#39;s move, as the divine history, in man\&#39;s history, there is the new creationthe new man with a new heart, a new spirit, a new life, a new nature, a new history, and a new consummation; we praise the Lord that we are in the divine history, experiencing and enjoying the mysterious, divine things for our organic salvation, so that we may make ourselves ready to become His overcoming bride to bring Him backHymns, #16; Rom. 5:10, 17-18, 21; 6:4; Ezek. 36:26; 2 Cor. 3:16-18; Matt. 5:8; Titus 3:5; Eph. 5:26-27; 6:17-18; Rev. 19:7; Matt. 24:44; 25:10.\n\nC.\u3000There was the need of teaching and reconstitution to bring the people of God into a culture that was according to God, a culture that expressed God; this kind of culture requires a great deal of educationv. 8.\n1.\u3000A factious man is a heretical, sectarian man who causes divisions by forming parties in the church according to his own opinions; in order to maintain good order in the church, a factious, divisive person should be refused, rejected, after a first and second admonitionv. 10.\n\nB.\u3000Recovery means the restoration or return to a normal condition after a damage or a loss has been incurred; recovery means to go back to God\&#39;s original intention and standard as revealed in the Scriptures, which is according to the present advance of His recovery of the contents of God\&#39;s eternal economy:\n1.\u3000Literally, the Greek words rendered &#34;faith&#34; mean &#34;the faith&#34;; this denotes the persistent faith for our persistent prayer, like that of the widow.\nI.\u3000The intrinsic significance of Ezra\&#39;s ministry is embodied in the words purification, education, and reconstitution; the intrinsic significance of Nehemiah\&#39;s leadership is embodied in the words separation, protection, and expression; we need to cooperate with the Lord in His heavenly ministry to build up the church as the house of God and the kingdom of God by living out and working out the New Jerusalem according to this intrinsic significance1 Kings 8:48; Psa. 48:1-2; 1 Tim. 3:15; Eph. 2:21-22.\n\nC.\u3000The law makes demands on man according to what God is; grace supplies man with what God is to meet what God demands; grace is God enjoyed by manJohn 1:16-17; Gal. 6:18; 2 Cor. 13:14; 12:9; 1 Pet. 4:10; Eph. 3:2; 4:29; 6:24.\nb.\u3000If we see that the prayers of the greatest worth are prayers in ascension, then we can understand that prayer is a warfare, and we will utter prayers of warfare; such is the nature of the prayer spoken of in Ephesians 6:\n3.\u3000If a church goes astray or is misled, the apostles have the obligation and responsibility to deal with the situation according to God\&#39;s word, which has authorityvv. 26-27; 2 Cor. 10:6; 2 Tim. 1:13; 4:2.\nThe Intrinsic Significance of the Purification of the Returned Captives\n2.\u3000We all need to be helped through the Life-studies and the Recovery Version with the footnotes to see the intrinsic significance of the word of the BibleNeh. 8:8, 13.\nB.\u3000They were unaware that the dispensation of law was altogether over, that the dispensation of grace should be fully honored, and that any disregard of the distinction between these two dispensations would be against God\&#39;s dispensational administration and would be a great damage to God\&#39;s economical plan for the building up of the church as the expression of ChristJohn 1:16-17; Rev. 2:9.\nIII.\u3000In the Lord\&#39;s recovery we need Ezras, priestly teachers who contact God, who are saturated with God, who are one with God, who are mingled with God, who are filled with God, and who are skillful in the Word of God; this is the kind of person who is qualified to be a teacher in the recoveryMatt. 13:52; 2 Cor. 3:5-6; 1 Tim. 2:7; 2 Tim. 1:11:\n\n\nWhat is this document about?&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n\n\nI.\u3000The Lord\&#39;s recovery is unique, and it must be absolutely pure, single, and holy, without any mixture; thus, we need Ezras and Nehemiahs to carry out a purifying work; in all the steps of the Lord\&#39;s recovery, there is the need of purification:\n\n\n\nE.\u3000Nehemiah, as the governor, in the position of a king, was a man with a pure heart for the rebuilding of Jerusalem\&#39;s wall in carrying out God\&#39;s economy; he was a pattern of what a leader among God\&#39;s people should becf. 1 Tim. 3:2-7; 1 Pet. 5:1-3:\n\u3000237\n\u3000237\n\u3000237\n\n\n2.\u3000The problem is that we have come back from Babylon to Jerusalem, yet at Jerusalem we may still keep many things for our own interests; we may not offer everything on the altar for God\&#39;s interests and for God\&#39;s satisfactionRom. 12:1:\n\n237\n\nB.\u3000Recovery means the restoration or return to a normal condition after a damage or a loss has been incurred; recovery means to go back to God\&#39;s original intention and standard as revealed in the Scriptures, which is according to the present advance of His recovery of the contents of God\&#39;s eternal economy:\na.\u3000The Lord\&#39;s recovery is the holy seed; we must be so pure that the holy seed will never be mingled with anything heathen.\n1.\u3000In Romans 14 Paul was liberal and gracious regarding the receiving of those who differ in doctrine or practice; however, in Romans 16:17 he was unyielding and resolute in saying that we must &#34;mark those who make divisions and causes of stumbling contrary to the teaching which you have learned, and turn away from them.&#34;\n\n\n\nWhat is this document about?&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&#39;}]

ChatGPT: 


Keyboard interruption in main thread... closing server.
Closing server running on port: 7860
=&gt; no.0  ::tools::test_demo  runtest  passed

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">HuggingFaceEmbeddings</span>
<span class="n">HuggingFaceEmbeddings</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;GanymedeNil/text2vec-large-chinese&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>HuggingFaceEmbeddings(client=SentenceTransformer(
  (0): Transformer({&#39;max_seq_length&#39;: 128, &#39;do_lower_case&#39;: False}) with Transformer model: BertModel 
  (1): Pooling({&#39;word_embedding_dimension&#39;: 1024, &#39;pooling_mode_cls_token&#39;: False, &#39;pooling_mode_mean_tokens&#39;: True, &#39;pooling_mode_max_tokens&#39;: False, &#39;pooling_mode_mean_sqrt_len_tokens&#39;: False})
), model_name=&#39;GanymedeNil/text2vec-large-chinese&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="ChatGLM-6B"><a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">ChatGLM 6B</a><a class="anchor-link" href="#ChatGLM-6B">&#182;</a></h2><ul>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/THUDM/chatglm-6b">Hugging Face - ChatGLM 6B</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/ninehills/chatglm-openai-api">https://github.com/ninehills/chatglm-openai-api</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Chinese-LLaMA-and-Alpaca"><a target="_blank" rel="noopener" href="https://github.com/ymcui/Chinese-LLaMA-Alpaca">Chinese LLaMA and Alpaca</a><a class="anchor-link" href="#Chinese-LLaMA-and-Alpaca">&#182;</a></h2><ul>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/ziqingyang/chinese-alpaca-lora-7b">Hugging Face - Chinese Alpaca LoRA 7B</a></li>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/ziqingyang/chinese-alpaca-lora-13b">Hugging Face - Chinese Alpaca LoRA 13B</a></li>
</ul>

</div>
</div>
</div>
 




	
	</div>
	
  
</div>
	<a type="button" href="/2023/04/19/Text2Vec/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-04-12 </div>
			<div class="article-title"><a href="/2023/04/12/LangChain-Embeddings/" >LangChain Embeddings</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Open-Text-Embeddings">Open Text Embeddings<a class="anchor-link" href="#Open-Text-Embeddings">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="LangChain-Embeddings"><a target="_blank" rel="noopener" href="https://python.langchain.com/en/latest/reference/modules/embeddings.html">LangChain Embeddings</a><a class="anchor-link" href="#LangChain-Embeddings">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="LLaMA-Embeddings"><a target="_blank" rel="noopener" href="https://huggingface.co/shalomma/llama-7b-embeddings">LLaMA Embeddings</a><a class="anchor-link" href="#LLaMA-Embeddings">&#182;</a></h4><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ggerganov/llama.cpp">https://github.com/ggerganov/llama.cpp</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/abetlen/llama-cpp-python">https://github.com/abetlen/llama-cpp-python</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>llama-cpp-python
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Successfully installed llama-cpp-python-0.1.32 typing-extensions-4.5.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><a target="_blank" rel="noopener" href="https://huggingface.co/Pi3141/gpt4-x-alpaca-native-13B-ggml">GPT4 x Alpaca without LoRA ggml</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>git+https://github.com/huggingface/transformers
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span><span class="nv">tokenizers</span><span class="o">==</span><span class="m">0</span>.13.3<span class="w"> </span><span class="nv">protobuf</span><span class="o">==</span><span class="m">3</span>.20.*
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Requirement already satisfied: tokenizers==0.13.3 in /usr/local/anaconda3/envs/biobot/lib/python3.10/site-packages (0.13.3)
Requirement already satisfied: protobuf==3.20.* in /usr/local/anaconda3/envs/biobot/lib/python3.10/site-packages (3.20.3)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<ul>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/welcome">HuggingFace Welcome</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span> <span class="n">AutoTokenizer</span><span class="p">,</span> <span class="n">AutoModelForSequenceClassification</span>

<span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">&#39;chavinlo/gpt4-x-alpaca&#39;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">AutoModelForSequenceClassification</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">&#39;chavinlo/gpt4-x-alpaca&#39;</span><span class="p">,</span> <span class="n">resume_download</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/huggingface/hub/models--chavinlo--gpt4-x-alpaca/snapshots/6a571f458cab9a23d14324ec63e0abd1744c8353
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>total 0
drwxr-xr-x  14 saintway  staff   448B Apr 14 14:21 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x   3 saintway  staff    96B Apr 12 21:08 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
lrwxr-xr-x   1 saintway  staff    52B Apr 12 21:34 <span class="ansi-magenta-fg">added_tokens.json</span> -&gt; ../../blobs/3e03d5f619baf8592fb936d63d05366f9304f7b2
lrwxr-xr-x   1 saintway  staff    52B Apr 12 21:43 <span class="ansi-magenta-fg">config.json</span> -&gt; ../../blobs/849ee4b803bc92eb21e60c3946d20e4cbc69eefa
lrwxr-xr-x   1 saintway  staff    76B Apr 13 02:27 <span class="ansi-magenta-fg">pytorch_model-00001-of-00006.bin</span> -&gt; ../../blobs/c022dd1d22c5ed2501abdb220f8315e6f51a5197026ed72bdbd2fdbac641d27b
lrwxr-xr-x   1 saintway  staff    76B Apr 13 13:32 <span class="ansi-magenta-fg">pytorch_model-00002-of-00006.bin</span> -&gt; ../../blobs/5481821b5869b58b15c3175e712e41cd6b7b5596557b10aa2c2655a4cf019a7a
lrwxr-xr-x   1 saintway  staff    76B Apr 14 11:53 <span class="ansi-magenta-fg">pytorch_model-00003-of-00006.bin</span> -&gt; ../../blobs/df46de31831a882cd57c9beefdad97e1ae442fe071871bad60223b23c1a08df9
lrwxr-xr-x   1 saintway  staff    76B Apr 14 13:21 <span class="ansi-magenta-fg">pytorch_model-00004-of-00006.bin</span> -&gt; ../../blobs/0e5f42d9943bdbc6e12288733a65d6e337c2cc1a3ff90654cdf96df3f43437ee
lrwxr-xr-x   1 saintway  staff    76B Apr 14 14:06 <span class="ansi-magenta-fg">pytorch_model-00005-of-00006.bin</span> -&gt; ../../blobs/6149b601c773fce7642e3424878c2c8182a221a2723e93d3da10e0f28850d00e
lrwxr-xr-x   1 saintway  staff    76B Apr 14 14:21 <span class="ansi-magenta-fg">pytorch_model-00006-of-00006.bin</span> -&gt; ../../blobs/1b02c47b8a6151783c6ab90a8e5acba320940d2197cff255cf8f23eab10f8180
lrwxr-xr-x   1 saintway  staff    52B Apr 12 21:43 <span class="ansi-magenta-fg">pytorch_model.bin.index.json</span> -&gt; ../../blobs/eb488e9b33396741832583081e6ca45eb6f4de49
lrwxr-xr-x   1 saintway  staff    52B Apr 12 21:34 <span class="ansi-magenta-fg">special_tokens_map.json</span> -&gt; ../../blobs/318f9131477d72be713dcfee9da3a2e43d7ac8ad
lrwxr-xr-x   1 saintway  staff    76B Apr 12 21:34 <span class="ansi-magenta-fg">tokenizer.model</span> -&gt; ../../blobs/9e556afd44213b6bd1be2b850ebbbd98f5481437a8021afaf58ee7fb1818d347
lrwxr-xr-x   1 saintway  staff    52B Apr 12 21:08 <span class="ansi-magenta-fg">tokenizer_config.json</span> -&gt; ../../blobs/8edc6b4c1db134f5d717a6a4f271dfa3194f2295
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/huggingface/hub/models--chavinlo--gpt4-x-alpaca/blobs
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>total 101790056
drwxr-xr-x  14 saintway  staff   448B Apr 14 22:10 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x   7 saintway  staff   224B Apr 14 22:10 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
-rw-r--r--   1 saintway  staff   9.2G Apr 14 13:21 0e5f42d9943bdbc6e12288733a65d6e337c2cc1a3ff90654cdf96df3f43437ee
-rw-r--r--   1 saintway  staff   2.3G Apr 14 14:21 1b02c47b8a6151783c6ab90a8e5acba320940d2197cff255cf8f23eab10f8180
-rw-r--r--   1 saintway  staff    96B Apr 12 21:34 318f9131477d72be713dcfee9da3a2e43d7ac8ad
-rw-r--r--   1 saintway  staff    20B Apr 12 21:34 3e03d5f619baf8592fb936d63d05366f9304f7b2
-rw-r--r--   1 saintway  staff   9.3G Apr 14 22:10 5481821b5869b58b15c3175e712e41cd6b7b5596557b10aa2c2655a4cf019a7a
-rw-r--r--   1 saintway  staff   9.2G Apr 14 14:06 6149b601c773fce7642e3424878c2c8182a221a2723e93d3da10e0f28850d00e
-rw-r--r--   1 saintway  staff   535B Apr 12 21:43 849ee4b803bc92eb21e60c3946d20e4cbc69eefa
-rw-r--r--   1 saintway  staff   329B Apr 12 21:08 8edc6b4c1db134f5d717a6a4f271dfa3194f2295
-rw-r--r--   1 saintway  staff   488K Apr 12 21:34 9e556afd44213b6bd1be2b850ebbbd98f5481437a8021afaf58ee7fb1818d347
-rw-r--r--   1 saintway  staff   9.3G Apr 14 20:53 c022dd1d22c5ed2501abdb220f8315e6f51a5197026ed72bdbd2fdbac641d27b
-rw-r--r--   1 saintway  staff   9.3G Apr 14 11:53 df46de31831a882cd57c9beefdad97e1ae442fe071871bad60223b23c1a08df9
-rw-r--r--   1 saintway  staff    33K Apr 12 21:43 eb488e9b33396741832583081e6ca45eb6f4de49
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">LlamaCppEmbeddings</span>
<span class="n">alpaca_embeddings</span> <span class="o">=</span> <span class="n">LlamaCppEmbeddings</span><span class="p">(</span><span class="n">model_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.cache/huggingface/hub/models--chavinlo--gpt4-x-alpaca/snapshots/6a571f458cab9a23d14324ec63e0abd1744c8353/model.bin&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># </span>
<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="c1">#  HuggingFaceEmbeddings </span>
<span class="n">query_result</span> <span class="o">=</span> <span class="n">alpaca_embeddings</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="n">doc_result</span> <span class="o">=</span> <span class="n">alpaca_embeddings</span><span class="o">.</span><span class="n">embed_documents</span><span class="p">([</span><span class="n">text</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">query_result</span><span class="p">))</span>
<span class="c1"># print(query_result)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doc_result</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doc_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="c1"># print(doc_result)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<ul>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/docs/huggingface_hub/guides/download">Download files from the HuggingFace Hub</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">huggingface_hub</span> <span class="kn">import</span> <span class="n">hf_hub_download</span>
<span class="n">hf_hub_download</span><span class="p">(</span><span class="n">repo_id</span><span class="o">=</span><span class="s1">&#39;Pi3141/gpt4-x-alpaca-native-13B-ggml&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;consolidated.00.pth&#39;</span><span class="p">,</span> <span class="n">resume_download</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;/Users/saintway/.cache/huggingface/hub/models--Pi3141--gpt4-x-alpaca-native-13B-ggml/snapshots/43cce6aab1b95712d83165afafa3c7baad140eb9/consolidated.00.pth&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#  Python </span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.cache/huggingface/hub/models--Pi3141--gpt4-x-alpaca-native-13B-ggml/blobs/8d308284e190467111257950d4e8b34b1e3f19a70636fa6ea51dfa62f4cf5b55.incomplete&#39;</span><span class="p">),</span> <span class="s1">&#39;rb+&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">filehandle</span><span class="p">:</span>
    <span class="n">filehandle</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">SEEK_END</span><span class="p">)</span>
    <span class="n">filehandle</span><span class="o">.</span><span class="n">truncate</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">huggingface_hub</span> <span class="kn">import</span> <span class="n">hf_hub_download</span>
<span class="n">hf_hub_download</span><span class="p">(</span><span class="n">repo_id</span><span class="o">=</span><span class="s1">&#39;Pi3141/gpt4-x-alpaca-native-13B-ggml&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ggml-model-q4_1.bin&#39;</span><span class="p">,</span> <span class="n">resume_download</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;/Users/saintway/.cache/huggingface/hub/models--Pi3141--gpt4-x-alpaca-native-13B-ggml/snapshots/43cce6aab1b95712d83165afafa3c7baad140eb9/ggml-model-q4_1.bin&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">huggingface_hub</span> <span class="kn">import</span> <span class="n">snapshot_download</span>
<span class="n">snapshot_download</span><span class="p">(</span><span class="n">repo_id</span><span class="o">=</span><span class="s1">&#39;Pi3141/gpt4-x-alpaca-native-13B-ggml&#39;</span><span class="p">,</span> <span class="n">resume_download</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_text output_subarea ">
<pre>Fetching 4 files:   0%|          | 0/4 [00:00&lt;?, ?it/s]</pre>
</div>

</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;/Users/saintway/.cache/huggingface/hub/models--Pi3141--gpt4-x-alpaca-native-13B-ggml/snapshots/43cce6aab1b95712d83165afafa3c7baad140eb9&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/huggingface/hub/models--Pi3141--gpt4-x-alpaca-native-13B-ggml/snapshots/43cce6aab1b95712d83165afafa3c7baad140eb9
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>total 0
drwxr-xr-x  6 saintway  staff   192B Apr 14 11:20 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x  3 saintway  staff    96B Apr 12 23:05 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
lrwxr-xr-x  1 saintway  staff    52B Apr 12 23:05 <span class="ansi-magenta-fg">.gitattributes</span> -&gt; ../../blobs/c7d9f3332a950355d5a77d85000f05e6f45435ea
lrwxr-xr-x  1 saintway  staff    52B Apr 12 23:05 <span class="ansi-magenta-fg">README.md</span> -&gt; ../../blobs/03dbe88acfdc7f800acf2423960468e1c852c9ba
lrwxr-xr-x  1 saintway  staff    76B Apr 14 11:20 <span class="ansi-magenta-fg">consolidated.00.pth</span> -&gt; ../../blobs/fd8008066e6af8a094d3703b7e3bbcb64cdca43e964288758d3b3a1ba6e41499
lrwxr-xr-x  1 saintway  staff    76B Apr 13 09:49 <span class="ansi-magenta-fg">ggml-model-q4_1.bin</span> -&gt; ../../blobs/8d308284e190467111257950d4e8b34b1e3f19a70636fa6ea51dfa62f4cf5b55
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/huggingface/hub/models--Pi3141--gpt4-x-alpaca-native-13B-ggml/blobs
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>total 90434208
drwxr-xr-x  9 saintway  staff   288B Apr 14 11:20 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x  6 saintway  staff   192B Apr 14 11:20 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
-rw-r--r--  1 saintway  staff   254B Apr 13 09:53 03dbe88acfdc7f800acf2423960468e1c852c9ba
-rw-r--r--@ 1 saintway  staff   9.1G Apr 13 09:53 8d308284e190467111257950d4e8b34b1e3f19a70636fa6ea51dfa62f4cf5b55
-rw-r--r--  1 saintway  staff   2.1G Apr 13 09:53 8d308284e190467111257950d4e8b34b1e3f19a70636fa6ea51dfa62f4cf5b55.incomplete.retry
-rw-r--r--  1 saintway  staff   1.4K Apr 13 09:53 c7d9f3332a950355d5a77d85000f05e6f45435ea
-rw-r--r--  1 saintway  staff    24G Apr 14 11:20 fd8008066e6af8a094d3703b7e3bbcb64cdca43e964288758d3b3a1ba6e41499
-rw-------  1 saintway  staff   6.2G Apr 13 09:53 fd8008066e6af8a094d3703b7e3bbcb64cdca43e964288758d3b3a1ba6e41499.incomplete.retry
-rw-r--r--  1 saintway  staff   1.5G Apr 13 09:53 fd8008066e6af8a094d3703b7e3bbcb64cdca43e964288758d3b3a1ba6e41499.incomplete.tempfile
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">LlamaCppEmbeddings</span>
<span class="n">alpaca_embeddings</span> <span class="o">=</span> <span class="n">LlamaCppEmbeddings</span><span class="p">(</span><span class="n">model_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/ggml-model-q4_1.bin&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>llama.cpp: loading model from /Users/saintway/ggml-model-q4_1.bin
llama_model_load_internal: format     = ggjt v1 (latest)
llama_model_load_internal: n_vocab    = 32000
llama_model_load_internal: n_ctx      = 512
llama_model_load_internal: n_embd     = 5120
llama_model_load_internal: n_mult     = 256
llama_model_load_internal: n_head     = 40
llama_model_load_internal: n_layer    = 40
llama_model_load_internal: n_rot      = 128
llama_model_load_internal: f16        = 3
llama_model_load_internal: n_ff       = 13824
llama_model_load_internal: n_parts    = 1
llama_model_load_internal: model size = 13B
llama_model_load_internal: ggml ctx size =  73.73 KB
llama_model_load_internal: mem required  = 11359.03 MB (+ 3216.00 MB per state)
llama_init_from_file: kv self size  =  800.00 MB
AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | VSX = 0 | 
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># </span>
<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="c1">#  HuggingFaceInstructEmbeddings </span>
<span class="n">query_result</span> <span class="o">=</span> <span class="n">alpaca_embeddings</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="n">doc_result</span> <span class="o">=</span> <span class="n">alpaca_embeddings</span><span class="o">.</span><span class="n">embed_documents</span><span class="p">([</span><span class="n">text</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">query_result</span><span class="p">))</span>
<span class="c1"># print(query_result)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doc_result</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doc_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="c1"># print(doc_result)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
llama_print_timings:        load time = 15205.17 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 28693.65 ms /    12 tokens ( 2391.14 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 28701.20 ms
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>5120
1
5120
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
llama_print_timings:        load time = 15205.17 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time =  3616.78 ms /    12 tokens (  301.40 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time =  3628.49 ms
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://sj-langchain.readthedocs.io/en/latest/ecosystem/huggingface.html">LangChain with Hugging Face</a><ul>
<li><a target="_blank" rel="noopener" href="https://sj-langchain.readthedocs.io/en/latest/modules/llms/integrations/huggingface_hub.html">LLM from Hugging Face Hub</a></li>
<li><a target="_blank" rel="noopener" href="https://sj-langchain.readthedocs.io/en/latest/modules/indexes/examples/textsplitter.html">LangChain Text Splitter</a></li>
<li><a target="_blank" rel="noopener" href="https://sj-langchain.readthedocs.io/en/latest/use_cases/evaluation/huggingface_datasets.html">Evaluate Models using HuggingFace Datasets</a></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">DirectoryLoader</span><span class="p">,</span> <span class="n">TextLoader</span>
<span class="kn">from</span> <span class="nn">langchain.text_splitter</span> <span class="kn">import</span> <span class="n">RecursiveCharacterTextSplitter</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_docs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">):</span>
    <span class="c1"># (1) Import a series of documents.</span>
    <span class="n">loader</span> <span class="o">=</span> <span class="n">DirectoryLoader</span><span class="p">(</span><span class="n">dir_name</span><span class="p">,</span> <span class="n">loader_cls</span><span class="o">=</span><span class="n">TextLoader</span><span class="p">,</span> <span class="n">silent_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">raw_documents</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
    <span class="c1"># (2) Split them into small chunks.</span>
    <span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="p">(</span>
        <span class="n">chunk_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span>
        <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">text_splitter</span><span class="o">.</span><span class="n">split_documents</span><span class="p">(</span><span class="n">raw_documents</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">get_docs</span><span class="p">(</span><span class="s1">&#39;_posts/ultimate-facts&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>26</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_docs</span><span class="p">(</span><span class="s1">&#39;_posts/ultimate-facts&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Document(page_content=&#39;title: Neuroscience\ndate: 2021-10-14 16:30:20\ntags: Neuro\n---\n\nThe [**ventral tegmental area**](https://en.wikipedia.org/wiki/Ventral_tegmental_area) (**VTA**) (**tegmentum** is Latin for covering), also known as the **ventral tegmental area of Tsai**, or simply **ventral tegmentum**, is a group of neurons located close to the midline on the floor of the midbrain.\n\n---\n\n&gt; \u3000\u3000 (content)  (quality of being conscious)  (consciousness as such) \n\u3000\u3000 NCC_e NCC NCC_e  NCC_e 13 NCC_e NCC\n\u3000\u3000NCC_e  NCC &#39;, metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_docs</span><span class="p">(</span><span class="s1">&#39;_posts/ultimate-facts&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Document(page_content=&#39;&gt;  =&gt;\n\u3000\u3000\n* Moore, Philosophical Studies (1922)\n* Grossmann, &#34;Are current concepts and methods in neuroscience inadequate for studying the neural basis of consciousness and mental activity?&#34; (1980)\n* Baars, A Cognitive Theory of Consciousness (1988)\n* Baars, &#34;Surprisingly small subcortical structures are needed for the state of waking consciousness, while cortical projection areas seem to provide perceptual contents of consciousness,&#34; (1995)\n* Bogen, &#34;On the neurophysiology of consciousness: I. An overview,&#34;(1995a)\n* Searle, &#34;The Mystery of Consciousness&#34;, (2000)\n\n&gt;  =&gt;\n\u3000\u30009\n\n---&#39;, metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_docs</span><span class="p">(</span><span class="s1">&#39;_posts/ultimate-facts&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Document(page_content=&#39;&gt; ****\n&gt; ****\n&gt; \n&gt; &#39;, metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_docs</span><span class="p">(</span><span class="s1">&#39;_posts/ultimate-facts&#39;</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Document(page_content=&#39;&gt; \n&gt; ****\n31&#39;, metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">LlamaCppEmbeddings</span>
<span class="kn">from</span> <span class="nn">langchain.vectorstores.faiss</span> <span class="kn">import</span> <span class="n">FAISS</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">ingest_docs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">):</span>
    <span class="n">documents</span> <span class="o">=</span> <span class="n">get_docs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">)</span>
    <span class="c1"># (3) Create embeddings for each document (using text-embedding-ada-002).</span>
    <span class="n">embeddings</span> <span class="o">=</span> <span class="n">LlamaCppEmbeddings</span><span class="p">(</span><span class="n">model_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/ggml-model-q4_1.bin&#39;</span><span class="p">),</span> <span class="n">n_ctx</span><span class="o">=</span><span class="mi">2048</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">FAISS</span><span class="o">.</span><span class="n">from_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">)</span>

<span class="n">vectorstore</span> <span class="o">=</span> <span class="n">ingest_docs</span><span class="p">(</span><span class="s1">&#39;_posts/ultimate-facts&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>llama.cpp: loading model from /Users/saintway/ggml-model-q4_1.bin
llama_model_load_internal: format     = ggjt v1 (latest)
llama_model_load_internal: n_vocab    = 32000
llama_model_load_internal: n_ctx      = 2048
llama_model_load_internal: n_embd     = 5120
llama_model_load_internal: n_mult     = 256
llama_model_load_internal: n_head     = 40
llama_model_load_internal: n_layer    = 40
llama_model_load_internal: n_rot      = 128
llama_model_load_internal: f16        = 3
llama_model_load_internal: n_ff       = 13824
llama_model_load_internal: n_parts    = 1
llama_model_load_internal: model size = 13B
llama_model_load_internal: ggml ctx size =  73.73 KB
llama_model_load_internal: mem required  = 11359.03 MB (+ 3216.00 MB per state)
llama_init_from_file: kv self size  = 3200.00 MB
AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | VSX = 0 | 

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1234747.80 ms /   607 tokens ( 2034.18 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 1234897.68 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1014295.96 ms /   384 tokens ( 2641.40 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 1014467.79 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 3282788.17 ms /  1245 tokens ( 2636.78 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 3283401.24 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1918145.27 ms /   648 tokens ( 2960.10 ms per token)
llama_print_timings:        eval time = 20809.58 ms /     1 runs   (20809.58 ms per run)
llama_print_timings:       total time = 1939184.53 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 96082.05 ms /    30 tokens ( 3202.73 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 96150.74 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 507646.90 ms /   208 tokens ( 2440.61 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 507789.71 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 276020.03 ms /   115 tokens ( 2400.17 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 276108.72 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2019785.65 ms /   672 tokens ( 3005.63 ms per token)
llama_print_timings:        eval time = 21867.42 ms /     1 runs   (21867.42 ms per run)
llama_print_timings:       total time = 2041848.65 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 3602106.63 ms /  1131 tokens ( 3184.89 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 3602439.90 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 3230592.03 ms /  1040 tokens ( 3106.34 ms per token)
llama_print_timings:        eval time = 22766.44 ms /     1 runs   (22766.44 ms per run)
llama_print_timings:       total time = 3253751.32 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2692559.48 ms /  1530 tokens ( 1759.84 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2692893.27 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2117241.21 ms /  1428 tokens ( 1482.66 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2117414.25 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1295672.21 ms /  1255 tokens ( 1032.41 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 1295802.91 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2584795.09 ms /  1406 tokens ( 1838.40 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2585014.00 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2833173.90 ms /  1514 tokens ( 1871.32 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2833446.52 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2497129.27 ms /  1459 tokens ( 1711.53 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2497330.28 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2323893.79 ms /  1448 tokens ( 1604.90 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2324101.06 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 424718.68 ms /   549 tokens (  773.62 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 424798.69 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2024465.75 ms /  1456 tokens ( 1390.43 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2024680.15 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 203939.74 ms /   407 tokens (  501.08 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 204026.72 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2015409.22 ms /  1524 tokens ( 1322.45 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2015592.15 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 147731.28 ms /   397 tokens (  372.12 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 147780.64 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 477176.94 ms /  1092 tokens (  436.98 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 477262.18 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 900018.45 ms /  1332 tokens (  675.69 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 900122.17 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 133290.49 ms /   490 tokens (  272.02 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 133351.61 ms

llama_print_timings:        load time = 12248.83 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 13613.44 ms /    53 tokens (  256.86 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 13634.46 ms
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Save vectorstore</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;vectorstore_13B_2048.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">vectorstore</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Load vectorstore</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;vectorstore_13B_2048.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">vectorstore</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>llama.cpp: loading model from /Users/saintway/ggml-model-q4_1.bin
llama_model_load_internal: format     = ggjt v1 (latest)
llama_model_load_internal: n_vocab    = 32000
llama_model_load_internal: n_ctx      = 2048
llama_model_load_internal: n_embd     = 5120
llama_model_load_internal: n_mult     = 256
llama_model_load_internal: n_head     = 40
llama_model_load_internal: n_layer    = 40
llama_model_load_internal: n_rot      = 128
llama_model_load_internal: f16        = 3
llama_model_load_internal: n_ff       = 13824
llama_model_load_internal: n_parts    = 1
llama_model_load_internal: model size = 13B
llama_model_load_internal: ggml ctx size =  73.73 KB
llama_model_load_internal: mem required  = 11359.03 MB (+ 3216.00 MB per state)
llama_init_from_file: kv self size  = 3200.00 MB
AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | VSX = 0 | 
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Get context related to the question from the embedding model</span>
<span class="k">for</span> <span class="n">context</span> <span class="ow">in</span> <span class="n">vectorstore</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="n">question</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">context</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>page_content=&#39;title: Neuroscience\ndate: 2021-10-14 16:30:20\ntags: Neuro\n---\n\nThe [**ventral tegmental area**](https://en.wikipedia.org/wiki/Ventral_tegmental_area) (**VTA**) (**tegmentum** is Latin for covering), also known as the **ventral tegmental area of Tsai**, or simply **ventral tegmentum**, is a group of neurons located close to the midline on the floor of the midbrain.\n\n---\n\n&gt; \u3000\u3000 (content)  (quality of being conscious)  (consciousness as such) \n\u3000\u3000 NCC_e NCC NCC_e  NCC_e 13 NCC_e NCC\n\u3000\u3000NCC_e  NCC &#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;}

page_content=&#39;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n---\n\n&gt; \n( 8:24-25 )\n\n&gt; \n( 2:22 )\n\n&#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/.md&#39;}

page_content=&#39;&gt; ****\n&gt; ****\n&gt; \n&gt; &#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;}

page_content=&#39;\n\n\n\n\n\n\n\n\n\n&#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/.md&#39;}

</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
llama_print_timings:        load time =  6111.23 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time =  6109.85 ms /     8 tokens (  763.73 ms per token)
llama_print_timings:        eval time = 10089.46 ms /     1 runs   (10089.46 ms per run)
llama_print_timings:       total time = 16205.01 ms
</pre>
</div>
</div>

</div>
</div>

</div>
 




<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Open-Text-Embeddings">Open Text Embeddings<a class="anchor-link" href="#Open-Text-Embeddings">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="LangChain-Embeddings"><a target="_blank" rel="noopener" href="https://python.langchain.com/en/latest/reference/modules/embeddings.html">LangChain Embeddings</a><a class="anchor-link" href="#LangChain-Embeddings">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Hugging-Face-Embeddings">Hugging Face Embeddings<a class="anchor-link" href="#Hugging-Face-Embeddings">&#182;</a></h4><ul>
<li><a target="_blank" rel="noopener" href="https://www.sbert.net/docs/pretrained_models.html">https://www.sbert.net/docs/pretrained_models.html</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/UKPLab/sentence-transformers">https://github.com/UKPLab/sentence-transformers</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/UKPLab/sentence-transformers/blob/master/docs/pretrained_models.md">https://github.com/UKPLab/sentence-transformers/blob/master/docs/pretrained_models.md</a></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>sentence-transformers
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Successfully installed nltk-3.8.1 scikit-learn-1.2.2 scipy-1.10.1 sentence-transformers-2.2.2 sentencepiece-0.1.97 threadpoolctl-3.1.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">HuggingFaceEmbeddings</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">HuggingFaceEmbeddings</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">HuggingFaceEmbeddings</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Help on function __init__ in module langchain.embeddings.huggingface:

__init__(self, **kwargs: Any)
    Initialize the sentence_transformer.

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">HuggingFaceEmbeddings</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;sentence-transformers/all-mpnet-base-v2&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hf_embeddings</span> <span class="o">=</span> <span class="n">HuggingFaceEmbeddings</span><span class="p">()</span>

<span class="c1"># </span>
<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="c1">#  HuggingFaceEmbeddings </span>
<span class="n">query_result</span> <span class="o">=</span> <span class="n">hf_embeddings</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="n">doc_result</span> <span class="o">=</span> <span class="n">hf_embeddings</span><span class="o">.</span><span class="n">embed_documents</span><span class="p">([</span><span class="n">text</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">query_result</span><span class="p">))</span>
<span class="c1"># print(query_result)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doc_result</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doc_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="c1"># print(doc_result)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>768
1
768
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hf_embeddings</span><span class="o">.</span><span class="n">model_name</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;sentence-transformers/all-mpnet-base-v2&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/torch/sentence_transformers/sentence-transformers_all-mpnet-base-v2
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>total 857056
drwxr-xr-x  16 saintway  staff   512B Apr 12 14:31 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x   5 saintway  staff   160B Apr 19 17:23 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
-rw-r--r--   1 saintway  staff   1.1K Apr 12 14:28 .gitattributes
drwxr-xr-x   3 saintway  staff    96B Apr 12 14:28 <span class="ansi-cyan-intense-fg ansi-bold">1_Pooling</span>
-rw-r--r--   1 saintway  staff    10K Apr 12 14:28 README.md
-rw-r--r--   1 saintway  staff   571B Apr 12 14:28 config.json
-rw-r--r--   1 saintway  staff   116B Apr 12 14:28 config_sentence_transformers.json
-rw-r--r--   1 saintway  staff    38K Apr 12 14:28 data_config.json
-rw-r--r--   1 saintway  staff   349B Apr 12 14:31 modules.json
-rw-r--r--   1 saintway  staff   418M Apr 12 14:31 pytorch_model.bin
-rw-r--r--   1 saintway  staff    53B Apr 12 14:31 sentence_bert_config.json
-rw-r--r--   1 saintway  staff   239B Apr 12 14:31 special_tokens_map.json
-rw-r--r--   1 saintway  staff   455K Apr 12 14:31 tokenizer.json
-rw-r--r--   1 saintway  staff   363B Apr 12 14:31 tokenizer_config.json
-rw-r--r--   1 saintway  staff    13K Apr 12 14:31 train_script.py
-rw-r--r--   1 saintway  staff   226K Apr 12 14:31 vocab.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
du<span class="w"> </span>-sh<span class="w"> </span>~/.cache/torch/sentence_transformers/sentence-transformers_all-mpnet-base-v2
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>418M	/Users/saintway/.cache/torch/sentence_transformers/sentence-transformers_all-mpnet-base-v2
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Hugging-Face-Instruct-Embeddings"><a target="_blank" rel="noopener" href="https://huggingface.co/datasets/calmgoose/book-embeddings">Hugging Face Instruct Embeddings</a><a class="anchor-link" href="#Hugging-Face-Instruct-Embeddings">&#182;</a></h4><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/UKPLab/sentence-transformers">https://github.com/UKPLab/sentence-transformers</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/HKUNLP/instructor-embedding">https://github.com/HKUNLP/instructor-embedding</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>InstructorEmbedding
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Successfully installed InstructorEmbedding-1.0.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/basujindal/chatPDF">https://github.com/basujindal/chatPDF</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">HuggingFaceInstructEmbeddings</span>
<span class="n">hfi_embeddings</span> <span class="o">=</span> <span class="n">HuggingFaceInstructEmbeddings</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;hkunlp/instructor-large&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>load INSTRUCTOR_Transformer
max_seq_length  512
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hfi_embeddings</span><span class="o">.</span><span class="n">model_name</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;hkunlp/instructor-large&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/torch/sentence_transformers/hkunlp_instructor-large
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>total 2623328
drwxr-xr-x  15 saintway  staff   480B Apr 12 15:19 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x   5 saintway  staff   160B Apr 19 17:23 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
-rw-r--r--   1 saintway  staff   1.4K Apr 12 15:07 .gitattributes
drwxr-xr-x   3 saintway  staff    96B Apr 12 15:07 <span class="ansi-cyan-intense-fg ansi-bold">1_Pooling</span>
drwxr-xr-x   4 saintway  staff   128B Apr 12 15:08 <span class="ansi-cyan-intense-fg ansi-bold">2_Dense</span>
-rw-r--r--   1 saintway  staff    65K Apr 12 15:08 README.md
-rw-r--r--   1 saintway  staff   1.5K Apr 12 15:08 config.json
-rw-r--r--   1 saintway  staff   122B Apr 12 15:08 config_sentence_transformers.json
-rw-r--r--   1 saintway  staff   461B Apr 12 15:19 modules.json
-rw-r--r--   1 saintway  staff   1.2G Apr 12 15:19 pytorch_model.bin
-rw-r--r--   1 saintway  staff    53B Apr 12 15:19 sentence_bert_config.json
-rw-r--r--   1 saintway  staff   2.1K Apr 12 15:19 special_tokens_map.json
-rw-r--r--   1 saintway  staff   773K Apr 12 15:19 spiece.model
-rw-r--r--   1 saintway  staff   2.3M Apr 12 15:19 tokenizer.json
-rw-r--r--   1 saintway  staff   2.4K Apr 12 15:19 tokenizer_config.json
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
du<span class="w"> </span>-sh<span class="w"> </span>~/.cache/torch/sentence_transformers/hkunlp_instructor-large
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1.3G	/Users/saintway/.cache/torch/sentence_transformers/hkunlp_instructor-large
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># </span>
<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="c1">#  HuggingFaceInstructEmbeddings </span>
<span class="n">query_result</span> <span class="o">=</span> <span class="n">hfi_embeddings</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="n">doc_result</span> <span class="o">=</span> <span class="n">hfi_embeddings</span><span class="o">.</span><span class="n">embed_documents</span><span class="p">([</span><span class="n">text</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">query_result</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">query_result</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doc_result</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doc_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">doc_result</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>768
[-0.022137142717838287, -0.019943105056881905, 0.009940845891833305, 0.029961414635181427, 0.0015559268649667501, -0.0010082109365612268, 0.004636477679014206, 0.006970031186938286, -0.039788346737623215, 0.028241422027349472, -1.5192752471193671e-05, -0.008512390777468681, 0.04590446129441261, 0.03056621551513672, -0.030894720926880836, -0.02884022891521454, -0.023664429783821106, -0.010090871714055538, -0.036661747843027115, -0.001970992423593998, 0.05847157910466194, 0.008038687519729137, -0.012776742689311504, 0.05411699786782265, 0.01262636948376894, 0.016430772840976715, -0.04767526313662529, 0.01811787858605385, 0.04832480102777481, -0.0647105798125267, 0.03377210721373558, -0.04854683578014374, -0.040563128888607025, -0.04772289842367172, -0.018774421885609627, 0.020985594019293785, 0.025719504803419113, 0.027344582602381706, 0.026014933362603188, 0.055159278213977814, -0.01577085256576538, 0.01060266699641943, -0.0031603227835148573, -0.039208076894283295, 0.03614024817943573, 0.009471523575484753, -0.025426877662539482, -0.04541698843240738, 0.026563631370663643, -0.03881140425801277, -0.03588118404150009, -0.057559046894311905, -0.007960007525980473, 0.012319786474108696, -0.0029835468158125877, -0.029109695926308632, -0.06043725088238716, 0.03710782155394554, 0.08494839072227478, -0.054077211767435074, -0.03525502607226372, -0.0031806030310690403, -0.09065768867731094, 0.023320553824305534, 0.02501724287867546, -0.05140731483697891, 0.048127785325050354, -0.05498746410012245, 0.029325366020202637, -0.04640709608793259, 0.01205480471253395, -0.047244541347026825, 0.00035423680674284697, -0.09959323704242706, -0.027633335441350937, 0.001402342109940946, 0.02929595485329628, 0.046018004417419434, -0.05788029357790947, 0.042901281267404556, 0.03905021399259567, 0.0020306624937802553, 0.048880625516176224, -0.0019414519192650914, -0.033322807401418686, 0.028527161106467247, -0.005001544952392578, 0.019440239295363426, 0.0041367351077497005, 0.041833482682704926, -0.03431558609008789, -0.0706053078174591, -0.01964596100151539, 0.00529050687327981, -0.004017329774796963, 0.020387377589941025, 0.0496586374938488, 0.006946606561541557, 0.03991807624697685, 0.037570007145404816, 0.03404153883457184, 0.05588211491703987, -0.02905808761715889, 0.03623465821146965, -0.013191419653594494, 0.009090606123209, -0.020825188606977463, -0.02675699256360531, -0.04974988102912903, -0.0004641334235202521, -0.016248611733317375, -0.055453505367040634, -0.014421780593693256, 0.038791216909885406, -0.003007616614922881, -0.05522274225950241, 0.06346995383501053, -0.054133057594299316, -0.06531116366386414, -0.02393488958477974, 0.027049822732806206, 0.021163685247302055, -0.045149073004722595, -0.005699407774955034, -0.0549631305038929, 0.019174829125404358, -0.020559104159474373, 0.0040987106040120125, -0.01622997410595417, 0.003300424898043275, -0.010149079374969006, 0.021996449679136276, 0.041733454912900925, -0.09496010094881058, 0.021827906370162964, 0.014840630814433098, -0.04588484764099121, 0.02394992485642433, 0.016791993752121925, 0.08624919503927231, -0.06361847370862961, -0.03944281488656998, -0.04442731291055679, 0.007785744499415159, -0.023762937635183334, -0.0110867815092206, 0.01138637587428093, -0.05897051468491554, -0.04304634779691696, -0.0173543319106102, 0.06624708324670792, -0.0437123104929924, 0.004276968538761139, 0.07888749241828918, -0.0071301888674497604, 0.024873679503798485, -0.018245670944452286, 0.004486299119889736, 0.00582241453230381, 0.02243458852171898, -0.030916478484869003, 0.049587175250053406, -0.010419673286378384, -0.022187191992998123, -0.0791892409324646, -0.02702951990067959, -0.0035843446385115385, 0.05750065669417381, -0.018682042136788368, -0.030490878969430923, -0.08072890341281891, 0.024044500663876534, 0.05379054695367813, 0.01158835832029581, -0.02660636231303215, 0.03985058143734932, 0.03334967792034149, 0.030472831800580025, -0.02080536261200905, 0.04899463802576065, 0.010174624621868134, -0.015453080646693707, -0.029648398980498314, 0.04518602415919304, 0.0644007995724678, -0.015453620813786983, 0.012724599801003933, 0.02410477213561535, 0.021669277921319008, -0.047304801642894745, -0.0030988911166787148, 0.06250063329935074, -0.037959348410367966, -0.016027355566620827, 0.03403116390109062, -0.0007538921781815588, -0.04373054951429367, 0.024864956736564636, -0.017527837306261063, -0.004101598169654608, -0.0481080487370491, 0.010937296785414219, 0.02215939201414585, 0.042132746428251266, -0.005298169795423746, 0.05001835525035858, -0.03381647542119026, 0.07707470655441284, -0.01247261743992567, 0.015081333927810192, -0.04821961373090744, -0.05602756887674332, 0.002172428648918867, 0.03414832800626755, 0.05385158583521843, 0.03951353579759598, -0.03862477093935013, -0.06857028603553772, 0.05580616369843483, 0.047364167869091034, 0.04966306313872337, 0.00995559711009264, -0.033690739423036575, 0.011581477709114552, 0.035535167902708054, 0.03085923381149769, -0.04816819354891777, -0.03495897352695465, 0.006372313015162945, 0.05013415589928627, -0.029227256774902344, 0.0053755310364067554, -0.019459571689367294, 0.024346565827727318, -0.034451521933078766, -0.0677531510591507, 0.03487487509846687, 0.04172320291399956, 0.010180668905377388, 0.016491739079356194, -0.01668640412390232, 0.03754301741719246, 0.023817863315343857, 0.021770311519503593, 0.02320024184882641, -0.03048897720873356, 0.023136703297495842, -0.019154028967022896, 0.06983145326375961, -0.013741375878453255, 0.03929886966943741, 0.012652753852307796, 0.015791112557053566, 0.007288077380508184, -0.04030032828450203, 0.020244285464286804, 0.0701761543750763, 0.014144702814519405, -0.0366959422826767, 0.034101251512765884, 0.027012642472982407, 0.04800959303975105, 0.07189490646123886, 0.00042301067151129246, 0.04226808249950409, -0.007224685046821833, 0.03213008865714073, 0.03385363519191742, 0.009528609924018383, 0.013251561671495438, 0.025025293231010437, 0.08515191823244095, -0.004974443931132555, -0.01735675148665905, 0.0720532163977623, -0.03935912624001503, 0.004844623617827892, -0.04394184425473213, 0.011392495594918728, -0.03961816802620888, -0.021686410531401634, 0.0632035881280899, -2.6600875571602955e-05, -0.018001483753323555, 0.0002045980654656887, -0.014556610025465488, 0.009118364192545414, 0.025560518726706505, -0.007447301875799894, 0.019972093403339386, -0.015712067484855652, -0.024550966918468475, 0.023652231320738792, -0.0584896020591259, -0.01404705923050642, -0.017441358417272568, -0.040668584406375885, 0.03344985097646713, -0.06545151770114899, -0.0015352212358266115, -0.059208810329437256, -0.034206390380859375, 0.031709667295217514, 0.031845979392528534, 0.017346983775496483, -0.0192494485527277, 0.04217034950852394, -0.04041285440325737, -0.05436360463500023, -0.03852096572518349, -0.04090946912765503, -0.044468097388744354, -0.05580539256334305, 0.04195259511470795, 0.04524538293480873, -0.001072112238034606, 0.05045463517308235, -0.007403041701763868, -0.011037559248507023, -0.0481581874191761, 0.05748680979013443, 0.021998926997184753, -0.0114741837605834, -0.023216141387820244, 0.02764948643743992, 0.0033738191705197096, -0.015397194772958755, -0.04408087953925133, -0.025693349540233612, 0.08350582420825958, 0.08186513930559158, 0.02589094638824463, 0.031298864632844925, 0.022997794672846794, -0.0705040693283081, -0.017929619178175926, -0.0386652797460556, -0.021253539249300957, -0.011709196493029594, -0.04891839995980263, -0.034260012209415436, -0.010942338034510612, -0.019566839560866356, -0.011726225726306438, -0.0073863305151462555, -0.021809587255120277, 0.031185846775770187, 0.036898598074913025, 0.03579287230968475, 0.03630955517292023, -0.008991124108433723, -0.009002245031297207, 0.08667944371700287, 0.0010887794196605682, -0.032698702067136765, -0.06335387378931046, -0.048804596066474915, 0.02329985983669758, 0.005369881168007851, 0.018586451187729836, -0.051516350358724594, 0.04263807460665703, -0.0006810427876189351, -0.001103260088711977, 0.02041923999786377, -0.02518085390329361, 0.007012072950601578, 0.0016074466984719038, 0.010585247538983822, -0.01600584201514721, -0.06097882241010666, 0.006132303737103939, -0.02095993608236313, 0.03893598914146423, -0.05109530687332153, -0.01899784617125988, -0.011300088837742805, 0.009710361249744892, 0.011983739212155342, -0.013006223365664482, -0.04143975302577019, 0.010285450145602226, -0.06305649876594543, -0.03500263765454292, -0.016994699835777283, 0.019823139533400536, 0.010417548008263111, 0.08123686909675598, 0.028307151049375534, -0.00701523432508111, 0.03513439744710922, 0.002012860495597124, 0.05926254391670227, 0.041931524872779846, -0.014769182540476322, 0.03460005670785904, -0.019610265269875526, 0.027883131057024002, 0.013702291995286942, -0.016595499590039253, -0.03288355842232704, -0.06714218854904175, -0.051795538514852524, 0.032413337379693985, -0.013448472134768963, -0.002694027731195092, 0.04136023297905922, -0.059142980724573135, -0.01380129437893629, -0.0022579259239137173, 0.0219892431050539, 0.021225525066256523, -0.04053009673953056, 0.03726652264595032, -0.021588211879134178, 0.02056734822690487, -0.02374904789030552, 0.003405689960345626, -0.03571395203471184, -0.030117657035589218, 0.006589301861822605, 0.04827360436320305, 0.011746781878173351, 0.047028761357069016, 0.07872718572616577, 0.00854527484625578, -0.031543463468551636, 0.046509627252817154, 0.05302605777978897, 0.02241320163011551, -0.05144788697361946, 0.00531784538179636, -0.008528214879333973, -0.010467768646776676, -0.017910946160554886, -0.0448242723941803, 0.003639540169388056, 0.055717598646879196, -0.005372322164475918, -0.01859535463154316, 1.9491570128593594e-05, -0.017520388588309288, -0.02086714655160904, -0.06756243854761124, 0.016911156475543976, 0.020075716078281403, -0.028387082740664482, -0.014232601039111614, 0.06091458722949028, 0.015551713295280933, 0.05874437093734741, 0.011747990734875202, -0.039615631103515625, -0.04280305281281471, 0.029752986505627632, 0.009051498025655746, -0.062423039227724075, -0.03705782815814018, -0.040770962834358215, 0.030891701579093933, 0.030155127868056297, -0.007816113531589508, -0.0807504653930664, 0.017831768840551376, 0.05006144940853119, -0.05361318588256836, 0.062341079115867615, 0.025491494685411453, 0.048408396542072296, 0.029084276407957077, -0.015447879210114479, -0.00034940679324790835, -0.017930610105395317, -0.006148740649223328, -0.009926981292665005, 0.0582754872739315, -0.015238925814628601, -0.03550595045089722, -0.03390232101082802, 0.03024483472108841, 0.006002285983413458, 0.03796408697962761, 0.019458049908280373, -0.031131630763411522, -0.04120856150984764, 0.010978765785694122, 0.0333918035030365, -0.04785642772912979, 0.022198036313056946, 0.04413451626896858, 0.019193124026060104, -0.03626841679215431, -0.031137170270085335, -0.002764541655778885, 0.007364119868725538, 0.06619369983673096, -0.028123170137405396, -0.035441718995571136, -0.042127810418605804, 0.01750461757183075, 0.008765813894569874, -0.046932898461818695, -0.09832718968391418, 0.028079211711883545, -0.001491512986831367, -0.03492061793804169, 0.05971066281199455, 0.02804477885365486, 0.024293120950460434, 0.08744291216135025, -0.008789492771029472, 0.01302084419876337, -0.020782649517059326, 0.04509878158569336, -0.029434096068143845, -0.03194120153784752, 0.01338726095855236, -0.05421733483672142, -0.02326781488955021, -0.041257284581661224, -0.04912155494093895, -0.031217290088534355, 0.006082997191697359, 0.033354438841342926, -0.0216062068939209, 0.010425982065498829, 0.01690390706062317, 0.01642853394150734, 0.0015028663910925388, -0.05256250873208046, -0.008604401722550392, -0.04340226203203201, -0.06464898586273193, -0.04076193645596504, 0.03596508502960205, -0.01954132877290249, 0.02018481120467186, 0.011362768709659576, 0.02293892204761505, 0.015474352054297924, -0.011335867457091808, -0.02486458234488964, 0.026126177981495857, 0.02133898064494133, -0.04850659891963005, -0.045282673090696335, -0.030667219310998917, 0.008212651126086712, 0.01518244668841362, -0.04165206849575043, 0.03790992125868797, 0.02218039147555828, -0.01681869477033615, -0.02027173899114132, 0.009450569748878479, 0.015175608918070793, -0.04803943634033203, -0.06358246505260468, -0.013711309060454369, 0.009996723383665085, 0.040636055171489716, -0.042011044919490814, -0.011027892120182514, 0.02691529504954815, 0.057163577526807785, 0.03753253072500229, 0.022043783217668533, -0.0021431820932775736, 0.04917208105325699, -0.04179786145687103, -0.005483817774802446, -0.08106370270252228, 0.024761244654655457, -0.016964280977845192, 0.03641534224152565, -0.010911267250776291, -0.0011809802381321788, -0.05593414604663849, 0.04463743418455124, -0.04375195503234863, -0.037942975759506226, -0.003339756280183792, 0.014220676384866238, -0.04019850865006447, 0.053015731275081635, -0.028724318370223045, 0.003802355146035552, -0.037122998386621475, 0.030996421352028847, -0.03507940098643303, -0.0007456461898982525, -0.006219014525413513, -0.0005068734171800315, -0.06874105334281921, -0.027668355032801628, -0.015170485712587833, -0.0672307014465332, 0.0110006770119071, 0.04290778934955597, 0.0037627213168889284, 0.01036884170025587, -0.007260350044816732, -0.014498177915811539, 0.008817058056592941, -0.047402523458004, -0.01808319240808487, -0.05033589527010918, -0.028884392231702805, 0.0035344050265848637, 0.03218654543161392, 0.03320618346333504, -0.05054805800318718, -0.0503070168197155, 0.048324212431907654, 0.045269548892974854, 0.006230846047401428, 0.0028933598659932613, 0.03576548025012016, 0.039641764014959335, 0.04235326126217842, 0.00390684325248003, 0.017620764672756195, -0.05768784508109093, 0.005895737558603287, 0.0004468218539841473, -0.006375355180352926, 0.0018062518211081624, -0.01394017692655325, -0.05188938230276108, -0.018782146275043488, 0.09841680526733398, 0.03368517756462097, 0.02949652634561062, -0.02045777440071106, -0.05439259484410286, 0.04644351080060005, 0.02802385576069355, -0.031084785237908363, 0.018647707998752594, 0.015535857528448105, -0.0347856730222702, 0.07113273441791534, 0.02331412024796009, 0.03137088567018509, 0.045221082866191864, 0.01769883558154106, -0.02390470542013645, 0.02507965639233589, -0.03268289566040039, -0.0027856382075697184, 0.03365938365459442, -0.05175941064953804, 0.006154587958008051, -0.033265549689531326, 0.05281004682183266, -0.0404675267636776, 0.0657331719994545, 0.05071451887488365, 0.0020178519189357758, 0.014635175466537476, -0.03720288723707199, -0.010401709005236626, 0.03344612568616867, -0.010997913777828217, 0.06176922470331192, -0.016880199313163757, -0.07420120388269424, 0.04998021200299263, 0.03931588679552078, -0.07584240287542343, 0.023533020168542862, 0.0006756161455996335, 0.02090786024928093, 0.036075837910175323, 0.03659137338399887, -0.05161881819367409, -0.006765023805201054, -0.005993164610117674, 0.013982019387185574, -0.020381171256303787, -0.029386788606643677, 0.04889058321714401, -0.00013371290697250515, -0.0002964060113299638, 0.027174945920705795, -0.009697571396827698, 0.028293093666434288, 0.0374593585729599, -0.04518287256360054, -0.06050867959856987, -0.00014245744387153536, 0.057110074907541275, 0.030268797650933266, -0.013529627583920956, -0.04629375785589218, -0.012579434551298618, 0.018368467688560486, -0.009889695793390274, -0.01691138558089733, 0.03825466334819794, 0.0271073579788208, -0.1041674092411995, -0.014870252460241318, 0.028485944494605064, 0.0070266807451844215, -0.03262393921613693, 0.024559883400797844, 0.0045441146939992905, 0.012745088897645473, 0.021893462166190147, 0.014667946845293045, 0.001110888086259365, -0.06492006778717041, -0.004571379162371159, 0.02366933599114418, -0.015817731618881226, 0.05720985680818558, -0.0345175638794899, 0.018073854967951775, 0.050241053104400635, 0.03106319159269333, 0.0066062589175999165, -0.0469040647149086, -0.027500491589307785, 0.045247793197631836, -0.02852327562868595, 0.040982939302921295, -0.02894440107047558, -0.04443144053220749, -0.03902950510382652, -0.020365344360470772, -0.026738805696368217, 0.05663229525089264, -0.010026874020695686, 0.01433494221419096, 0.011053822934627533, 0.013605833984911442, -0.0018017073161900043, -0.06102275103330612, -0.03922444209456444, -0.024675380438566208, 0.05290922522544861, 0.021725371479988098, -0.01934276521205902, 0.009532574564218521, -0.03275094926357269, -0.03986525163054466, 0.03821403905749321, -0.009230101481080055, -0.04589630663394928, 0.06575308740139008, 0.02526622824370861, -0.018659353256225586, 0.008876781910657883, 0.03926151990890503, -0.05208025500178337, 0.0474589541554451, 0.0033570746891200542, 0.016553008928894997, 0.03175811842083931, 0.0395858995616436, 0.00479521369561553, -0.028426123782992363, -0.04252200201153755, -0.01386924460530281, -0.013864289969205856, 0.0007772607496008277, 0.07288770377635956]
1
768
[[-0.017321424558758736, -0.0290683601051569, 0.02144867181777954, 0.03564919903874397, 0.007519469130784273, -0.0020619011484086514, 0.01159549318253994, 0.0033334267791360617, -0.030980847775936127, 0.028360769152641296, -0.00923326425254345, -0.015223197638988495, 0.045116547495126724, 0.029102467000484467, -0.034634821116924286, -0.02428201586008072, -0.02622298151254654, -0.012027820572257042, -0.033619582653045654, -0.006393300835043192, 0.04940227046608925, -0.005081124138087034, -0.013001572340726852, 0.04863433539867401, 0.01769079640507698, 0.019589051604270935, -0.05099540203809738, 0.02014349400997162, 0.07345512509346008, -0.056142907589673996, 0.017525048926472664, -0.04323125630617142, -0.03591267392039299, -0.04471318796277046, -0.03387963026762009, 0.02250732108950615, 0.0260605551302433, 0.03198987990617752, 0.015925999730825424, 0.055788323283195496, -0.008521814830601215, 0.003774485783651471, -0.004999945871531963, -0.032853759825229645, 0.03646484762430191, 0.010934969410300255, -0.02773832529783249, -0.040138907730579376, 0.03286226838827133, -0.04289257898926735, -0.04034288600087166, -0.05297926440834999, -0.010307238437235355, 0.01675456389784813, 0.002258037682622671, -0.010667218826711178, -0.05834063142538071, 0.03491596132516861, 0.08479320257902145, -0.06158952787518501, -0.032164279371500015, -0.010000646114349365, -0.08898387849330902, 0.02972586452960968, 0.021418822929263115, -0.054490238428115845, 0.0574653334915638, -0.05757038667798042, 0.03782184422016144, -0.047682881355285645, 0.008862263523042202, -0.05072873830795288, 0.004423295613378286, -0.10649670660495758, -0.037948817014694214, -0.003030016552656889, 0.03342246636748314, 0.043445296585559845, -0.05618777126073837, 0.056365132331848145, 0.037387412041425705, 0.002760133007541299, 0.04104584828019142, -0.002229600679129362, -0.030764112249016762, 0.032726626843214035, -0.008634235709905624, 0.02173653617501259, 0.0011450621532276273, 0.04624494910240173, -0.03307458013296127, -0.07201699912548065, -0.016203274950385094, 0.0036587673239409924, -0.012880930677056313, 0.019049828872084618, 0.04802519455552101, 0.012124101631343365, 0.04760000854730606, 0.050861284136772156, 0.038192279636859894, 0.061423029750585556, -0.017844833433628082, 0.026627566665410995, -0.0229574516415596, 0.006922928616404533, -0.03528516739606857, -0.0240724328905344, -0.040312256664037704, -0.0032211754005402327, -0.012484926730394363, -0.0663076713681221, -0.007122499402612448, 0.037984441965818405, 0.0038152653723955154, -0.06272412836551666, 0.0509425513446331, -0.056290652602910995, -0.058687008917331696, -0.010993730276823044, 0.0430663600564003, 0.02154427394270897, -0.041093580424785614, -0.014876669272780418, -0.060619112104177475, 0.024312550202012062, -0.024698927998542786, 0.008390418253839016, -0.019487500190734863, 0.007395193446427584, -0.01375834085047245, 0.011960526928305626, 0.031002424657344818, -0.08624697476625443, 0.024247542023658752, 0.006527060177177191, -0.03665762394666672, 0.02803284116089344, 0.006271459627896547, 0.07319948822259903, -0.05682418495416641, -0.04574257507920265, -0.03672082722187042, 0.015206302516162395, -0.02461088076233864, -0.01586904563009739, 0.013223697431385517, -0.054297711700201035, -0.04598791524767876, -0.006337896920740604, 0.06237014755606651, -0.03651244938373566, 0.01589328609406948, 0.07579127699136734, -0.013197096064686775, 0.026848727837204933, -0.01778201386332512, 0.002971116453409195, 0.008328345604240894, 0.025022976100444794, -0.024580515921115875, 0.034560929983854294, 0.0050260028801858425, -0.02787385880947113, -0.08644828200340271, -0.03169411048293114, 0.005510836839675903, 0.04482191801071167, -0.023682281374931335, -0.0391206219792366, -0.06080467253923416, 0.027954647317528725, 0.03046696074306965, 0.015648001804947853, -0.017990151420235634, 0.04091879352927208, 0.03362458944320679, 0.037195030599832535, -0.0177246555685997, 0.054683029651641846, 0.02061222307384014, -0.025283208116889, -0.028483398258686066, 0.03470484912395477, 0.05267150327563286, -0.010124912485480309, 0.021229730919003487, 0.023600108921527863, 0.014927630312740803, -0.04385334625840187, 0.009330634027719498, 0.06787162274122238, -0.04097283259034157, -0.009420155547559261, 0.036641813814640045, -0.010596320964396, -0.03766893595457077, 0.03683076798915863, -0.028229041025042534, -0.008987233974039555, -0.05227290093898773, 0.03991328924894333, 0.020183095708489418, 0.050611864775419235, -0.004223272204399109, 0.04868282377719879, -0.03727664053440094, 0.07120431214570999, -0.005240161437541246, 0.027111586183309555, -0.05283592268824577, -0.061826545745134354, 0.015926817432045937, 0.02243269421160221, 0.05361457169055939, 0.03672531619668007, -0.027527185156941414, -0.07340686023235321, 0.04527905583381653, 0.04849943891167641, 0.04911305755376816, 0.00674306508153677, -0.04111838340759277, 0.007636277470737696, 0.027770960703492165, 0.03094053640961647, -0.055380359292030334, -0.032657623291015625, 0.018110627308487892, 0.055499594658613205, -0.023379191756248474, 0.006783255375921726, -0.022936547175049782, 0.019551491364836693, -0.03582318127155304, -0.06713026762008667, 0.027420353144407272, 0.03327900543808937, 0.005401282571256161, 0.0005863559781573713, -0.018303031101822853, 0.026252977550029755, 0.02077643573284149, 0.02444145828485489, 0.030188167467713356, -0.03149719163775444, 0.012608859688043594, -0.02100216969847679, 0.08470612019300461, -0.0031517825555056334, 0.033449966460466385, 0.013242308981716633, 0.02110837772488594, 0.014618230983614922, -0.04304170981049538, 0.02197984606027603, 0.06688559055328369, 0.02574421651661396, -0.045794527977705, 0.0373358353972435, 0.03567683696746826, 0.044516921043395996, 0.07325885444879532, 0.007987595163285732, 0.040773455053567886, -0.0027179326862096786, 0.01602841727435589, 0.030576495453715324, 0.013823426328599453, 0.008543203584849834, 0.020804863423109055, 0.08582372218370438, 0.0004137080395594239, -0.01901276409626007, 0.07436161488294601, -0.03382265940308571, 0.007069360930472612, -0.053395360708236694, 0.024815915152430534, -0.0338716134428978, -0.022816475480794907, 0.04400728642940521, -0.020293278619647026, -0.014036102220416069, -0.0034727640450000763, -0.010488650761544704, 0.008831663988530636, 0.0338919535279274, -0.010221480391919613, 0.024804800748825073, -0.004506160970777273, -0.026584165170788765, 0.028500426560640335, -0.06343217194080353, -0.024766407907009125, -0.02698618732392788, -0.04278045892715454, 0.023514093831181526, -0.06462697684764862, 0.00019009616516996175, -0.041659679263830185, -0.02747407555580139, 0.030351657420396805, 0.021620070561766624, 0.02664831466972828, -0.017507608979940414, 0.04152553528547287, -0.04807824641466141, -0.0418708473443985, -0.031889189034700394, -0.04912397265434265, -0.045796893537044525, -0.047752924263477325, 0.037040527909994125, 0.03883790597319603, -0.010969972237944603, 0.052010659128427505, -0.0028239635284990072, 0.010785464197397232, -0.0499294176697731, 0.06617559492588043, 0.01020990964025259, -0.0059270779602229595, -0.008470469154417515, 0.020733419805765152, 0.003880891017615795, -0.03046511486172676, -0.038246043026447296, -0.023029915988445282, 0.08330415189266205, 0.0814347043633461, 0.019334042444825172, 0.01608927547931671, 0.0231016892939806, -0.059429723769426346, -0.017135992646217346, -0.04106093570590019, -0.012111494317650795, -0.007100872695446014, -0.047069329768419266, -0.03065279684960842, -0.015734704211354256, -0.012285885401070118, -0.01509094052016735, -0.006573914550244808, -0.01767726242542267, 0.03516869619488716, 0.03823452070355415, 0.047458309680223465, 0.04796659201383591, 0.0036093818489462137, 0.0051482380367815495, 0.09279636293649673, -0.009012808091938496, -0.029566612094640732, -0.07162266224622726, -0.04701884463429451, 0.018646517768502235, -0.012380776926875114, 0.01323506236076355, -0.05949578434228897, 0.04261186718940735, -0.0020745713263750076, -0.0008975438540801406, 0.027776023373007774, -0.022997431457042694, 0.008152569644153118, -0.003328507300466299, 0.02153967134654522, -0.0015762682305648923, -0.060422927141189575, 0.013903005048632622, -0.020790306851267815, 0.03715454414486885, -0.04409933462738991, -0.027633583173155785, -0.017945939674973488, 0.013620913028717041, 0.002300640568137169, -0.01987757720053196, -0.042235616594552994, 0.010321836918592453, -0.06352412700653076, -0.03793075680732727, -0.009916971437633038, 0.009865921922028065, 0.013699888251721859, 0.07334297895431519, 0.028970519080758095, -0.008001064881682396, 0.037864528596401215, -0.0046511320397257805, 0.05371379479765892, 0.04236424341797829, -0.005195035599172115, 0.045150261372327805, -0.024089565500617027, 0.02996688149869442, 0.01702144183218479, -0.024357546120882034, -0.02874450944364071, -0.07051112502813339, -0.043213099241256714, 0.015171256847679615, -0.013019931502640247, 0.007322291377931833, 0.032377343624830246, -0.0761328786611557, -0.006147494073957205, -0.009803448803722858, 0.026521947234869003, 0.02876337245106697, -0.03936163708567619, 0.04309429973363876, -0.02219192497432232, 0.028185781091451645, -0.020020579919219017, 0.007225584704428911, -0.039547450840473175, -0.038863398134708405, 0.0023863662499934435, 0.03486962988972664, 0.009217005223035812, 0.04753095656633377, 0.07488342374563217, 0.021021869033575058, -0.019261261448264122, 0.05075135827064514, 0.05234203487634659, 0.042802054435014725, -0.058917783200740814, 0.009169568307697773, -0.0114184794947505, -0.024603283032774925, -0.020432887598872185, -0.03730656951665878, -0.011245569214224815, 0.0518949069082737, -0.01777232438325882, -0.020640768110752106, 0.015455231070518494, -0.009173426777124405, -0.019948413595557213, -0.07887320220470428, 0.010364311747252941, 0.023990197107195854, -0.02183448150753975, -0.016735829412937164, 0.04933293163776398, 0.010621244087815285, 0.053837575018405914, 0.019890988245606422, -0.02331245131790638, -0.042438603937625885, 0.0376339852809906, 0.011187724769115448, -0.0675845816731453, -0.04671342670917511, -0.05316471308469772, 0.03220190852880478, 0.02316640503704548, -0.010591902770102024, -0.08743032068014145, 0.017634905874729156, 0.0520271360874176, -0.0533728264272213, 0.06312556564807892, 0.03298362344503403, 0.04579544439911842, 0.04387025162577629, -0.0067642005160450935, -0.0012411015341058373, -0.0220523402094841, -0.015545527450740337, -0.004620107356458902, 0.04921107366681099, -0.01686077192425728, -0.02403855137526989, -0.036483075469732285, 0.034233104437589645, -0.0004134571354370564, 0.03333095461130142, 0.023780155926942825, -0.0215507410466671, -0.039365991950035095, 0.007088224403560162, 0.021579977124929428, -0.04926331341266632, 0.015588230453431606, 0.0431477315723896, 0.01689556986093521, -0.02139599435031414, -0.025761902332305908, -0.005895566660910845, 0.009362280368804932, 0.06592248380184174, -0.024581845849752426, -0.033219024538993835, -0.03883035480976105, 0.022612683475017548, 0.004720636177808046, -0.04392965883016586, -0.10522866994142532, 0.03612978011369705, -0.007931091822683811, -0.02656685747206211, 0.0595211498439312, 0.02757774479687214, 0.023897986859083176, 0.07394728809595108, 0.0013310438953340054, 0.015569751150906086, -0.03303242474794388, 0.04341736435890198, -0.03539205342531204, -0.036442358046770096, 0.011251267977058887, -0.05132952705025673, -0.01252642460167408, -0.040165532380342484, -0.044165316969156265, -0.0377374067902565, 0.01601918786764145, 0.033709876239299774, -0.029712719842791557, 0.01371624507009983, 0.012021202594041824, 0.009144358336925507, -0.0012294809566810727, -0.054170094430446625, -0.012410640716552734, -0.03506080433726311, -0.059657350182533264, -0.04365936294198036, 0.03791392594575882, -0.005035681184381247, 0.023932164534926414, 0.0034728029277175665, 0.02458377555012703, 0.013101131655275822, -0.019378934055566788, -0.017877968028187752, 0.032196931540966034, 0.02618904784321785, -0.044426120817661285, -0.04397771507501602, -0.04404795542359352, 0.012077024206519127, 0.0009185854578390718, -0.057090867310762405, 0.03635062649846077, 0.02196238934993744, -0.021085225045681, -0.02153061516582966, 0.013250293210148811, 0.00024128140648826957, -0.046743229031562805, -0.05875478312373161, 0.0014907746808603406, 0.01107202097773552, 0.0355990007519722, -0.044903725385665894, -0.00744067644700408, 0.039901454001665115, 0.054436638951301575, 0.03989597037434578, 0.020156705752015114, -0.0024347302969545126, 0.05408094823360443, -0.03394201770424843, 0.01124644186347723, -0.08133042603731155, 0.012479742057621479, -0.014537785202264786, 0.03361954540014267, -0.016587598249316216, -0.0019532712176442146, -0.04333049803972244, 0.03773229196667671, -0.03504340723156929, -0.02680058404803276, 0.009273001924157143, 0.020638667047023773, -0.03398161754012108, 0.04324514791369438, -0.032252904027700424, 0.012472523376345634, -0.04653674736618996, 0.021308109164237976, -0.03609234094619751, -0.007463605143129826, 0.002886619418859482, -0.010017814114689827, -0.05408637970685959, -0.03729449212551117, -0.018613724038004875, -0.0747760459780693, 0.014677428640425205, 0.04456208646297455, -0.0037362310104072094, 0.01652003638446331, -0.02049092948436737, -0.009004614315927029, 0.01310324389487505, -0.04954605549573898, -0.024893861263990402, -0.054506320506334305, -0.02564423345029354, 0.0038152928464114666, 0.02247799001634121, 0.03442836552858353, -0.04935676231980324, -0.04851234331727028, 0.06551472097635269, 0.04748581722378731, 0.012762893922626972, 0.012478840537369251, 0.03356518596410751, 0.029689347371459007, 0.03162391856312752, 0.0009990492835640907, 0.015171544626355171, -0.039270542562007904, 0.019663330167531967, -0.0032285084016621113, 0.0005036802613176405, 0.005587312392890453, -0.029122715815901756, -0.04797721281647682, -0.029384853318333626, 0.09772323071956635, 0.04215091094374657, 0.036107707768678665, -0.0059586623683571815, -0.06001514196395874, 0.04123353213071823, 0.02582753449678421, -0.033240944147109985, 0.019794894382357597, 0.00762584013864398, -0.04011582210659981, 0.06632877886295319, 0.025751780718564987, 0.0337512381374836, 0.022395649924874306, 0.014725248329341412, -0.026703786104917526, 0.03363873064517975, -0.04476390779018402, -0.0031432872638106346, 0.022113017737865448, -0.04401383548974991, 0.0010328451171517372, -0.03826238587498665, 0.049495622515678406, -0.03614891692996025, 0.04957938194274902, 0.050102073699235916, -9.874166426016018e-05, 0.011222000233829021, -0.028685754165053368, -0.010983431711792946, 0.031677842140197754, -0.010753041133284569, 0.06186556816101074, -0.0074374014511704445, -0.07745931297540665, 0.03900652006268501, 0.03108547255396843, -0.06512308120727539, 0.031722452491521835, 0.008549943566322327, 0.012647946365177631, 0.03415451943874359, 0.04522695019841194, -0.05784319341182709, -0.01139136590063572, -0.014637447893619537, 0.013122860342264175, -0.03127758577466011, -0.02670898847281933, 0.051023080945014954, 0.010094310157001019, -0.009224277921020985, 0.03171323239803314, -0.007032867521047592, 0.02815721184015274, 0.03412032499909401, -0.04599647969007492, -0.05517728999257088, 0.006577468477189541, 0.050992149859666824, 0.03993885591626167, -0.009872814640402794, -0.04027444124221802, -0.006794418208301067, 0.016102338209748268, -0.01627134159207344, -0.03268791362643242, 0.061120036989450455, 0.03230159357190132, -0.11263767629861832, 0.0009169777040369809, 0.036213599145412445, 0.0032208524644374847, -0.035493154078722, 0.01669081673026085, 0.0012780106626451015, 0.007710043806582689, 0.015535444021224976, 0.015169922262430191, 0.0034496274311095476, -0.07034318149089813, -0.009966891258955002, 0.023845499381422997, -0.0037595026660710573, 0.04338093847036362, -0.028243770822882652, 0.013600415550172329, 0.06672463566064835, 0.025279821828007698, 0.012037968263030052, -0.05715629830956459, -0.030268756672739983, 0.03982356935739517, -0.02968951314687729, 0.043989308178424835, -0.03443540632724762, -0.042146142572164536, -0.051622238010168076, -0.01609404757618904, -0.01765049248933792, 0.06530895829200745, -0.006290975026786327, 0.016796844080090523, 0.01698577031493187, 0.00958422850817442, 0.00293816183693707, -0.05678679049015045, -0.03955871984362602, -0.03187083080410957, 0.05141907185316086, 0.019684238359332085, -0.024625755846500397, 0.018303697928786278, -0.03491023927927017, -0.04864603281021118, 0.03176124766469002, -0.011285300366580486, -0.028160076588392258, 0.07350596785545349, 0.02604042924940586, -0.021007336676120758, 0.00442914292216301, 0.034913986921310425, -0.057340387254953384, 0.03061915747821331, 0.004473674576729536, 0.011480627581477165, 0.025294611230492592, 0.03858784958720207, 0.02081691473722458, -0.02084927447140217, -0.034105028957128525, -0.018360333517193794, -0.003101494861766696, 0.0009713417966850102, 0.07005392760038376]]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.embeddings.huggingface</span> <span class="kn">import</span> <span class="n">DEFAULT_QUERY_INSTRUCTION</span><span class="p">,</span> <span class="n">DEFAULT_EMBED_INSTRUCTION</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">DEFAULT_QUERY_INSTRUCTION</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">DEFAULT_EMBED_INSTRUCTION</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Preparing Documents</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
wget<span class="w"> </span>--recursive<span class="w"> </span>--no-parent<span class="w"> </span>--accept<span class="o">=</span>.html<span class="w"> </span>--directory-prefix<span class="w"> </span>_morning<span class="w"> </span>--no-clobber<span class="w"> </span>http://ailingmusheng.ren/7/2022djth/2022-7_0008.html
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="c1">#  .ipynb_checkpoints </span>
<span class="k">def</span> <span class="nf">remove_checkpoints</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;.ipynb_checkpoints&#39;</span><span class="p">:</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>

<span class="c1">#  .ipynb_checkpoints </span>
<span class="n">remove_checkpoints</span><span class="p">(</span><span class="s1">&#39;_morning&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">delete_ds_store_files</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;.DS_Store&#39;</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>

<span class="n">delete_ds_store_files</span><span class="p">(</span><span class="s1">&#39;_morning&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># 1. </span>
<span class="n">directory_path</span> <span class="o">=</span> <span class="s1">&#39;_morning&#39;</span>

<span class="c1"># 2. </span>
<span class="n">file_extension_map</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">directory_path</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">file_name</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
        <span class="n">file_extension</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">file_extension</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">file_extension_map</span><span class="p">:</span>
            <span class="n">file_extension_map</span><span class="p">[</span><span class="n">file_extension</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">file_extension_map</span><span class="p">[</span><span class="n">file_extension</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># 3. </span>
<span class="k">for</span> <span class="n">file_extension</span><span class="p">,</span> <span class="n">file_list</span> <span class="ow">in</span> <span class="n">file_extension_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">new_directory_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directory_path</span><span class="p">,</span> <span class="n">file_extension</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_list</span><span class="p">:</span>
        <span class="n">new_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_directory_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">directory_path</span><span class="p">))</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">new_file_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># </span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">new_file_path</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>chardet
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Successfully installed chardet-5.1.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">chardet</span>

<span class="c1"># </span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;_morning/html/ailingmusheng.ren/7/2022djth/2022-7_0008.html&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># </span>
<span class="n">result</span> <span class="o">=</span> <span class="n">chardet</span><span class="o">.</span><span class="n">detect</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># </span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;encoding&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;confidence&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>: utf-8
: 0.99
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="k">def</span> <span class="nf">remove_xml_lines</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">line</span> <span class="o">!=</span> <span class="s2">&quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
                        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="n">remove_xml_lines</span><span class="p">(</span><span class="s1">&#39;_morning/htm&#39;</span><span class="p">)</span>
<span class="n">remove_xml_lines</span><span class="p">(</span><span class="s1">&#39;_morning/html&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/hwchase17/langchain/blob/master/langchain/document_loaders/__init__.py">Different Types of Document Loaders</a></li>
<li><a target="_blank" rel="noopener" href="https://python.langchain.com/en/latest/modules/indexes/document_loaders/examples/html.html">Document Loader - BSHTMLLoader</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/hwchase17/langchain/blob/master/langchain/document_loaders/html_bs.py">https://github.com/hwchase17/langchain/blob/master/langchain/document_loaders/html_bs.py</a></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">DirectoryLoader</span><span class="p">,</span> <span class="n">BSHTMLLoader</span>
<span class="n">loader</span> <span class="o">=</span> <span class="n">DirectoryLoader</span><span class="p">(</span><span class="s1">&#39;_morning/htm&#39;</span><span class="p">,</span> <span class="n">loader_cls</span><span class="o">=</span><span class="n">BSHTMLLoader</span><span class="p">)</span>
<span class="n">raw_documents</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="k">for</span> <span class="n">raw_document</span> <span class="ow">in</span> <span class="n">raw_documents</span><span class="p">:</span>
    <span class="n">raw_document</span><span class="o">.</span><span class="n">page_content</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\n+&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">raw_document</span><span class="o">.</span><span class="n">page_content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># from langchain.document_loaders import DirectoryLoader, BSHTMLLoader</span>
<span class="c1"># loader = DirectoryLoader(&#39;_morning/html&#39;, loader_cls=BSHTMLLoader)</span>
<span class="c1"># raw_documents = loader.load()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/hwchase17/langchain/blob/master/langchain/text_splitter.py">https://github.com/hwchase17/langchain/blob/master/langchain/text_splitter.py</a> =&gt; RecursiveCharacterTextSplitter</li>
<li><a target="_blank" rel="noopener" href="https://github.com/hwchase17/langchain/blob/master/langchain/schema.py">https://github.com/hwchase17/langchain/blob/master/langchain/schema.py</a> =&gt; Document</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.text_splitter</span> <span class="kn">import</span> <span class="n">RecursiveCharacterTextSplitter</span>

<span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="p">(</span>
    <span class="n">chunk_size</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span>
    <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">text_splitter</span><span class="o">.</span><span class="n">split_documents</span><span class="p">(</span><span class="n">raw_documents</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/fxsjy/jieba"></a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Kyubyong/wordvectors">https://github.com/Kyubyong/wordvectors</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/facebookresearch/fastText">https://github.com/facebookresearch/fastText</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.docstore.document</span> <span class="kn">import</span> <span class="n">Document</span>
<span class="c1"># import pdb; pdb.set_trace()</span>
<span class="n">text_splitter</span><span class="o">.</span><span class="n">split_documents</span><span class="p">([</span><span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s1">&#39;2541069224224296916112067299691216971462911~1210275174563625249~12202754~656&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{})])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Embedding Documents</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">OpenAIEmbeddings</span>
<span class="n">embeddings</span> <span class="o">=</span> <span class="n">OpenAIEmbeddings</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">HuggingFaceInstructEmbeddings</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hfi_embeddings</span> <span class="o">=</span> <span class="n">HuggingFaceInstructEmbeddings</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;hkunlp/instructor-large&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>load INSTRUCTOR_Transformer
max_seq_length  512
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><code>tqdm</code>  Python  API </p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tqdm.autonotebook</span> <span class="kn">import</span> <span class="n">trange</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">trange</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)):</span>
    <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|| 1000000/1000000 [00:00&lt;00:00, 4955597.80it/s]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> <code>tqdm</code>  <code>range()</code>  1000000  <code>tqdm()</code>  <code>tqdm.update()</code> </p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Loading Faiss Indexer from Disk</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">pickle</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/vectorstore_morning.pkl&#39;</span><span class="p">)):</span>
    <span class="c1"># load vectorstore</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/vectorstore_morning.pkl&#39;</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">vectorstore</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Embedding and Indexing</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.vectorstores.faiss</span> <span class="kn">import</span> <span class="n">FAISS</span>
<span class="n">vectorstore</span> <span class="o">=</span> <span class="n">FAISS</span><span class="o">.</span><span class="n">from_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.vectorstores.faiss</span> <span class="kn">import</span> <span class="n">FAISS</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/vectorstore_morning.pkl&#39;</span><span class="p">)):</span>
    <span class="n">vectorstore</span> <span class="o">=</span> <span class="n">FAISS</span><span class="o">.</span><span class="n">from_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">,</span> <span class="n">hfi_embeddings</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Saving Faiss Indexer to Disk</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/vectorstore_morning.pkl&#39;</span><span class="p">)):</span>
    <span class="c1"># save vectorstore</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/vectorstore_morning.pkl&#39;</span><span class="p">),</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">vectorstore</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/vectorstore_morning.pkl
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
-rw-r--r--  1 saintway  staff   1.3G Apr 17 00:47 /Users/saintway/vectorstore_morning.pkl
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Similarity Searching</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># get context related to the question from the embedding model</span>
<span class="n">vectorstore</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\u3000\n \u3000\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/10_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_1.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\u3000\n \u3000\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/9_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/4_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39; \n\n\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/5_h_4.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39; \n\n\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/2_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n \n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\n\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/7_h_1.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/10_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/9_h_3.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n21\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/7_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/4_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n13&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/6_h_1.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;26\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/9_h_4.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\u3000\n\n8\u3000\n14\u3000\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/2_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/6_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/2_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n3213&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/6_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;21&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/11_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\u3000\n\n1\u3000\n8\u3000\n1\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\n1\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/10_ts.htm&#39;, &#39;title&#39;: &#39;&#39;})]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># get context related to the question from the embedding model</span>
<span class="n">vectorstore</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\u3000\n \u3000\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/10_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_1.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\u3000\n \u3000\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/9_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/4_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39; \n\n\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/5_h_4.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39; \n\n\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/2_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n \n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\n\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/7_h_1.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/10_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/9_h_3.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n21\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/7_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/4_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n13&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/6_h_1.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;26\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/9_h_4.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\u3000\n\n8\u3000\n14\u3000\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/2_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/6_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/2_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n3213&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/6_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;21&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/11_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\u3000\n\n1\u3000\n8\u3000\n1\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\n1\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/10_ts.htm&#39;, &#39;title&#39;: &#39;&#39;})]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># get context related to the question from the embedding model</span>
<span class="n">vectorstore</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\u3000\n \u3000\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/10_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_1.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\u3000\n \u3000\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/9_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/4_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39; \n\n\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/5_h_4.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39; \n\n\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/2_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n \n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\n\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/7_h_1.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/10_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/9_h_3.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n21\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/7_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/4_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n13&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/12_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/6_h_1.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;26\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/9_h_4.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\u3000\n\n8\u3000\n14\u3000\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/2_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/6_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/2_h_5.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n3213&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_2.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/6_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;21&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/11_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\u3000\n\n1\u3000\n8\u3000\n1\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_h_6.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n\n1\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/1_ts.htm&#39;, &#39;title&#39;: &#39;&#39;}),
 Document(page_content=&#39;\n\n&#39;, metadata={&#39;source&#39;: &#39;_morning/htm/ailingmusheng.ren/7/2022djth/10_ts.htm&#39;, &#39;title&#39;: &#39;&#39;})]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Mock OpenAI</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">revChatGPT.V1</span> <span class="kn">import</span> <span class="n">Chatbot</span><span class="p">,</span> <span class="n">configure</span>

<span class="c1"># open the JSON file and read the conversation_id</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.config/revChatGPT/config.json&#39;</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">conversation_id</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;conversation_id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">bot</span> <span class="o">=</span> <span class="n">Chatbot</span><span class="p">(</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">configure</span><span class="p">(),</span>
    <span class="n">conversation_id</span> <span class="o">=</span> <span class="n">conversation_id</span><span class="p">,</span>
    <span class="n">lazy_loading</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">attrdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">attributize</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Add attributes to a dictionary and its sub-dictionaries.&#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
            <span class="n">obj</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">attributize</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">attrdict</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">attributize</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">obj</span>

<span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">bot</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">attributize</span><span class="p">({</span>
            <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s1">&#39;delta&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">):],</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">],</span>
        <span class="p">})</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">mock_create</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">summarized_prompt</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;messages&#39;</span><span class="p">]:</span>
        <span class="n">summarized_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">message</span><span class="p">[</span><span class="s1">&#39;role&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">:</span><span class="se">\n\n</span><span class="si">{</span><span class="n">message</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n\n</span><span class="s2">&quot;</span>
    <span class="n">summarized_prompt</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;stream&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">delta</span><span class="p">(</span><span class="n">summarized_prompt</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">bot</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">summarized_prompt</span><span class="p">):</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="n">attributize</span><span class="p">({</span>
        <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;finish_reason&#39;</span><span class="p">:</span> <span class="s1">&#39;stop&#39;</span><span class="p">,</span>
                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">],</span>
                    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;assistant&#39;</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">],</span>
    <span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">openai</span><span class="o">,</span> <span class="nn">pytest</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">mock_openai</span><span class="p">(</span><span class="n">monkeypatch</span><span class="p">):</span>
    <span class="n">monkeypatch</span><span class="o">.</span><span class="n">setattr</span><span class="p">(</span><span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span> <span class="n">mock_create</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>QA with Similarity Searching</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.prompts</span> <span class="kn">import</span> <span class="n">PromptTemplate</span>

<span class="n">CONDENSE_QUESTION_PROMPT</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span>
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;chat_history&#39;</span><span class="p">,</span> <span class="s1">&#39;question&#39;</span><span class="p">],</span>
    <span class="n">output_parser</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">partial_variables</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">template</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1"></span><span class="se">\n</span><span class="si">{chat_history}</span><span class="se">\n</span><span class="s1"></span><span class="si">{question}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">template_format</span><span class="o">=</span><span class="s1">&#39;f-string&#39;</span><span class="p">,</span>
    <span class="n">validate_template</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="n">QA_PROMPT</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span>
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;context&#39;</span><span class="p">,</span> <span class="s1">&#39;question&#39;</span><span class="p">],</span>
    <span class="n">output_parser</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">partial_variables</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">template</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1"></span><span class="se">\n</span><span class="si">{context}</span><span class="se">\n\n</span><span class="s1"></span><span class="si">{question}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">template_format</span><span class="o">=</span><span class="s1">&#39;f-string&#39;</span><span class="p">,</span>
    <span class="n">validate_template</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.chains.llm</span> <span class="kn">import</span> <span class="n">LLMChain</span>
<span class="kn">from</span> <span class="nn">langchain.callbacks.base</span> <span class="kn">import</span> <span class="n">CallbackManager</span>
<span class="kn">from</span> <span class="nn">langchain.callbacks.streaming_stdout</span> <span class="kn">import</span> <span class="n">StreamingStdOutCallbackHandler</span>
<span class="kn">from</span> <span class="nn">langchain.chains.question_answering</span> <span class="kn">import</span> <span class="n">load_qa_chain</span>
<span class="kn">from</span> <span class="nn">langchain.vectorstores.base</span> <span class="kn">import</span> <span class="n">VectorStore</span>
<span class="kn">from</span> <span class="nn">langchain.chains</span> <span class="kn">import</span> <span class="n">ConversationalRetrievalChain</span>
<span class="kn">from</span> <span class="nn">langchain.chat_models</span> <span class="kn">import</span> <span class="n">ChatOpenAI</span>

<span class="c1"># Callback function to stream answers to stdout.</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">CallbackManager</span><span class="p">([</span><span class="n">StreamingStdOutCallbackHandler</span><span class="p">()])</span>

<span class="n">streaming_llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">callback_manager</span><span class="o">=</span><span class="n">manager</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">question_gen_llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">callback_manager</span><span class="o">=</span><span class="n">manager</span><span class="p">)</span>
<span class="c1"># Prompt to generate independent questions by incorporating chat history and a new question.</span>
<span class="n">question_generator</span> <span class="o">=</span> <span class="n">LLMChain</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">question_gen_llm</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">CONDENSE_QUESTION_PROMPT</span><span class="p">)</span>
<span class="c1"># Pass in documents and a standalone prompt to answer questions.</span>
<span class="n">doc_chain</span> <span class="o">=</span> <span class="n">load_qa_chain</span><span class="p">(</span><span class="n">streaming_llm</span><span class="p">,</span> <span class="n">chain_type</span><span class="o">=</span><span class="s1">&#39;stuff&#39;</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">QA_PROMPT</span><span class="p">)</span>
<span class="c1"># Generate prompts from embedding model.</span>
<span class="n">qa</span> <span class="o">=</span> <span class="n">ConversationalRetrievalChain</span><span class="p">(</span><span class="n">retriever</span><span class="o">=</span><span class="n">vectorstore</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(),</span> <span class="n">combine_docs_chain</span><span class="o">=</span><span class="n">doc_chain</span><span class="p">,</span> <span class="n">question_generator</span><span class="o">=</span><span class="n">question_generator</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">answer</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_qa</span><span class="p">(</span><span class="n">mock_openai</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">answer</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="n">qa</span><span class="p">({</span><span class="s1">&#39;question&#39;</span><span class="p">:</span> <span class="n">question</span><span class="p">,</span> <span class="s1">&#39;chat_history&#39;</span><span class="p">:</span> <span class="p">[]})</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">answer</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ipymock</span> <span class="kn">import</span> <span class="n">do</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">do</span><span class="p">(</span>
    <span class="n">mock_openai</span><span class="o">=</span><span class="n">mock_openai</span><span class="p">,</span>
    <span class="n">test_qa</span><span class="o">=</span><span class="n">test_qa</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
=&gt; no.0  ::tools::test_qa  setup  passed



=&gt; no.0  ::tools::test_qa  runtest  passed

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">answer</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{&#39;question&#39;: &#39;&#39;,
 &#39;chat_history&#39;: [],
 &#39;answer&#39;: &#39;&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Instructor Transformer</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">InstructorEmbedding</span> <span class="kn">import</span> <span class="n">INSTRUCTOR</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">INSTRUCTOR</span><span class="p">(</span><span class="s1">&#39;hkunlp/instructor-large&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>load INSTRUCTOR_Transformer
max_seq_length  512
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Faiss Indexer</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">faiss</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">faiss</span><span class="o">.</span><span class="n">IndexFlatL2</span><span class="p">(</span><span class="mi">768</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Embedding and Indexing</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentences</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">num_words</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">instruction</span> <span class="o">=</span> <span class="s1">&#39;Represent the query for retrieval:&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">instruction</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">index_embeddings</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">sentences</span>

    <span class="c1"># words = extra_text.split(&#39; &#39;)</span>
    <span class="c1"># sentences = [words[i: i+num_words] for i in range(0, len(words), num_words)]</span>
    <span class="c1"># sentences = [&#39; &#39;.join(word_list) for word_list in sentences]</span>
    <span class="kn">import</span> <span class="nn">re</span>
    <span class="n">sentences</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\n+&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))):</span>
        <span class="n">sentence</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">sentence</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">sentences</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Number of Sentences:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sentences</span><span class="p">))</span>
    <span class="c1"># print(sentences)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Building the index...&#39;</span><span class="p">)</span>
    <span class="n">embeddings</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">encode</span><span class="p">([[</span><span class="n">instruction</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">])</span>
    <span class="n">index</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">embeddings</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">index.ntotal:&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">ntotal</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index_embeddings</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">raw_document</span><span class="o">.</span><span class="n">page_content</span> <span class="k">for</span> <span class="n">raw_document</span> <span class="ow">in</span> <span class="n">raw_documents</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
Number of Sentences: 13960

Building the index...

index.ntotal: 13960
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Faiss Search</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">k</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">retrieve_extra_info</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Retrieving extra information...&#39;</span><span class="p">)</span>
    <span class="n">xq</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">encode</span><span class="p">([[</span><span class="n">instruction</span><span class="p">,</span> <span class="n">text</span><span class="p">]])</span>
    <span class="n">D</span><span class="p">,</span> <span class="n">I</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">xq</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">I</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">extra_info</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">extra_info</span> <span class="o">+=</span> <span class="n">sentences</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sentences</span><span class="p">),</span> <span class="n">i</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">extra_info:&#39;</span><span class="p">,</span> <span class="n">extra_info</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">extra_info</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">retrieve_extra_info</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">retrieve_extra_info</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">retrieve_extra_info</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
Retrieving extra information...
[5.4066086e-14 1.1163864e-02 1.1163864e-02 1.1163864e-02 1.1163864e-02
 1.1163864e-02 1.1163864e-02 1.1163864e-02 1.1163864e-02 3.0758277e-02
 4.8185803e-02 4.8678309e-02 4.8678320e-02 4.8678324e-02 4.8678324e-02
 4.8678324e-02 4.8678324e-02 4.9394563e-02 4.9731985e-02 5.5326112e-02]
[ 5745    20  2756  4925  6154  9841  9866 10484 12664  4078  2048 13937
  6191   159  2695  7559 11518 12666  9761  2050]

extra_info: 





















Retrieving extra information...
[5.4066086e-14 1.1163864e-02 1.1163864e-02 1.1163864e-02 1.1163864e-02
 1.1163864e-02 1.1163864e-02 1.1163864e-02 1.1163864e-02 3.0758277e-02
 4.8185803e-02 4.8678309e-02 4.8678320e-02 4.8678324e-02 4.8678324e-02
 4.8678324e-02 4.8678324e-02 4.9394563e-02 4.9731985e-02 5.5326112e-02]
[ 5745    20  2756  4925  6154  9841  9866 10484 12664  4078  2048 13937
  6191   159  2695  7559 11518 12666  9761  2050]

extra_info: 





















Retrieving extra information...
[5.4066086e-14 1.1163864e-02 1.1163864e-02 1.1163864e-02 1.1163864e-02
 1.1163864e-02 1.1163864e-02 1.1163864e-02 1.1163864e-02 3.0758277e-02
 4.8185803e-02 4.8678309e-02 4.8678320e-02 4.8678324e-02 4.8678324e-02
 4.8678324e-02 4.8678324e-02 4.9394563e-02 4.9731985e-02 5.5326112e-02]
[ 5745    20  2756  4925  6154  9841  9866 10484 12664  4078  2048 13937
  6191   159  2695  7559 11518 12666  9761  2050]

extra_info: 




















</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Chat with PDF</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messages_in_english</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;You are an AI agent that summarizes chat in less than three setences.&#39;</span>
<span class="p">}]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messages_in_chinese</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39; AI &#39;</span>
<span class="p">}]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">chats_in_english</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;You are an AI assistant providing helpful advice.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;You are given the following extracted parts of a long document and a question.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;Provide a conversational answer based on the context provided.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;You should only provide hyperlinks that reference the context below.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;Do NOT make up hyperlinks.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;If you can</span><span class="se">\&#39;</span><span class="s1">t find the answer in the context below, use your prior knowledge,</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;but in most of the cases the answer will be in the context.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="c1"># &#39;If the question is not related to the context, politely respond that you are tuned to only answer questions that are related to the context.\n&#39; + \</span>
    <span class="s1">&#39;Answer in Markdown format.</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="p">}]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">chats_in_chinese</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39; AI </span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;****</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
    <span class="c1"># &#39;\n&#39; + \</span>
    <span class="s1">&#39; Markdown </span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="p">}]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>PyPDF2
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Successfully installed PyPDF2-3.0.1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">PyPDF2</span>

<span class="k">def</span> <span class="nf">extract_text</span><span class="p">(</span><span class="n">pdf_file</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Extract text from a PDF file.&#39;&#39;&#39;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pdf_file</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">page</span><span class="o">.</span><span class="n">extract_text</span><span class="p">()</span> <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">PyPDF2</span><span class="o">.</span><span class="n">PdfReader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">pages</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">build_the_bot</span><span class="p">(</span><span class="n">pdf_file</span><span class="p">,</span> <span class="n">openai_key</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;split sentences in chinese&#39;&#39;&#39;</span>
    <span class="n">openai</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">openai_key</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;OpenAI Key:&#39;</span><span class="p">,</span> <span class="n">openai_key</span><span class="p">)</span>

    <span class="n">extra_text</span> <span class="o">=</span> <span class="n">extract_text</span><span class="p">(</span><span class="n">pdf_file</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Text Length:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">extra_text</span><span class="p">))</span>

    <span class="n">index_embeddings</span><span class="p">(</span><span class="n">extra_text</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">extra_text</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">openai</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">chat</span><span class="p">(</span><span class="n">chat_history</span><span class="p">,</span> <span class="n">user_input</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;chat in chinese&#39;&#39;&#39;</span>
    <span class="k">global</span> <span class="n">sentences</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">messages_in_chinese:&#39;</span><span class="p">,</span> <span class="n">messages_in_chinese</span><span class="p">)</span>
    <span class="c1"># messages_in_english.append({&#39;role&#39;: &#39;user&#39;, &#39;content&#39;: &#39;Question:\n&#39; + user_input})</span>
    <span class="c1"># print(&#39;\nmessages_in_english:&#39;, messages_in_english)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Summarizing the chat history...&#39;</span><span class="p">)</span>

    <span class="n">completion</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;gpt-3.5-turbo&#39;</span><span class="p">,</span>
        <span class="n">temperature</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">messages</span> <span class="o">=</span> <span class="n">messages_in_chinese</span>
    <span class="p">)</span>

    <span class="n">summary</span> <span class="o">=</span> <span class="n">completion</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Summarized Histoy: </span><span class="si">{</span><span class="n">summary</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">extra_info</span> <span class="o">=</span> <span class="n">retrieve_extra_info</span><span class="p">(</span><span class="n">summary</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="n">user_input</span><span class="p">)</span>

    <span class="n">chats_in_chinese</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">extra_info</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="n">user_input</span><span class="p">})</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">chats_in_chinese:&#39;</span><span class="p">,</span> <span class="n">chats_in_chinese</span><span class="p">)</span>
    <span class="n">completion</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;gpt-3.5-turbo&#39;</span><span class="p">,</span>
        <span class="n">temperature</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">messages</span> <span class="o">=</span> <span class="n">chats_in_chinese</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">chats_in_chinese</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span>
    <span class="p">)</span>

    <span class="n">chat_output</span> <span class="o">=</span> <span class="n">completion</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">ChatGPT: </span><span class="si">{</span><span class="n">chat_output</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># messages_in_chinese.append({&#39;role&#39;: &#39;&#39;, &#39;content&#39;: user_input})</span>
    <span class="c1"># messages_in_chinese.append({&#39;role&#39;: &#39;&#39;, &#39;content&#39;: chat_output})</span>
    <span class="k">yield</span> <span class="n">chat_history</span> <span class="o">+</span> <span class="p">[(</span><span class="n">user_input</span><span class="p">,</span> <span class="n">chat_output</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>gradio
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Successfully installed altair-4.2.2 contourpy-1.0.7 cycler-0.11.0 ffmpy-0.3.0 fonttools-4.39.3 fsspec-2023.4.0 gradio-3.26.0 gradio-client-0.1.2 kiwisolver-1.4.4 linkify-it-py-2.0.0 matplotlib-3.7.1 mdit-py-plugins-0.3.3 orjson-3.8.10 pydub-0.25.1 pyparsing-3.0.9 python-multipart-0.0.6 semantic-version-2.10.0 toolz-0.12.0 uc-micro-py-1.0.1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">gradio</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_demo</span><span class="p">(</span><span class="n">mock_openai</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Blocks</span><span class="p">()</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
        <span class="n">gradio</span><span class="o">.</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;Chat with a PDF document&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Tab</span><span class="p">(</span><span class="s1">&#39;Select PDF&#39;</span><span class="p">):</span>
            <span class="n">pdf</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">File</span><span class="p">()</span>
            <span class="n">openai_key</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;OpenAI API Key&#39;</span><span class="p">,)</span>
            <span class="n">text_output</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;PDF content&#39;</span><span class="p">)</span>
            <span class="n">text_button</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Build the Bot!!!&#39;</span><span class="p">)</span>
            <span class="n">text_button</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">build_the_bot</span><span class="p">,</span> <span class="p">[</span><span class="n">pdf</span><span class="p">,</span> <span class="n">openai_key</span><span class="p">],</span> <span class="n">text_output</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Tab</span><span class="p">(</span><span class="s1">&#39;Knowledge Bot&#39;</span><span class="p">):</span>
            <span class="n">chatbot</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Chatbot</span><span class="p">()</span>
            <span class="n">message</span> <span class="o">=</span> <span class="n">gradio</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="s1">&#39;What is this document about?&#39;</span><span class="p">)</span>
            <span class="n">message</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="p">[</span><span class="n">chatbot</span><span class="p">,</span> <span class="n">message</span><span class="p">],</span> <span class="n">chatbot</span><span class="p">)</span>
    <span class="n">demo</span><span class="o">.</span><span class="n">queue</span><span class="p">()</span><span class="o">.</span><span class="n">launch</span><span class="p">(</span><span class="n">debug</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">True</span>
    <span class="n">demo</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">do</span><span class="p">(</span>
    <span class="n">mock_openai</span><span class="o">=</span><span class="n">mock_openai</span><span class="p">,</span>
    <span class="n">test_demo</span><span class="o">=</span><span class="n">test_demo</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
=&gt; no.0  ::tools::test_demo  setup  passed

Running on local URL:  http://127.0.0.1:7860

To create a public link, set `share=True` in `launch()`.
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><iframe src="http://127.0.0.1:7860/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>OpenAI Key: 

Text Length: 4047

Number of Sentences: 157
[&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39; &#39;, &#39;  &#39;, &#39; 7~8 14 578 7~12 5 15&#39;, &#39; 7~8 &#39;, &#39;&#39;, &#39;&#39;, &#39; 14 &#39;, &#39; 5 &#39;, &#39; 78 &#39;, &#39; &#39;, &#39; 7~12   &#39;, &#39;&#39;, &#39;&#39;, &#39;  &#39;, &#39;&#39;, &#39; &#39;, &#39;&#39;, &#39;&#39;, &#39; &#39;, &#39; 5 &#39;, &#39;&#39;, &#39; 15   &#39;, &#39;  &#39;, &#39;7~12&#39;, &#39; &#39;, &#39;  7~8&#39;, &#39;     &#39;, &#39;   7&#39;, &#39;  &#39;, &#39;11&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39;&#39;, &#39; 1~12 20 59&#39;, &#39;  &#39;, &#39;10~20 1819&#39;, &#39; &#39;, &#39;  &#39;, &#39;5 15&#39;, &#39;   19:&#39;, &#39; &#39;, &#39;&#39;, &#39;  816&#39;, &#39; &#39;, &#39;  7-8:&#39;, &#39;1  &#39;, &#39; 18&#39;, &#39;2  2&#39;, &#39;&#39;, &#39;  45&#39;, &#39;&#39;, &#39;&#39;, &#39;3 &#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;4 &#39;, &#39;   &#39;, &#39;1 &#39;, &#39;  25 4 20&#39;, &#39;2   &#39;, &#39;  19-20&#39;, &#39;3   15&#39;, &#39;4 &#39;, &#39; 7~8&#39;, &#39;   ......&#39;, &#39; 6~8&#39;, &#39; &#39;, &#39;  0-3&#39;, &#39;1 &#39;, &#39;&#39;, &#39; &#39;, &#39;2  &#39;, &#39;3 &#39;, &#39; &#39;, &#39;4 &#39;, &#39;&#39;, &#39;5 &#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;   &#39;, &#39;1 &#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;2 &#39;, &#39;&#39;, &#39;&#39;, &#39;3 &#39;, &#39;&#39;, &#39;4 &#39;, &#39;  6-12&#39;, &#39;  &#39;, &#39; &#39;, &#39;&#39;, &#39;&#39;, &#39;  &#39;, &#39;12-18&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;  &#39;, &#39;  &#39;, &#39;1 &#39;, &#39;2 &#39;, &#39;3  10-30&#39;, &#39;4 &#39;, &#39;5 &#39;, &#39;&#39;, &#39;6 &#39;, &#39;  &#39;, &#39;1 &#39;, &#39;2 &#39;, &#39;A  &#39;, &#39;B  &#39;, &#39;&#39;, &#39;C  &#39;, &#39;D      &#39;, &#39;&#39;, &#39;E  &#39;, &#39;&#39;, &#39;  &#39;, &#39;&#39;, &#39;&#39;, &#39; 0 0-12&#39;, &#39;1 &#39;, &#39;&#39;, &#39;2  a&#39;, &#39; b    &#39;, &#39;&#39;, &#39;3 &#39;, &#39;4 &#39;, &#39;&#39;, &#39;1 &#39;, &#39;&#39;, &#39;2   &#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;3 &#39;, &#39;4 &#39;]

Building the index...

index.ntotal: 471

messages_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI &#39;}]

Summarizing the chat history...

Summarized Histoy: 

Retrieving extra information...
[0.22384945 0.22384945 0.22384945 0.22384945 0.22384945 0.22384945
 0.22445944 0.22445944 0.22445944 0.22445944 0.22445944 0.22445944
 0.22445944 0.22445944 0.22445944 0.22445944 0.22445944 0.22445944
 0.22445944 0.22445944]
[ 43  81 200 238 357 395   0   2   4  23  32  63  64  90  94 101 104 109
 124 136]
157 200
157 238
157 357
157 395

extra_info:  
 
















chats_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI \n\n\n\n****\n\n\n Markdown \n&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n \n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhat is this document about?&#39;}]

ChatGPT: 

messages_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI &#39;}]

Summarizing the chat history...

Summarized Histoy: 

Retrieving extra information...
[0.02490797 0.02490797 0.02490797 0.08932048 0.08932048 0.08932048
 0.08960854 0.08960854 0.08960854 0.09182282 0.09182282 0.09182282
 0.09209618 0.09209618 0.09209618 0.09309858 0.09309858 0.09309858
 0.09309858 0.09309858]
[153 310 467 107 264 421  44 201 358 111 268 425  53 210 367  40  47 197
 204 354]
157 310
157 467
157 264
157 421
157 201
157 358
157 268
157 425
157 210
157 367
157 197
157 204
157 354

extra_info: 
  
 
  
 
  
  


chats_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI \n\n\n\n****\n\n\n Markdown \n&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n \n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhat is this document about?&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n\n  \n \n  \n \n  \n  \n\n\n&#39;}]

ChatGPT: 

messages_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI &#39;}]

Summarizing the chat history...

Summarized Histoy: 

Retrieving extra information...
[0.00558901 0.00558901 0.00558901 0.00583334 0.00583334 0.00583334
 0.00816433 0.00816433 0.00816433 0.00816433 0.00816433 0.00816433
 0.00878926 0.00878926 0.00878926 0.00878926 0.00878926 0.00878926
 0.00878926 0.00878926]
[ 27 184 341 111 268 425  40  47 197 204 354 361   7  11 164 168 321 325
  17  24]
157 184
157 341
157 268
157 425
157 197
157 204
157 354
157 361
157 164
157 168
157 321
157 325

extra_info:  
  
  
  






chats_in_chinese: [{&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39; AI \n\n\n\n****\n\n\n Markdown \n&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n \n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhat is this document about?&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n\n  \n \n  \n \n  \n  \n\n\n&#39;}, {&#39;role&#39;: &#39;&#39;, &#39;content&#39;: &#39;\n \n  \n  \n  \n\n\n\n\n\n\n&#39;}]

ChatGPT: 
Keyboard interruption in main thread... closing server.
Closing server running on port: 7860
=&gt; no.0  ::tools::test_demo  runtest  passed

</pre>
</div>
</div>

</div>
</div>

</div>
 




	
	</div>
	
  
</div>
	<a type="button" href="/2023/04/12/LangChain-Embeddings/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-04-12 </div>
			<div class="article-title"><a href="/2023/04/12/Text-Embeddings/" >Text Embedding</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Text-Embeddings">Text Embeddings<a class="anchor-link" href="#Text-Embeddings">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://openai.com/blog/new-and-improved-embedding-model">OpenAI Embedding Model</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">EdgeGPT</span> <span class="kn">import</span> <span class="n">Chatbot</span> <span class="k">as</span> <span class="n">Bing</span><span class="p">,</span> <span class="n">ConversationStyle</span>

<span class="n">bing</span> <span class="o">=</span> <span class="n">Bing</span><span class="p">(</span><span class="n">cookiePath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.config/EdgeGPT/cookies.json&#39;</span><span class="p">))</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">ask</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">bing</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="n">prompt</span><span class="p">,</span>
        <span class="n">conversation_style</span> <span class="o">=</span> <span class="n">ConversationStyle</span><span class="o">.</span><span class="n">balanced</span><span class="p">,</span>
    <span class="p">))[</span><span class="s1">&#39;item&#39;</span><span class="p">][</span><span class="s1">&#39;messages&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">---</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;adaptiveCards&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;body&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">text-embedding-ada-002 </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>text-embedding-ada-002  OpenAI [^1^]  API  ID text-embedding-ada-002[^1^] 

text-embedding-ada-002  OpenAI [^5^] 

 text-embedding-ada-002  OpenAI [^5^]

---

[1]: https://platform.openai.com/docs/guides/embeddings/second-generation-models &#34;Embeddings - OpenAI API&#34;
[2]: https://juejin.cn/post/7216319218505220151 &#34;OpenAIEmbedding -  - &#34;
[3]: https://cloud.tencent.com/developer/article/2222888 &#34;GPT-3 vs Bert vs GloVe vs Word2vec  - -&#34;
[4]: https://openai.com/blog/new-and-improved-embedding-model/ &#34;New and improved embedding model - openai.com&#34;
[5]: https://platform.openai.com/docs/guides/embeddings &#34;Embeddings - OpenAI API&#34;

text-embedding-ada-002  OpenAI [^1^][1]  API  ID text-embedding-ada-002[^1^][1] 

text-embedding-ada-002  OpenAI [^2^][5] 

 text-embedding-ada-002  OpenAI [^2^][5]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> GPT-3 GloVe Word2vec MPNet </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>GPT-3 GloVe Word2vec  MPNet GPT-3  OpenAI [^1^]GloVe  Word2vec [^1^] [^2^]MPNet [^1^] [^4^]

 text-embedding-ada-002GPT-3  Embeddings GloVeWord2vec  MPNetGPT-3 [^1^]

---

[1]: https://cloud.tencent.com/developer/article/2222888 &#34;GPT-3 vs Bert vs GloVe vs Word2vec  - -&#34;
[2]: https://developer.aliyun.com/article/1159268 &#34;GPT-3 vs Bert vs GloVe vs Word2vec -&#34;
[3]: https://new.qq.com/rain/a/20230212A01IWP00 &#34;GPT-3 vs Bert vs GloVe vs Word2vec _&#34;
[4]: https://blog.csdn.net/tMb8Z9Vdm66wH68VX1/article/details/129153025 &#34;GPT-3 vs Bert vs GloVe vs Word2vec &#34;
[5]: https://zhuanlan.zhihu.com/p/605603003 &#34;GPT-3 vs Bert vs GloVe  - &#34;

GPT-3 GloVe Word2vec  MPNet GPT-3  OpenAI [^1^][1]GloVe  Word2vec [^1^][1] [^2^][2]MPNet [^1^][1] [^3^][4]

 text-embedding-ada-002GPT-3  Embeddings GloVeWord2vec  MPNetGPT-3 [^1^][1]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre> GPT-3 GloVe Word2vec  MPNet ELMoSkip-ThoughtsQuick-ThoughtsInferSentMILA/MSR  Google [^1^]

---

[1]: https://cloud.tencent.com/developer/article/1167972 &#34; |  - -&#34;
[2]: https://blog.csdn.net/lingpy/article/details/80809926 &#34; - CSDN&#34;
[3]: https://zhuanlan.zhihu.com/p/459295186 &#34;5 NLP 11  -  - &#34;

 GPT-3 GloVe Word2vec  MPNet ELMoSkip-ThoughtsQuick-ThoughtsInferSentMILA/MSR  Google [^1^][1]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>The English term for &#34;&#34; is &#34;text embedding models&#34;. Some of the most common text embedding models include Word2Vec, GloVe, FastText and Embeddings from Language Models (ELMo)[^1^] [^2^]. If you need more information about these models or any other text embedding models, please let me know!

---

[1]: https://techblog.ezra.com/different-embedding-models-7874197dc410 &#34;What are the common word embeddings? | The Ezra Tech Blog - Medium&#34;
[2]: https://openai.com/blog/introducing-text-and-code-embeddings/ &#34;Introducing text and code embeddings - OpenAI&#34;
[3]: https://www.deepset.ai/blog/the-beginners-guide-to-text-embeddings &#34;The Beginners Guide to Text Embeddings | deepset&#34;
[4]: https://platform.openai.com/docs/guides/embeddings/embedding-models &#34;Embeddings - OpenAI API&#34;

The English term for &#34;&#34; is &#34;text embedding models&#34;. Some of the most common text embedding models include Word2Vec, GloVe, FastText and Embeddings from Language Models (ELMo)[^1^][1] [^2^][2]. If you need more information about these models or any other text embedding models, please let me know!

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">InstructorEmbedding </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>InstructorEmbedding is a text embedding model that can generate text embeddings tailored to any task (e.g., classification, retrieval, clustering, text evaluation, etc.) and domains (e.g., science, finance, etc.) by simply providing the task instruction, without any finetuning[^1^]. It is a single embedder that can generate text embeddings tailored to different downstream tasks and domains[^1^]. InstructorEmbedding is available as a Python package[^2^]. If you need more information about InstructorEmbedding or any other text embedding models, please let me know!

---

[1]: https://instructor-embedding.github.io/ &#34;Instructor Text Embedding&#34;
[2]: https://pypi.org/project/InstructorEmbedding/ &#34;InstructorEmbedding  PyPI&#34;
[3]: https://python.langchain.com/en/latest/_modules/langchain/embeddings/huggingface.html &#34;langchain.embeddings.huggingface  \uD83E\uDD9C\uD83D\uDD17 LangChain 0.0.135&#34;

InstructorEmbedding is a text embedding model that can generate text embeddings tailored to any task (e.g., classification, retrieval, clustering, text evaluation, etc.) and domains (e.g., science, finance, etc.) by simply providing the task instruction, without any finetuning[^1^][1]. It is a single embedder that can generate text embeddings tailored to different downstream tasks and domains[^1^][1]. InstructorEmbedding is available as a Python package[^2^][2]. If you need more information about InstructorEmbedding or any other text embedding models, please let me know!

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> HuggingFaceInstructEmbeddings  HuggingFaceHubEmbeddings</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>HuggingFaceInstructEmbeddings and HuggingFaceHubEmbeddings are both wrappers around sentence_transformers embedding models[^2^] [^3^]. HuggingFaceInstructEmbeddings is a wrapper around InstructorEmbedding[^2^], while HuggingFaceHubEmbeddings is a wrapper around Hugging Face Hub embedding models[^3^]. To use HuggingFaceInstructEmbeddings, you should have the `sentence_transformers` and `InstructorEmbedding` Python packages installed[^2^]. To use HuggingFaceHubEmbeddings, you should have the `huggingface_hub` Python package installed and the environment variable `HUGGINGFACEHUB_API_TOKEN` set with your API token, or pass it as a named parameter to the constructor[^3^]. If you need more information about HuggingFaceInstructEmbeddings or HuggingFaceHubEmbeddings or any other text embedding models, please let me know!

---

[1]: https://huggingface.co/blog/getting-started-with-embeddings &#34;Getting Started With Embeddings - Hugging Face&#34;
[2]: https://python.langchain.com/en/latest/_modules/langchain/embeddings/huggingface.html &#34;langchain.embeddings.huggingface  \uD83E\uDD9C\uD83D\uDD17 LangChain 0.0.135&#34;
[3]: https://sj-langchain.readthedocs.io/en/latest/reference/modules/embeddings.html &#34;Embeddings  \uD83E\uDD9C\uD83D\uDD17 LangChain 0.0.94&#34;
[4]: https://stackoverflow.com/questions/64685243/getting-sentence-embedding-from-huggingface-feature-extraction-pipeline &#34;machine learning - Getting sentence embedding from huggingface Feature ...&#34;

HuggingFaceInstructEmbeddings and HuggingFaceHubEmbeddings are both wrappers around sentence_transformers embedding models[^1^][2] [^2^][3]. HuggingFaceInstructEmbeddings is a wrapper around InstructorEmbedding[^1^][2], while HuggingFaceHubEmbeddings is a wrapper around Hugging Face Hub embedding models[^2^][3]. To use HuggingFaceInstructEmbeddings, you should have the `sentence_transformers` and `InstructorEmbedding` Python packages installed[^1^][2]. To use HuggingFaceHubEmbeddings, you should have the `huggingface_hub` Python package installed and the environment variable `HUGGINGFACEHUB_API_TOKEN` set with your API token, or pass it as a named parameter to the constructor[^2^][3]. If you need more information about HuggingFaceInstructEmbeddings or HuggingFaceHubEmbeddings or any other text embedding models, please let me know!

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">sentence_transformers  GitHub </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Here is the GitHub link for sentence_transformers: https://github.com/UKPLab/sentence-transformers [^1^] [^5^]. You can find more information about sentence_transformers and how to use it in your project by visiting this link. Let me know if you have any other questions!

---

[1]: https://github.com/taishan1994/sbert_text_similarity &#34;GitHub - taishan1994/sbert_text_similarity: sentence-transformers ...&#34;
[2]: https://github.com/zhangyi24/sentence_transformer_zh &#34;GitHub - zhangyi24/sentence_transformer_zh&#34;
[3]: https://blog.csdn.net/RinaWong/article/details/122890394 &#34;sentence-transformers_-CSDN&#34;
[4]: https://github.com/UKPLab/sentence-transformers &#34;UKPLab/sentence-transformers - Github&#34;
[5]: https://github.com/UKPLab/sentence-transformers/blob/master/docs/pretrained_models.md &#34;sentence-transformers/pretrained_models.md at master  UKPLab ... - GitHub&#34;
[6]: https://github.com/huggingface/blog/blob/main/how-to-train-sentence-transformers.md &#34;blog/how-to-train-sentence-transformers.md at main - Github&#34;

Here is the GitHub link for sentence_transformers: https://github.com/UKPLab/sentence-transformers [^1^][1] [^2^][5]. You can find more information about sentence_transformers and how to use it in your project by visiting this link. Let me know if you have any other questions!

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">InstructorEmbedding  GitHub </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Here is the GitHub link for InstructorEmbedding: https://github.com/HKUNLP/instructor-embedding [^1^] [^2^]. You can find more information about InstructorEmbedding and how to use it in your project by visiting this link. Let me know if you have any other questions!

---

[1]: https://pypi.org/project/InstructorEmbedding/ &#34;InstructorEmbedding  PyPI&#34;
[2]: https://github.com/HKUNLP/instructor-embedding &#34;GitHub - HKUNLP/instructor-embedding: One Embedder, Any Task ...&#34;
[3]: https://github.com/basujindal/chatPDF &#34;GitHub - basujindal/chatPDF: chat with PDF&#34;

Here is the GitHub link for InstructorEmbedding: https://github.com/HKUNLP/instructor-embedding [^1^][1] [^2^][2]. You can find more information about InstructorEmbedding and how to use it in your project by visiting this link. Let me know if you have any other questions!

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> HuggingFaceInstructEmbeddings  LlamaCppEmbeddings</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>HuggingFaceInstructEmbeddings  LlamaCppEmbeddings HuggingFaceInstructEmbeddings  sentence_transformers  LlamaCppEmbeddings  llama.cpp  GitHub https://github.com/HKUNLP/instructor-embedding [^1^] [^2^]  https://github.com/ggerganov/llama.cpp [^3^] 

---

[1]: https://python.langchain.com/en/latest/_modules/langchain/embeddings/llamacpp.html &#34;langchain.embeddings.llamacpp  \uD83E\uDD9C\uD83D\uDD17 LangChain 0.0.136&#34;
[2]: https://python.langchain.com/en/latest/_modules/langchain/embeddings/huggingface.html &#34;langchain.embeddings.huggingface  \uD83E\uDD9C\uD83D\uDD17 LangChain 0.0.135&#34;
[3]: https://sj-langchain.readthedocs.io/en/latest/_modules/langchain/embeddings/huggingface.html &#34;langchain.embeddings.huggingface  \uD83E\uDD9C\uD83D\uDD17 LangChain 0.0.94&#34;

HuggingFaceInstructEmbeddings  LlamaCppEmbeddings HuggingFaceInstructEmbeddings  sentence_transformers  LlamaCppEmbeddings  llama.cpp  GitHub https://github.com/HKUNLP/instructor-embedding [^1^][1] [^2^][2]  https://github.com/ggerganov/llama.cpp [^3^][3] 

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">HuggingFaceEmbeddings </span>
<span class="s1">```</span>
<span class="s1">from langchain.embeddings import HuggingFaceEmbeddings</span>

<span class="s1"># </span>
<span class="s1">text = &#39;&#39;</span>

<span class="s1">#  HuggingFace </span>
<span class="s1">embeddings = HuggingFaceEmbeddings()</span>
<span class="s1">query_result = embeddings.embed_query(text)</span>
<span class="s1">doc_result = embeddings.embed_documents([text])</span>
<span class="s1">```</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>HuggingFaceEmbeddings 
```
from transformers import AutoTokenizer
tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
print(tokenizer.cache_dir)
```

```
from transformers import AutoTokenizer, AutoModel
tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
model = AutoModel.from_pretrained(&#34;bert-base-uncased&#34;, cache_dir=&#34;my_folder&#34;)
```


---

[1]: https://python.langchain.com/en/latest/_modules/langchain/embeddings/huggingface.html &#34;langchain.embeddings.huggingface  \uD83E\uDD9C\uD83D\uDD17 LangChain 0.0.135&#34;
[2]: https://stackoverflow.com/questions/67595500/how-to-download-model-from-huggingface &#34;How to download model from huggingface? - Stack Overflow&#34;
[3]: https://github.com/hwchase17/langchain/blob/master/langchain/embeddings/huggingface.py &#34;langchain/huggingface.py at master  hwchase17/langchain&#34;

HuggingFaceEmbeddings 
```
from transformers import AutoTokenizer
tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
print(tokenizer.cache_dir)
```

```
from transformers import AutoTokenizer, AutoModel
tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
model = AutoModel.from_pretrained(&#34;bert-base-uncased&#34;, cache_dir=&#34;my_folder&#34;)
```


</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span> <span class="n">AutoTokenizer</span>
<span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">&#39;bert-base-uncased&#39;</span><span class="p">)</span>
<span class="nb">dir</span><span class="p">(</span><span class="n">tokenizer</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tokenizer</span><span class="o">.</span><span class="n">name_or_path</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;bert-base-uncased&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls<span class="w"> </span>-lah<span class="w"> </span>~/.cache/huggingface/hub/models--bert-base-uncased
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
total 0
drwxr-xr-x  6 saintway  staff   192B Apr 12 14:43 <span class="ansi-cyan-intense-fg ansi-bold">.</span>
drwxr-xr-x  6 saintway  staff   192B Apr 12 14:43 <span class="ansi-cyan-intense-fg ansi-bold">..</span>
drwxr-xr-x  3 saintway  staff    96B Apr 12 14:43 <span class="ansi-cyan-intense-fg ansi-bold">.no_exist</span>
drwxr-xr-x  6 saintway  staff   192B Apr 12 14:43 <span class="ansi-cyan-intense-fg ansi-bold">blobs</span>
drwxr-xr-x  3 saintway  staff    96B Apr 12 14:43 <span class="ansi-cyan-intense-fg ansi-bold">refs</span>
drwxr-xr-x  3 saintway  staff    96B Apr 12 14:43 <span class="ansi-cyan-intense-fg ansi-bold">snapshots</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
du<span class="w"> </span>-sh<span class="w"> </span>~/.cache/huggingface/hub/models--bert-base-uncased
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
696K	/Users/saintway/.cache/huggingface/hub/models--bert-base-uncased
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>If you're talking about vector database embeddings, check out <a target="_blank" rel="noopener" href="https://github.com/chroma-core/chroma">Chroma</a>.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.trychroma.com/">https://www.trychroma.com/</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.trychroma.com/embeddings">https://docs.trychroma.com/embeddings</a></li>
</ul>
<hr />
<p>If you're talking about fine tuning, check out <a target="_blank" rel="noopener" href="https://github.com/tloen/alpaca-lora/blob/main/finetune.py">alpaca-lora finetuning</a>.</p>
<p>I recommend using <a target="_blank" rel="noopener" href="https://huggingface.co/Pi3141/gpt4-x-alpaca-native-13B-ggml">gpt4xalpaca</a> as a base model as it doesn't have the same level of censorship as vicuna. However, if you're using it purely for ethical tasks, vicuna is definitely better.</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/chavinlo/gpt4-x-alpaca">GPT4 x Alpaca</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">Chroma Embedding Database </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Chroma Embedding Database [^1^]Chroma  AI [^2^][^3^]Chroma  Sentence Transformers  OpenAI Cohere[^3^]

 Chroma Embedding Database

---

[1]: https://docs.trychroma.com/ &#34;\uD83C\uDFE1 Home | Chroma&#34;
[2]: https://siliconangle.com/2023/04/06/chroma-bags-18m-speed-ai-models-embedding-database/ &#34;Chroma bags $18M to speed up AI models with its embedding database&#34;
[3]: https://pypi.org/project/chromadb/ &#34;chromadb  PyPI&#34;
[4]: https://www.trychroma.com/ &#34;Chroma - the AI-native open-source embedding database&#34;
[5]: https://github.com/chroma-core/chroma &#34;GitHub - chroma-core/chroma: the open source embedding database&#34;

Chroma Embedding Database [^1^][1]Chroma  AI [^2^][2][^3^][3]Chroma  Sentence Transformers  OpenAI Cohere[^3^][3]

 Chroma Embedding Database

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">ggml </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>ggml  C  16  4 ADAM  L ...[^3^]



---

[1]: https://gitee.com/mirrors/ggml &#34;ggml: ggml &#34;
[2]: https://www.oschina.net/p/ggml &#34;ggml -  - OSCHINA - &#34;
[3]: https://github.com/ggerganov/ggml &#34;GitHub - ggerganov/ggml: Tensor library for machine learning&#34;
[4]: https://zhuanlan.zhihu.com/p/616037509 &#34;LLaMa -  - &#34;
[5]: https://github.com/ggerganov/whisper.cpp &#34;ggerganov/whisper.cpp: Port of OpenAI&#39;s Whisper model in C/C++ - Github&#34;

ggml  C  16  4 ADAM  L ...[^1^][3]



</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">HUGGINGFACEHUB_API_TOKEN </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>HUGGINGFACEHUB_API_TOKEN  API  Hugging Face Hub API[^1^] [^3^]



---

[1]: https://sj-langchain.readthedocs.io/en/latest/ecosystem/huggingface.html &#34;Hugging Face  \uD83E\uDD9C\uD83D\uDD17 LangChain 0.0.94&#34;
[2]: https://zhuanlan.zhihu.com/p/344173246 &#34;Token -  - &#34;
[3]: https://github.com/hwchase17/langchain/blob/master/langchain/llms/huggingface_hub.py &#34;langchain/huggingface_hub.py at master  hwchase17/langchain&#34;

HUGGINGFACEHUB_API_TOKEN  API  Hugging Face Hub API[^1^][1] [^2^][3]



</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">Hugging Face Hub API </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Hugging Face Hub API  API Python  Hugging Face Hub API [^1^]

Hugging Face Hub API  Hub  Space [^1^]

---

[1]: https://huggingface.co/docs/hub/api &#34;https://\uE000huggingface\uE001.co/docs/\uE000hub\uE001/\uE000api\uE001&#34;

Hugging Face Hub API  API Python  Hugging Face Hub API [^1^][1]

Hugging Face Hub API  Hub  Space [^1^][1]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> HUGGINGFACEHUB_API_TOKEN  Hugging Face Hub API </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Hugging Face Hub API  HUGGINGFACEHUB_API_TOKEN Hugging Face  API  API  API [^1^] [^3^]

---

[1]: https://api-inference.huggingface.co/docs/python/html/quicktour.html &#34;Overview - Hugging Face&#34;
[2]: https://huggingface.co/docs/huggingface_hub/how-to-inference &#34;Access the Inference API - Hugging Face&#34;
[3]: https://python.langchain.com/en/latest/ecosystem/huggingface.html &#34;Hugging Face  \uD83E\uDD9C\uD83D\uDD17 LangChain 0.0.137&#34;
[4]: https://docs.fast.ai/huggingface.html &#34;fastai - Hugging Face Hub&#34;
[5]: https://zhuanlan.zhihu.com/p/619763221 &#34;HuggingGPT ChatGPTHuggingFaceAI - &#34;

Hugging Face Hub API  HUGGINGFACEHUB_API_TOKEN Hugging Face  API  API  API [^1^][1] [^2^][3]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> HUGGINGFACEHUB_API_TOKEN  HuggingFace </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre> HUGGINGFACEHUB_API_TOKEN  HuggingFace  API  API [^1^] [^3^]

---

[1]: https://huggingface.co/docs/hub/security-tokens &#34;User access tokens - Hugging Face&#34;
[2]: https://blog.csdn.net/qq_41895747/article/details/125232359 &#34;ValueError: You need to pass a valid `token` or login by using ...&#34;
[3]: https://stackoverflow.com/questions/67595500/how-to-download-model-from-huggingface &#34;How to download model from huggingface? - Stack Overflow&#34;
[4]: https://zhuanlan.zhihu.com/p/475260268 &#34;huggingface-transformers -  - &#34;
[5]: https://juejin.cn/post/7220623225775095869 &#34;ILLA Cloud-  Hugging Face Inference Endpoints - &#34;

 HUGGINGFACEHUB_API_TOKEN  HuggingFace  API  API [^1^][1] [^2^][3]

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>





---







</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> HUGGINGFACEHUB_API_TOKEN  HuggingFace </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>HuggingFace  HUGGINGFACEHUB_API_TOKEN

1.  Hugging Face https://huggingface.co/models
2.  Transformers  from_pretrained 

```python
from transformers import AutoTokenizer, AutoModelForSequenceClassification

tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
model = AutoModelForSequenceClassification.from_pretrained(&#34;bert-base-uncased&#34;)
```



---

[1]: https://zhuanlan.zhihu.com/p/475260268 &#34;huggingface-transformers -  - &#34;
[2]: https://huggingface.co/inference-api &#34;Inference API - Hugging Face&#34;
[3]: https://zhuanlan.zhihu.com/p/448852278 &#34;Huggingface Transformers - &#34;
[4]: https://pypi.org/project/huggingface-hub/ &#34;huggingface-hub  PyPI&#34;
[5]: https://stackoverflow.com/questions/67595500/how-to-download-model-from-huggingface &#34;How to download model from huggingface? - Stack Overflow&#34;

HuggingFace  HUGGINGFACEHUB_API_TOKEN

1.  Hugging Face https://huggingface.co/models
2.  Transformers  from_pretrained 

```python
from transformers import AutoTokenizer, AutoModelForSequenceClassification

tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
model = AutoModelForSequenceClassification.from_pretrained(&#34;bert-base-uncased&#34;)
```



</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> Python  HuggingFace </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre> HuggingFace 
```
from transformers import AutoTokenizer, AutoModelForSequenceClassification

tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
model = AutoModelForSequenceClassification.from_pretrained(&#34;bert-base-uncased&#34;)
```
 BERT  tokenizer

---

 HuggingFace 
```
from transformers import AutoTokenizer, AutoModelForSequenceClassification

tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
model = AutoModelForSequenceClassification.from_pretrained(&#34;bert-base-uncased&#34;)
```
 BERT  tokenizer

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> HuggingFace </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre> HuggingFace 
```
from transformers import AutoTokenizer, AutoModelForSequenceClassification

tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
model = AutoModelForSequenceClassification.from_pretrained(&#34;bert-base-uncased&#34;, resume_download=True)
```
 BERT  tokenizer

---

[1]: https://zhuanlan.zhihu.com/p/475260268 &#34;https://zhuanlan.zhihu.com/p/475260268&#34;

 HuggingFace 
```
from transformers import AutoTokenizer, AutoModelForSequenceClassification

tokenizer = AutoTokenizer.from_pretrained(&#34;bert-base-uncased&#34;)
model = AutoModelForSequenceClassification.from_pretrained(&#34;bert-base-uncased&#34;, resume_download=True)
```
 BERT  tokenizer

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">await</span> <span class="n">ask</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">PyTorch  bin </span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>PyTorch  PyTorch  state_dict  optimizer [^9^]. 



```python
torch.save(model.state_dict(), PATH)
```

`model`  PyTorch `PATH`  `PATH` 



```python
model = TheModelClass(*args, **kwargs)
model.load_state_dict(torch.load(PATH))
```

`TheModelClass`  PyTorch `*args`  `**kwargs`  `PATH` 



---

[1]: https://blog.csdn.net/qq_39686950/article/details/116090826 &#34;WindowsPyTorchncnn - CSDN&#34;
[2]: https://blog.csdn.net/season77us/article/details/104311195 &#34;Hugging Face pytorch_model.bin, config.json, vocab.txt ...&#34;
[3]: https://www.cnblogs.com/cxq1126/p/14277134.html &#34;tensorflow.ckptpytorch.bin -  - &#34;
[4]: https://zhuanlan.zhihu.com/p/620688513 &#34;Pytorch .pt .pth .bin  -  - &#34;
[5]: https://blog.csdn.net/znevegiveup1/article/details/118093294 &#34;pytorch.bin_pytorch_model.bin_-CSDN&#34;
[6]: https://blog.csdn.net/A_water_/article/details/128197563 &#34;PytorchpthC++ OpenVINObinxml_pthbin_A_water_-CSDN&#34;
[7]: https://zhuanlan.zhihu.com/p/113694038 &#34;PyTorch(2022) -  - &#34;
[8]: https://zhuanlan.zhihu.com/p/82038049 &#34;PyTorch |  - &#34;
[9]: https://pytorch.org/tutorials/recipes/recipes/saving_multiple_models_in_one_file.html &#34;Saving and loading multiple models in one file using PyTorch&#34;

PyTorch  PyTorch  state_dict  optimizer [^1^][9]. 



```python
torch.save(model.state_dict(), PATH)
```

`model`  PyTorch `PATH`  `PATH` 



```python
model = TheModelClass(*args, **kwargs)
model.load_state_dict(torch.load(PATH))
```

`TheModelClass`  PyTorch `*args`  `**kwargs`  `PATH` 



</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">DirectoryLoader</span><span class="p">,</span> <span class="n">TextLoader</span>
<span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">LlamaCppEmbeddings</span>
<span class="kn">from</span> <span class="nn">langchain.text_splitter</span> <span class="kn">import</span> <span class="n">RecursiveCharacterTextSplitter</span>
<span class="kn">from</span> <span class="nn">langchain.vectorstores.faiss</span> <span class="kn">import</span> <span class="n">FAISS</span>

<span class="k">def</span> <span class="nf">get_docs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">):</span>
    <span class="c1"># (1) Import a series of documents.</span>
    <span class="n">loader</span> <span class="o">=</span> <span class="n">DirectoryLoader</span><span class="p">(</span><span class="n">dir_name</span><span class="p">,</span> <span class="n">loader_cls</span><span class="o">=</span><span class="n">TextLoader</span><span class="p">,</span> <span class="n">silent_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">raw_documents</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
    <span class="c1"># (2) Split them into small chunks.</span>
    <span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="p">(</span>
        <span class="n">chunk_size</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span>
        <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">text_splitter</span><span class="o">.</span><span class="n">split_documents</span><span class="p">(</span><span class="n">raw_documents</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">ingest_docs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">):</span>
    <span class="n">documents</span> <span class="o">=</span> <span class="n">get_docs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">)</span>
    <span class="c1"># (3) Create embeddings for each document (using text-embedding-ada-002).</span>
    <span class="n">embeddings</span> <span class="o">=</span> <span class="n">LlamaCppEmbeddings</span><span class="p">(</span><span class="n">model_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/ggml-model-q4_1.bin&#39;</span><span class="p">),</span> <span class="n">n_ctx</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">FAISS</span><span class="o">.</span><span class="n">from_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">)</span>

<span class="n">vectorstore</span> <span class="o">=</span> <span class="n">ingest_docs</span><span class="p">(</span><span class="s1">&#39;_posts/ultimate-facts&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>llama.cpp: loading model from /Users/saintway/ggml-model-q4_1.bin
llama_model_load_internal: format     = ggjt v1 (latest)
llama_model_load_internal: n_vocab    = 32000
llama_model_load_internal: n_ctx      = 1024
llama_model_load_internal: n_embd     = 5120
llama_model_load_internal: n_mult     = 256
llama_model_load_internal: n_head     = 40
llama_model_load_internal: n_layer    = 40
llama_model_load_internal: n_rot      = 128
llama_model_load_internal: f16        = 3
llama_model_load_internal: n_ff       = 13824
llama_model_load_internal: n_parts    = 1
llama_model_load_internal: model size = 13B
llama_model_load_internal: ggml ctx size =  73.73 KB
llama_model_load_internal: mem required  = 11359.03 MB (+ 3216.00 MB per state)
llama_init_from_file: kv self size  = 1600.00 MB
AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | VSX = 0 | 

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 58231.14 ms /   136 tokens (  428.17 ms per token)
llama_print_timings:        eval time =  1743.42 ms /     1 runs   ( 1743.42 ms per run)
llama_print_timings:       total time = 60005.23 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 178540.67 ms /   472 tokens (  378.26 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 178591.84 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 41458.73 ms /   139 tokens (  298.26 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 41490.46 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 13792.71 ms /    51 tokens (  270.45 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 13806.36 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 64205.43 ms /   192 tokens (  334.40 ms per token)
llama_print_timings:        eval time =   393.32 ms /     1 runs   (  393.32 ms per run)
llama_print_timings:       total time = 64615.16 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 312641.94 ms /   458 tokens (  682.62 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 312700.26 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 428699.27 ms /   478 tokens (  896.86 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 428799.03 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 268943.46 ms /   309 tokens (  870.37 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 268984.75 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 428036.12 ms /   648 tokens (  660.55 ms per token)
llama_print_timings:        eval time =   426.99 ms /     1 runs   (  426.99 ms per run)
llama_print_timings:       total time = 428658.90 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 10771.61 ms /    30 tokens (  359.05 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 10808.14 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 77845.98 ms /   109 tokens (  714.18 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 77920.76 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 31191.36 ms /   103 tokens (  302.83 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 31233.61 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 125583.51 ms /   111 tokens ( 1131.38 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 125624.03 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 26138.27 ms /    68 tokens (  384.39 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 26169.78 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 12869.16 ms /    35 tokens (  367.69 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 12877.02 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 349920.02 ms /   504 tokens (  694.29 ms per token)
llama_print_timings:        eval time =  1198.45 ms /     1 runs   ( 1198.45 ms per run)
llama_print_timings:       total time = 351175.09 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 235384.79 ms /   158 tokens ( 1489.78 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 235445.03 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 540504.96 ms /   542 tokens (  997.24 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 540623.58 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 351235.10 ms /   719 tokens (  488.51 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 351388.48 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 50923.63 ms /   165 tokens (  308.63 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 51015.38 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 184992.04 ms /   272 tokens (  680.12 ms per token)
llama_print_timings:        eval time =   411.72 ms /     1 runs   (  411.72 ms per run)
llama_print_timings:       total time = 185451.72 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 194429.41 ms /   622 tokens (  312.59 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 194464.86 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 113118.77 ms /   366 tokens (  309.07 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 113145.92 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 687028.24 ms /   728 tokens (  943.72 ms per token)
llama_print_timings:        eval time =   439.94 ms /     1 runs   (  439.94 ms per run)
llama_print_timings:       total time = 687586.24 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 189149.69 ms /   533 tokens (  354.88 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 189193.56 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 191291.91 ms /   560 tokens (  341.59 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 191325.52 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 262665.41 ms /   725 tokens (  362.30 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 262699.98 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 446825.63 ms /   744 tokens (  600.57 ms per token)
llama_print_timings:        eval time =  2820.09 ms /     1 runs   ( 2820.09 ms per run)
llama_print_timings:       total time = 449699.31 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 370878.55 ms /   717 tokens (  517.26 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 370985.32 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 316657.40 ms /   647 tokens (  489.42 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 316701.04 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 355381.24 ms /   504 tokens (  705.12 ms per token)
llama_print_timings:        eval time =   426.32 ms /     1 runs   (  426.32 ms per run)
llama_print_timings:       total time = 355866.70 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 306588.42 ms /   559 tokens (  548.46 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 306644.46 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 388570.23 ms /   565 tokens (  687.73 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 388642.65 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 123319.83 ms /   318 tokens (  387.80 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 123356.07 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 329182.49 ms /   811 tokens (  405.90 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 329242.86 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 210174.59 ms /   584 tokens (  359.89 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 210206.57 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 81113.52 ms /   286 tokens (  283.61 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 81134.54 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 439253.03 ms /   727 tokens (  604.20 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 439387.22 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 286354.39 ms /   751 tokens (  381.30 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 286420.33 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 444201.68 ms /   675 tokens (  658.08 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 444267.37 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 607155.44 ms /   620 tokens (  979.28 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 607229.15 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 674110.08 ms /   708 tokens (  952.13 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 674200.48 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 329078.28 ms /   470 tokens (  700.17 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 329136.29 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 774982.77 ms /   734 tokens ( 1055.83 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 775084.90 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1736656.90 ms /   767 tokens ( 2264.22 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 1736891.33 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1348035.02 ms /   608 tokens ( 2217.16 ms per token)
llama_print_timings:        eval time = 24584.54 ms /     1 runs   (24584.54 ms per run)
llama_print_timings:       total time = 1372887.22 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1395140.63 ms /   472 tokens ( 2955.81 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 1395354.86 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2404735.92 ms /   808 tokens ( 2976.16 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2405157.08 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1788561.84 ms /   640 tokens ( 2794.63 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 1788744.43 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2043317.53 ms /   690 tokens ( 2961.33 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2043549.39 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1295899.29 ms /   402 tokens ( 3223.63 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 1296069.46 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1882245.78 ms /   592 tokens ( 3179.47 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 1882491.04 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 2343689.96 ms /   741 tokens ( 3162.87 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 2343993.29 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 1234739.82 ms /   490 tokens ( 2519.88 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 1234957.50 ms

llama_print_timings:        load time =  8850.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 86554.06 ms /    53 tokens ( 1633.10 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 86652.29 ms
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="c1"># Save vectorstore</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;vectorstore_13B_1024.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">vectorstore</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="c1"># Load vectorstore</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;vectorstore_13B_1024.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">vectorstore</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>llama.cpp: loading model from /Users/saintway/ggml-model-q4_1.bin
llama_model_load_internal: format     = ggjt v1 (latest)
llama_model_load_internal: n_vocab    = 32000
llama_model_load_internal: n_ctx      = 1024
llama_model_load_internal: n_embd     = 5120
llama_model_load_internal: n_mult     = 256
llama_model_load_internal: n_head     = 40
llama_model_load_internal: n_layer    = 40
llama_model_load_internal: n_rot      = 128
llama_model_load_internal: f16        = 3
llama_model_load_internal: n_ff       = 13824
llama_model_load_internal: n_parts    = 1
llama_model_load_internal: model size = 13B
llama_model_load_internal: ggml ctx size =  73.73 KB
llama_model_load_internal: mem required  = 11359.03 MB (+ 3216.00 MB per state)
llama_init_from_file: kv self size  = 1600.00 MB
AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | VSX = 0 | 
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Get context related to the question from the embedding model</span>
<span class="k">for</span> <span class="n">context</span> <span class="ow">in</span> <span class="n">vectorstore</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="n">question</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">context</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>page_content=&#39;&gt; ****&#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;}

page_content=&#39;\n\n\n\n\n\n\n\n\n\n&#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/.md&#39;}

page_content=&#39;&gt; ****&#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;}

page_content=&#39;---\n\n&gt; \u3000\u3000 (content)  (quality of being conscious)  (consciousness as such) \n\u3000\u3000 NCC_e NCC NCC_e  NCC_e 13 NCC_e NCC\n\u3000\u3000NCC_e  NCC &#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;}

</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
llama_print_timings:        load time = 15863.30 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 15862.61 ms /     8 tokens ( 1982.83 ms per token)
llama_print_timings:        eval time = 23200.83 ms /     1 runs   (23200.83 ms per run)
llama_print_timings:       total time = 39067.66 ms
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.chains.llm</span> <span class="kn">import</span> <span class="n">LLMChain</span>
<span class="kn">from</span> <span class="nn">langchain.callbacks.base</span> <span class="kn">import</span> <span class="n">CallbackManager</span>
<span class="kn">from</span> <span class="nn">langchain.callbacks.streaming_stdout</span> <span class="kn">import</span> <span class="n">StreamingStdOutCallbackHandler</span>
<span class="kn">from</span> <span class="nn">langchain.chains.chat_vector_db.prompts</span> <span class="kn">import</span> <span class="n">CONDENSE_QUESTION_PROMPT</span><span class="p">,</span> <span class="n">QA_PROMPT</span>
<span class="kn">from</span> <span class="nn">langchain.chains.question_answering</span> <span class="kn">import</span> <span class="n">load_qa_chain</span>
<span class="kn">from</span> <span class="nn">langchain.vectorstores.base</span> <span class="kn">import</span> <span class="n">VectorStore</span>
<span class="kn">from</span> <span class="nn">langchain.chains</span> <span class="kn">import</span> <span class="n">ConversationalRetrievalChain</span>
<span class="kn">from</span> <span class="nn">langchain.chat_models</span> <span class="kn">import</span> <span class="n">ChatOpenAI</span>

<span class="c1"># Callback function to stream answers to stdout.</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">CallbackManager</span><span class="p">([</span><span class="n">StreamingStdOutCallbackHandler</span><span class="p">()])</span>

<span class="n">streaming_llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">callback_manager</span><span class="o">=</span><span class="n">manager</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">question_gen_llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">callback_manager</span><span class="o">=</span><span class="n">manager</span><span class="p">)</span>
<span class="c1"># Prompt to generate independent questions by incorporating chat history and a new question.</span>
<span class="n">question_generator</span> <span class="o">=</span> <span class="n">LLMChain</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">question_gen_llm</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">CONDENSE_QUESTION_PROMPT</span><span class="p">)</span>
<span class="c1"># Pass in documents and a standalone prompt to answer questions.</span>
<span class="n">doc_chain</span> <span class="o">=</span> <span class="n">load_qa_chain</span><span class="p">(</span><span class="n">streaming_llm</span><span class="p">,</span> <span class="n">chain_type</span><span class="o">=</span><span class="s1">&#39;stuff&#39;</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">QA_PROMPT</span><span class="p">)</span>
<span class="c1"># Generate prompts from embedding model.</span>
<span class="n">qa</span> <span class="o">=</span> <span class="n">ConversationalRetrievalChain</span><span class="p">(</span><span class="n">retriever</span><span class="o">=</span><span class="n">vectorstore</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(),</span> <span class="n">combine_docs_chain</span><span class="o">=</span><span class="n">doc_chain</span><span class="p">,</span> <span class="n">question_generator</span><span class="o">=</span><span class="n">question_generator</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">QA_PROMPT</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>PromptTemplate(input_variables=[&#39;context&#39;, &#39;question&#39;], output_parser=None, partial_variables={}, template=&#34;Use the following pieces of context to answer the question at the end. If you don&#39;t know the answer, just say that you don&#39;t know, don&#39;t try to make up an answer.\n\n{context}\n\nQuestion: {question}\nHelpful Answer:&#34;, template_format=&#39;f-string&#39;, validate_template=True)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>Utilizing <a target="_blank" rel="noopener" href="https://github.com/seii-saintway/ipymock">iPyMock</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> PyTest  <code>monkeypatch</code>  <code>monkeypatch</code>  pytest  fixture</p>
<p> <code>pytest_mock</code> fixture  <code>monkeypatch</code> <code>pytest_mock</code> <code>monkeypatch.setattr()</code> </p>
<p> <code>example.py</code>  <code>requests</code>  <code>get()</code> </p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">get_example_data</span><span class="p">():</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://example.com&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span>
</pre></div>
<p> Dummy  requests </p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">import</span> <span class="nn">example</span>

<span class="k">class</span> <span class="nc">DummyResponse</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">content</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">mock_requests</span><span class="p">(</span><span class="n">monkeypatch</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">mock_get</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DummyResponse</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;Test data&#39;</span><span class="p">)</span>
    <span class="n">monkeypatch</span><span class="o">.</span><span class="n">setattr</span><span class="p">(</span><span class="n">requests</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">mock_get</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_get_example_data</span><span class="p">(</span><span class="n">mock_requests</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="n">get_example_data</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">data</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;Test data&#39;</span>
</pre></div>
<p> <code>DummyResponse</code>  requests  <code>mock_requests</code>  fixture <code>monkeypatch.setattr()</code>  requests  <code>get()</code>  DummyResponse </p>
<p> <code>test_get_example_data</code> <code>mock_requests</code> fixture  <code>example.get_example_data()</code> Dummy  requests  <code>get()</code> </p>
<p> Dummy </p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">openai</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Help on method create in module openai.api_resources.chat_completion:

create(*args, **kwargs) method of builtins.type instance
    Creates a new chat completion for the provided messages and parameters.
    
    See https://platform.openai.com/docs/api-reference/chat-completions/create
    for a list of valid parameters.

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">revChatGPT.V1</span> <span class="kn">import</span> <span class="n">Chatbot</span><span class="p">,</span> <span class="n">configure</span>

<span class="c1"># Open the JSON file and read the conversation_id</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.config/revChatGPT/config.json&#39;</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">conversation_id</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;conversation_id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">bot</span> <span class="o">=</span> <span class="n">Chatbot</span><span class="p">(</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">configure</span><span class="p">(),</span>
    <span class="n">conversation_id</span> <span class="o">=</span> <span class="n">conversation_id</span><span class="p">,</span>
    <span class="n">lazy_loading</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>git+https://github.com/seii-saintway/ipymock
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">markdown</span>
<span class="kn">import</span> <span class="nn">IPython</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/openai/openai-cookbook/blob/main/examples/How_to_stream_completions.ipynb">How to stream completions?</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">bot</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="c1"># IPython.display.display(IPython.core.display.Markdown(response[&#39;message&#39;]))</span>
        <span class="c1"># IPython.display.clear_output(wait=True)</span>
        <span class="k">yield</span> <span class="p">{</span>
            <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s1">&#39;delta&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">):],</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">],</span>
        <span class="p">}</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">mock_create</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;messages&#39;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">message</span><span class="p">[</span><span class="s1">&#39;role&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;user&#39;</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[{}],</span>
        <span class="p">}</span>

    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;stream&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">delta</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">bot</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]):</span>
        <span class="c1"># IPython.display.display(IPython.core.display.Markdown(response[&#39;message&#39;]))</span>
        <span class="c1"># IPython.display.clear_output(wait=True)</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;finish_reason&#39;</span><span class="p">:</span> <span class="s1">&#39;stop&#39;</span><span class="p">,</span>
                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">],</span>
                    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;assistant&#39;</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">],</span>
    <span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">mock_openai</span><span class="p">(</span><span class="n">monkeypatch</span><span class="p">):</span>
    <span class="n">monkeypatch</span><span class="o">.</span><span class="n">setattr</span><span class="p">(</span><span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span> <span class="n">mock_create</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">answer</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_qa</span><span class="p">(</span><span class="n">mock_openai</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">answer</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="n">qa</span><span class="p">({</span><span class="s1">&#39;question&#39;</span><span class="p">:</span> <span class="n">question</span><span class="p">,</span> <span class="s1">&#39;chat_history&#39;</span><span class="p">:</span> <span class="p">[]})</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">answer</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ipymock</span> <span class="kn">import</span> <span class="n">do</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">do</span><span class="p">(</span>
    <span class="n">mock_openai</span><span class="o">=</span><span class="n">mock_openai</span><span class="p">,</span>
    <span class="n">test_qa</span><span class="o">=</span><span class="n">test_qa</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
=&gt; no.0  ::source::test_qa  setup  passed

</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
llama_print_timings:        load time = 14550.38 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 23539.97 ms /    15 tokens ( 1569.33 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 23551.68 ms
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>The author argues that to study the interconnections between subjective experiences and physical processes, we need to move away from purely introspective methods and embrace physiological psychology. Only through this approach can we achieve a complete understanding of psychological phenomena. The author also suggests that consciousness is inextricably linked to physical processes and can be affected by them.

=&gt; no.0  ::source::test_qa  runtest  passed

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">answer</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{&#39;question&#39;: &#39;&#39;,
 &#39;chat_history&#39;: [],
 &#39;answer&#39;: &#39;The author argues that to study the interconnections between subjective experiences and physical processes, we need to move away from purely introspective methods and embrace physiological psychology. Only through this approach can we achieve a complete understanding of psychological phenomena. The author also suggests that consciousness is inextricably linked to physical processes and can be affected by them.&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
 




<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/C9b_oZu9jpw0oObEuDmd9w">ColossalAI</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/hpcaitech/ColossalAI">https://github.com/hpcaitech/ColossalAI</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/LCGQyNA6sHcdfIIARSNlww">LMFlow</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/OptimalScale/LMFlow">https://github.com/OptimalScale/LMFlow</a></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://chat.lmsys.org/">Chat with Open Large Language Models</a><ul>
<li>Vicuna: a chat assistant fine-tuned from LLaMA on user-shared conversations. This one is expected to perform best according to our evaluation.</li>
<li>Koala: a chatbot fine-tuned from LLaMA on user-shared conversations and open-source datasets. This one performs similarly to Vicuna.</li>
<li>ChatGLM: an open bilingual dialogue language model | </li>
<li>Alpaca: a model fine-tuned from LLaMA on 52K instruction-following demonstrations.</li>
<li>LLaMA: open and efficient foundation language models</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2302.13971">LLaMA: Open and Efficient Foundation Language Models</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/facebookresearch/llama">Inference code for LLaMA models</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/ggerganov/llama.cpp">LLaMA Cpp</a><ul>
<li><a target="_blank" rel="noopener" href="https://til.simonwillison.net/llms/llama-7b-m2">Running LLaMA 7B and 13B on a 64GB M2 MacBook Pro with llama.cpp</a></li>
<li><a target="_blank" rel="noopener" href="https://python.langchain.com/en/latest/modules/models/llms/integrations/llamacpp.html">Streaming with llama.cpp</a></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://vicuna.lmsys.org/">Vicuna: An Open-Source Chatbot</a></li>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/lmsys">Vicuna Models: 7b-delta-v0 and 13b-delta-v0</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/lm-sys/FastChat">FastChat: An open platform for training, serving, and evaluating large language model based chatbots.</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://crfm.stanford.edu/2023/03/13/alpaca.html">Alpaca: A Strong, Replicable Instruction-Following Model</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/tatsu-lab/stanford_alpaca">Train Stanford's Alpaca Models</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/tloen/alpaca-lora">Instruct-tuned Alpaca-LoRA Models</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/tloen/alpaca-lora/blob/main/finetune.py">Alpaca-LoRA Instruct-tuning</a></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/nomic-ai/gpt4all">GPT4All: an assistant-style large language model with ~800k GPT-3.5-Turbo Generations based on LLaMA</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I recommend using <a target="_blank" rel="noopener" href="https://huggingface.co/Pi3141/gpt4-x-alpaca-native-13B-ggml">gpt4 x alpaca ggml</a> as a base model as it doesn't have the same level of censorship as vicuna. However, if you're using it purely for ethical tasks, vicuna is definitely better.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/chavinlo/alpaca-native">Stanford Alpaca Model</a></li>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/chavinlo/alpaca-13b">Alpaca 13B without LoRA</a></li>
<li><a target="_blank" rel="noopener" href="https://huggingface.co/chavinlo/gpt4-x-alpaca">GPT4 x Alpaca without LoRA</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">huggingface_hub</span> <span class="kn">import</span> <span class="n">hf_hub_download</span>
<span class="n">hf_hub_download</span><span class="p">(</span><span class="n">repo_id</span><span class="o">=</span><span class="s1">&#39;Pi3141/alpaca-lora-7B-ggml&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ggml-model-q4_0.bin&#39;</span><span class="p">,</span> <span class="n">resume_download</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_text output_subarea ">
<pre>Downloading ggml-model-q4_0.bin:   0%|          | 0.00/4.21G [00:00&lt;?, ?B/s]</pre>
</div>

</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;/Users/saintway/.cache/huggingface/hub/models--Pi3141--alpaca-lora-7B-ggml/snapshots/fec53813efae6495f9b1f14aa4dedffc07bbf2e0/ggml-model-q4_0.bin&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">huggingface_hub</span> <span class="kn">import</span> <span class="n">hf_hub_download</span>
<span class="n">hf_hub_download</span><span class="p">(</span><span class="n">repo_id</span><span class="o">=</span><span class="s1">&#39;Pi3141/alpaca-lora-7B-ggml&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ggml-model-q4_1.bin&#39;</span><span class="p">,</span> <span class="n">resume_download</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_text output_subarea ">
<pre>Downloading ggml-model-q4_1.bin:   0%|          | 0.00/5.06G [00:00&lt;?, ?B/s]</pre>
</div>

</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;/Users/saintway/.cache/huggingface/hub/models--Pi3141--alpaca-lora-7B-ggml/snapshots/fec53813efae6495f9b1f14aa4dedffc07bbf2e0/ggml-model-q4_1.bin&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>llama-cpp-python<span class="o">[</span>server<span class="o">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="nb">export</span><span class="w"> </span><span class="nv">MODEL</span><span class="o">=</span>~/ggml-model-q4_1.bin
python3<span class="w"> </span>-m<span class="w"> </span>llama_cpp.server
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>llama.cpp: loading model from /Users/saintway/ggml-model-q4_1.bin
llama_model_load_internal: format     = ggjt v1 (latest)
llama_model_load_internal: n_vocab    = 32000
llama_model_load_internal: n_ctx      = 2048
llama_model_load_internal: n_embd     = 5120
llama_model_load_internal: n_mult     = 256
llama_model_load_internal: n_head     = 40
llama_model_load_internal: n_layer    = 40
llama_model_load_internal: n_rot      = 128
llama_model_load_internal: f16        = 3
llama_model_load_internal: n_ff       = 13824
llama_model_load_internal: n_parts    = 1
llama_model_load_internal: model size = 13B
llama_model_load_internal: ggml ctx size =  73.73 KB
llama_model_load_internal: mem required  = 11359.03 MB (+ 1608.00 MB per state)
llama_init_from_file: kv self size  = 1600.00 MB
AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | VSX = 0 | 
INFO:     Started server process [41176]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://localhost:8000 (Press CTRL+C to quit)
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>INFO:     ::1:61438 - &#34;GET / HTTP/1.1&#34; 404 Not Found
INFO:     ::1:61438 - &#34;GET /docs HTTP/1.1&#34; 200 OK
INFO:     ::1:61438 - &#34;GET /openapi.json HTTP/1.1&#34; 200 OK
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
llama_print_timings:        load time = 11679.89 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 240847.82 ms /   478 tokens (  503.87 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 240873.74 ms
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>INFO:     ::1:61439 - &#34;POST /v1/embeddings HTTP/1.1&#34; 200 OK
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
llama_print_timings:        load time = 11679.89 ms
llama_print_timings:      sample time =    33.43 ms /    16 runs   (    2.09 ms per run)
llama_print_timings: prompt eval time = 255305.21 ms /   478 tokens (  534.11 ms per token)
llama_print_timings:        eval time = 28069.18 ms /    15 runs   ( 1871.28 ms per run)
llama_print_timings:       total time = 283470.31 ms
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>INFO:     ::1:61681 - &#34;POST /v1/completions HTTP/1.1&#34; 200 OK
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">llama_cpp</span> <span class="kn">import</span> <span class="n">Llama</span>
<span class="n">llm</span> <span class="o">=</span> <span class="n">Llama</span><span class="p">(</span><span class="n">model_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/ggml-model-q4_1.bin&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>llama.cpp: loading model from /Users/saintway/ggml-model-q4_1.bin
llama_model_load_internal: format     = ggjt v1 (latest)
llama_model_load_internal: n_vocab    = 32000
llama_model_load_internal: n_ctx      = 512
llama_model_load_internal: n_embd     = 5120
llama_model_load_internal: n_mult     = 256
llama_model_load_internal: n_head     = 40
llama_model_load_internal: n_layer    = 40
llama_model_load_internal: n_rot      = 128
llama_model_load_internal: f16        = 3
llama_model_load_internal: n_ff       = 13824
llama_model_load_internal: n_parts    = 1
llama_model_load_internal: model size = 13B
llama_model_load_internal: ggml ctx size =  73.73 KB
llama_model_load_internal: mem required  = 11359.03 MB (+ 3216.00 MB per state)
llama_init_from_file: kv self size  =  800.00 MB
AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | VSX = 0 | 
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">llm</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;&gt; ****&#39;&#39;&#39;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">llm</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;&gt; ****&#39;&#39;&#39;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">DirectoryLoader</span><span class="p">,</span> <span class="n">TextLoader</span>
<span class="kn">from</span> <span class="nn">langchain.text_splitter</span> <span class="kn">import</span> <span class="n">RecursiveCharacterTextSplitter</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_docs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">):</span>
    <span class="c1"># (1) Import a series of documents.</span>
    <span class="n">loader</span> <span class="o">=</span> <span class="n">DirectoryLoader</span><span class="p">(</span><span class="n">dir_name</span><span class="p">,</span> <span class="n">loader_cls</span><span class="o">=</span><span class="n">TextLoader</span><span class="p">,</span> <span class="n">silent_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">raw_documents</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
    <span class="c1"># (2) Split them into small chunks.</span>
    <span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="p">(</span>
        <span class="n">chunk_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span>
        <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">text_splitter</span><span class="o">.</span><span class="n">split_documents</span><span class="p">(</span><span class="n">raw_documents</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">LlamaCppEmbeddings</span>
<span class="kn">from</span> <span class="nn">langchain.vectorstores.faiss</span> <span class="kn">import</span> <span class="n">FAISS</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">ingest_docs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">):</span>
    <span class="n">documents</span> <span class="o">=</span> <span class="n">get_docs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">)</span>
    <span class="c1"># (3) Create embeddings for each document (using text-embedding-ada-002).</span>
    <span class="n">embeddings</span> <span class="o">=</span> <span class="n">LlamaCppEmbeddings</span><span class="p">(</span><span class="n">model_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span>
        <span class="s1">&#39;~/.cache/huggingface/hub/models--Pi3141--alpaca-lora-7B-ggml/snapshots/fec53813efae6495f9b1f14aa4dedffc07bbf2e0/ggml-model-q4_1.bin&#39;</span>
    <span class="p">),</span> <span class="n">n_ctx</span><span class="o">=</span><span class="mi">2048</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">FAISS</span><span class="o">.</span><span class="n">from_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">)</span>

<span class="n">vectorstore</span> <span class="o">=</span> <span class="n">ingest_docs</span><span class="p">(</span><span class="s1">&#39;_posts/ultimate-facts&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>llama.cpp: loading model from /Users/saintway/.cache/huggingface/hub/models--Pi3141--alpaca-lora-7B-ggml/snapshots/fec53813efae6495f9b1f14aa4dedffc07bbf2e0/ggml-model-q4_1.bin
llama_model_load_internal: format     = ggjt v1 (latest)
llama_model_load_internal: n_vocab    = 32000
llama_model_load_internal: n_ctx      = 2048
llama_model_load_internal: n_embd     = 4096
llama_model_load_internal: n_mult     = 256
llama_model_load_internal: n_head     = 32
llama_model_load_internal: n_layer    = 32
llama_model_load_internal: n_rot      = 128
llama_model_load_internal: f16        = 3
llama_model_load_internal: n_ff       = 11008
llama_model_load_internal: n_parts    = 1
llama_model_load_internal: model size = 7B
llama_model_load_internal: ggml ctx size =  59.11 KB
llama_model_load_internal: mem required  = 6612.57 MB (+ 2052.00 MB per state)
llama_init_from_file: kv self size  = 2048.00 MB
AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | VSX = 0 | 

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 121567.27 ms /   607 tokens (  200.28 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 121578.08 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 55477.99 ms /   384 tokens (  144.47 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 55490.11 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 185983.50 ms /  1245 tokens (  149.38 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 185993.29 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 99895.20 ms /   648 tokens (  154.16 ms per token)
llama_print_timings:        eval time =   274.67 ms /     1 runs   (  274.67 ms per run)
llama_print_timings:       total time = 100174.12 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time =  4480.73 ms /    30 tokens (  149.36 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time =  4483.89 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 34421.56 ms /   208 tokens (  165.49 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 34428.46 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 18916.80 ms /   115 tokens (  164.49 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 18922.95 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 109097.79 ms /   672 tokens (  162.35 ms per token)
llama_print_timings:        eval time =   322.11 ms /     1 runs   (  322.11 ms per run)
llama_print_timings:       total time = 109426.49 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 182994.18 ms /  1131 tokens (  161.80 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 183004.98 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 159320.01 ms /  1040 tokens (  153.19 ms per token)
llama_print_timings:        eval time =   239.12 ms /     1 runs   (  239.12 ms per run)
llama_print_timings:       total time = 159568.61 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 239876.70 ms /  1530 tokens (  156.78 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 239888.82 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 217347.31 ms /  1428 tokens (  152.20 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 217358.50 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 191811.75 ms /  1255 tokens (  152.84 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 191821.81 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 226394.03 ms /  1406 tokens (  161.02 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 226403.94 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 250274.44 ms /  1514 tokens (  165.31 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 250290.90 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 245848.18 ms /  1459 tokens (  168.50 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 245869.09 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 241036.46 ms /  1448 tokens (  166.46 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 241046.69 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 90638.96 ms /   549 tokens (  165.10 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 90648.73 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 243383.44 ms /  1456 tokens (  167.16 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 243395.79 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 66549.32 ms /   407 tokens (  163.51 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 66557.07 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 254780.55 ms /  1524 tokens (  167.18 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 254791.22 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 63349.78 ms /   397 tokens (  159.57 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 63354.36 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 174274.05 ms /  1092 tokens (  159.59 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 174282.70 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 194346.63 ms /  1332 tokens (  145.91 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 194358.84 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 69352.89 ms /   490 tokens (  141.54 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 69357.43 ms

llama_print_timings:        load time =  9764.51 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time =  7361.54 ms /    53 tokens (  138.90 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time =  7371.77 ms
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I need a big memory to accelerate LLM inference.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Save vectorstore</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;vectorstore_7B_2048.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">vectorstore</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Load vectorstore</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;vectorstore_7B_2048.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">vectorstore</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>llama.cpp: loading model from /Users/saintway/.cache/huggingface/hub/models--Pi3141--alpaca-lora-7B-ggml/snapshots/fec53813efae6495f9b1f14aa4dedffc07bbf2e0/ggml-model-q4_1.bin
llama_model_load_internal: format     = ggjt v1 (latest)
llama_model_load_internal: n_vocab    = 32000
llama_model_load_internal: n_ctx      = 2048
llama_model_load_internal: n_embd     = 4096
llama_model_load_internal: n_mult     = 256
llama_model_load_internal: n_head     = 32
llama_model_load_internal: n_layer    = 32
llama_model_load_internal: n_rot      = 128
llama_model_load_internal: f16        = 3
llama_model_load_internal: n_ff       = 11008
llama_model_load_internal: n_parts    = 1
llama_model_load_internal: model size = 7B
llama_model_load_internal: ggml ctx size =  59.11 KB
llama_model_load_internal: mem required  = 6612.57 MB (+ 2052.00 MB per state)
llama_init_from_file: kv self size  = 2048.00 MB
AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | VSX = 0 | 
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Get context related to the question from the embedding model</span>
<span class="k">for</span> <span class="n">context</span> <span class="ow">in</span> <span class="n">vectorstore</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="n">question</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">context</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>page_content=&#39;title: Neuroscience\ndate: 2021-10-14 16:30:20\ntags: Neuro\n---\n\nThe [**ventral tegmental area**](https://en.wikipedia.org/wiki/Ventral_tegmental_area) (**VTA**) (**tegmentum** is Latin for covering), also known as the **ventral tegmental area of Tsai**, or simply **ventral tegmentum**, is a group of neurons located close to the midline on the floor of the midbrain.\n\n---\n\n&gt; \u3000\u3000 (content)  (quality of being conscious)  (consciousness as such) \n\u3000\u3000 NCC_e NCC NCC_e  NCC_e 13 NCC_e NCC\n\u3000\u3000NCC_e  NCC &#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;}

page_content=&#39;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n---\n\n&gt; \n( 8:24-25 )\n\n&gt; \n( 2:22 )\n\n&#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/.md&#39;}

page_content=&#39;&gt; ****\n&gt; ****\n&gt; \n&gt; &#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/Neuroscience.md&#39;}

page_content=&#39;\n\n\n\n\n\n\n\n\n\n&#39; metadata={&#39;source&#39;: &#39;_posts/ultimate-facts/.md&#39;}

</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
llama_print_timings:        load time = 14467.91 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 14467.34 ms /     8 tokens ( 1808.42 ms per token)
llama_print_timings:        eval time = 14635.33 ms /     1 runs   (14635.33 ms per run)
llama_print_timings:       total time = 29115.01 ms
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># from langchain.chains.chat_vector_db.prompts import CONDENSE_QUESTION_PROMPT, QA_PROMPT</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.prompts</span> <span class="kn">import</span> <span class="n">PromptTemplate</span>

<span class="n">CONDENSE_QUESTION_PROMPT</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span>
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;chat_history&#39;</span><span class="p">,</span> <span class="s1">&#39;question&#39;</span><span class="p">],</span>
    <span class="n">output_parser</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">partial_variables</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">template</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1"></span><span class="se">\n</span><span class="si">{chat_history}</span><span class="se">\n</span><span class="s1"></span><span class="si">{question}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">template_format</span><span class="o">=</span><span class="s1">&#39;f-string&#39;</span><span class="p">,</span>
    <span class="n">validate_template</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="n">QA_PROMPT</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span>
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;context&#39;</span><span class="p">,</span> <span class="s1">&#39;question&#39;</span><span class="p">],</span>
    <span class="n">output_parser</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">partial_variables</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">template</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1"></span><span class="se">\n</span><span class="si">{context}</span><span class="se">\n\n</span><span class="s1"></span><span class="si">{question}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">template_format</span><span class="o">=</span><span class="s1">&#39;f-string&#39;</span><span class="p">,</span>
    <span class="n">validate_template</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.chains.llm</span> <span class="kn">import</span> <span class="n">LLMChain</span>
<span class="kn">from</span> <span class="nn">langchain.callbacks.base</span> <span class="kn">import</span> <span class="n">CallbackManager</span>
<span class="kn">from</span> <span class="nn">langchain.callbacks.streaming_stdout</span> <span class="kn">import</span> <span class="n">StreamingStdOutCallbackHandler</span>
<span class="kn">from</span> <span class="nn">langchain.chains.question_answering</span> <span class="kn">import</span> <span class="n">load_qa_chain</span>
<span class="kn">from</span> <span class="nn">langchain.vectorstores.base</span> <span class="kn">import</span> <span class="n">VectorStore</span>
<span class="kn">from</span> <span class="nn">langchain.chains</span> <span class="kn">import</span> <span class="n">ConversationalRetrievalChain</span>
<span class="kn">from</span> <span class="nn">langchain.chat_models</span> <span class="kn">import</span> <span class="n">ChatOpenAI</span>

<span class="c1"># Callback function to stream answers to stdout.</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">CallbackManager</span><span class="p">([</span><span class="n">StreamingStdOutCallbackHandler</span><span class="p">()])</span>

<span class="n">streaming_llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">callback_manager</span><span class="o">=</span><span class="n">manager</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">question_gen_llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">callback_manager</span><span class="o">=</span><span class="n">manager</span><span class="p">)</span>
<span class="c1"># Prompt to generate independent questions by incorporating chat history and a new question.</span>
<span class="n">question_generator</span> <span class="o">=</span> <span class="n">LLMChain</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">question_gen_llm</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">CONDENSE_QUESTION_PROMPT</span><span class="p">)</span>
<span class="c1"># Pass in documents and a standalone prompt to answer questions.</span>
<span class="n">doc_chain</span> <span class="o">=</span> <span class="n">load_qa_chain</span><span class="p">(</span><span class="n">streaming_llm</span><span class="p">,</span> <span class="n">chain_type</span><span class="o">=</span><span class="s1">&#39;stuff&#39;</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">QA_PROMPT</span><span class="p">)</span>
<span class="c1"># Generate prompts from embedding model.</span>
<span class="n">qa</span> <span class="o">=</span> <span class="n">ConversationalRetrievalChain</span><span class="p">(</span><span class="n">retriever</span><span class="o">=</span><span class="n">vectorstore</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(),</span> <span class="n">combine_docs_chain</span><span class="o">=</span><span class="n">doc_chain</span><span class="p">,</span> <span class="n">question_generator</span><span class="o">=</span><span class="n">question_generator</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">openai</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">revChatGPT.V1</span> <span class="kn">import</span> <span class="n">Chatbot</span><span class="p">,</span> <span class="n">configure</span>

<span class="c1"># Open the JSON file and read the conversation_id</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.config/revChatGPT/config.json&#39;</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">conversation_id</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;conversation_id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">bot</span> <span class="o">=</span> <span class="n">Chatbot</span><span class="p">(</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">configure</span><span class="p">(),</span>
    <span class="n">conversation_id</span> <span class="o">=</span> <span class="n">conversation_id</span><span class="p">,</span>
    <span class="n">lazy_loading</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">bot</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">yield</span> <span class="p">{</span>
            <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s1">&#39;delta&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">):],</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">],</span>
        <span class="p">}</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">mock_create</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;messages&#39;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">message</span><span class="p">[</span><span class="s1">&#39;role&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;user&#39;</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[{}],</span>
        <span class="p">}</span>

    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;stream&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">delta</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">bot</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]):</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;finish_reason&#39;</span><span class="p">:</span> <span class="s1">&#39;stop&#39;</span><span class="p">,</span>
                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">],</span>
                    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;assistant&#39;</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">],</span>
    <span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">mock_openai</span><span class="p">(</span><span class="n">monkeypatch</span><span class="p">):</span>
    <span class="n">monkeypatch</span><span class="o">.</span><span class="n">setattr</span><span class="p">(</span><span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span> <span class="n">mock_create</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">answer</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_qa</span><span class="p">(</span><span class="n">mock_openai</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">answer</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="n">qa</span><span class="p">({</span><span class="s1">&#39;question&#39;</span><span class="p">:</span> <span class="n">question</span><span class="p">,</span> <span class="s1">&#39;chat_history&#39;</span><span class="p">:</span> <span class="p">[]})</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">answer</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ipymock</span> <span class="kn">import</span> <span class="n">do</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">do</span><span class="p">(</span>
    <span class="n">mock_openai</span><span class="o">=</span><span class="n">mock_openai</span><span class="p">,</span>
    <span class="n">test_qa</span><span class="o">=</span><span class="n">test_qa</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
=&gt; no.0  ::source::test_qa  setup  passed

</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
llama_print_timings:        load time = 14467.91 ms
llama_print_timings:      sample time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings: prompt eval time = 22490.19 ms /    15 tokens ( 1499.35 ms per token)
llama_print_timings:        eval time =     0.00 ms /     1 runs   (    0.00 ms per run)
llama_print_timings:       total time = 22496.21 ms
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>

 



=&gt; no.0  ::source::test_qa  runtest  passed

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">answer</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[&nbsp;]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{&#39;question&#39;: &#39;&#39;,
 &#39;chat_history&#39;: [],
 &#39;answer&#39;: &#39;\n\n \n\n&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
 




	
	</div>
	
  
</div>
	<a type="button" href="/2023/04/12/Text-Embeddings/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-04-11 </div>
			<div class="article-title"><a href="/2023/04/11/LLaMA-Index/" >LLaMA Index</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="LLaMA-Index"><a target="_blank" rel="noopener" href="https://github.com/jerryjliu/llama_index">LLaMA Index</a><a class="anchor-link" href="#LLaMA-Index">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
pip<span class="w"> </span>install<span class="w"> </span>llama-index
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Installing collected packages: llama-index
Successfully installed llama-index-0.5.12
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Using-OpenAI-Embedding-Model">Using <a target="_blank" rel="noopener" href="https://openai.com/blog/new-and-improved-embedding-model">OpenAI Embedding Model</a><a class="anchor-link" href="#Using-OpenAI-Embedding-Model">&#182;</a></h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/tea-artist/llama_index_example/blob/main/llama_index_example.py">Llama_Index_Example</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index_name</span> <span class="o">=</span> <span class="s1">&#39;./index.json&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="n">GPTSimpleVectorIndex</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index</span> <span class="o">=</span> <span class="n">GPTSimpleVectorIndex</span><span class="o">.</span><span class="n">load_from_disk</span><span class="p">(</span><span class="n">index_name</span><span class="p">)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">GPTSimpleVectorIndex</span><span class="p">([])</span>
<span class="n">index</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="n">index_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="n">SimpleDirectoryReader</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">documents</span> <span class="o">=</span> <span class="n">SimpleDirectoryReader</span><span class="p">(</span><span class="s1">&#39;../_posts/ultimate-facts&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">documents</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[Document(text=&#39;\n\nSystems Neuroscience\n\n**Systems neuroscience** is a subdiscipline of neuroscience and systems biology that studies the structure and function of neural circuits and systems. Systems neuroscience encompasses a number of areas of study concerned with how nerve cells behave when connected together to form neural pathways, neural circuits, and larger brain networks. At this level of analysis, neuroscientists study how different neural circuits analyze sensory information, form perceptions of the external world, make decisions, and execute movements. Researchers in systems neuroscience are concerned with the relation between molecular and cellular approaches to understanding brain structure and function, as well as with the study of high-level mental functions such as language, memory, and self-awareness (which are the purview of behavioral and cognitive neuroscience). Systems neuroscientists typically employ techniques for understanding networks of neurons as they are seen to function, by way of electrophysiology using either single-unit recording or multi-electrode recording, functional magnetic resonance imaging (fMRI), and PET scans. The term is commonly used in an educational framework: a common sequence of graduate school neuroscience courses consists of cellular/molecular neuroscience for the first semester, then systems neuroscience for the second semester. It is also sometimes used to distinguish a subdivision within a neuroscience department at an academic institution.\n\n&#39;, doc_id=&#39;3fd9301a-cfdf-49e9-a534-4aaf48f58f8f&#39;, embedding=None, doc_hash=&#39;19f1397f0b2cd476a1fd12c789321a4414f9e09be786df63f46892adee2c3b99&#39;, extra_info=None), Document(text=&#39;\n\n\n\n****: **Systems neuroscience** ()  &#34;&#34;  &#34;&#34; 1/2\n\n&#39;, doc_id=&#39;24bff9fe-e8dd-425e-b62e-daca67473e78&#39;, embedding=None, doc_hash=&#39;81e85f6b10f98753bf6d06b5aa1a31e8d88632e8e10d1b4e0831f353c0c8d79a&#39;, extra_info=None), Document(text=&#39;title: date: 2008-08-20 18:05:20tags:---{% asset_ipynb .ipynb %}&#39;, doc_id=&#39;e6b10168-64ff-41f6-ba7a-6635f190405c&#39;, embedding=None, doc_hash=&#39;3ab4d5b4234162b96b8634c7686454f32a9cb9635567917e1a563b20a2085944&#39;, extra_info=None), Document(text=&#39;title: date: 2015-09-23 13:40:00tags: UltimateFacts---* *     * *   *   * * ---&gt; \u3000 ( 1:20)&gt;  ( 1:20 )&gt; For the invisible things of Him, both His eternal power and divine characteristics, have been clearly seen since the creation of the world, being perceived by the things made, so that they would be without excuse; (Romans 1:20 Recovery)&gt; For since the creation of the world His invisible attributes, that is, His eternal power and divine nature, have been clearly perceived, being understood by what has been made, so that they are without excuse. (Romans 1:20 NASB)---&gt; &gt;   =&gt; &gt;   =&gt;&gt; **** ( 4:35-41 )&gt;   =&gt; ---------------------------------------- =&gt;  =&gt;  =&gt;  =&gt;  =&gt; ---&gt; ( 8:24-25 )&gt; ( 2:22 )---------&gt; ( 7:10 )  =&gt;    =&gt;    =&gt;    =&gt;    =&gt;   Boscovich  Dynamism &#39;, doc_id=&#39;bdef47b5-2a6c-4297-af25-d499521d95de&#39;, embedding=None, doc_hash=&#39;e12c00d8ad3267c1a855f1134b9fd267f87658dcb98a0552b70696338f5bf802&#39;, extra_info=None)]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/jerryjliu/llama_index/blob/main/gpt_index/indices/base.py">https://github.com/jerryjliu/llama_index/blob/main/gpt_index/indices/base.py</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/jerryjliu/llama_index/blob/main/gpt_index/indices/service_context.py">https://github.com/jerryjliu/llama_index/blob/main/gpt_index/indices/service_context.py</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index</span> <span class="o">=</span> <span class="n">GPTSimpleVectorIndex</span><span class="o">.</span><span class="n">from_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">,</span> <span class="n">service_context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">index</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="s1">&#39;./index.json&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/jerryjliu/llama_index/blob/main/gpt_index/readers/file/base.py">https://github.com/jerryjliu/llama_index/blob/main/gpt_index/readers/file/base.py</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">document</span> <span class="o">=</span> <span class="n">SimpleDirectoryReader</span><span class="p">(</span><span class="n">input_files</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;../_posts/ultimate-facts/.md&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">load_data</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Document(text=&#39;title: date: 2015-09-23 13:40:00tags: UltimateFacts---* *     * *   *   * * ---&gt; \u3000 ( 1:20)&gt;  ( 1:20 )&gt; For the invisible things of Him, both His eternal power and divine characteristics, have been clearly seen since the creation of the world, being perceived by the things made, so that they would be without excuse; (Romans 1:20 Recovery)&gt; For since the creation of the world His invisible attributes, that is, His eternal power and divine nature, have been clearly perceived, being understood by what has been made, so that they are without excuse. (Romans 1:20 NASB)---&gt; &gt;   =&gt; &gt;   =&gt;&gt; **** ( 4:35-41 )&gt;   =&gt; ---------------------------------------- =&gt;  =&gt;  =&gt;  =&gt;  =&gt; ---&gt; ( 8:24-25 )&gt; ( 2:22 )---------&gt; ( 7:10 )  =&gt;    =&gt;    =&gt;    =&gt;    =&gt;   Boscovich  Dynamism &#39;, doc_id=&#39;db56cc0f-93ae-4261-a819-47cb04027e87&#39;, embedding=None, doc_hash=&#39;e12c00d8ad3267c1a855f1134b9fd267f87658dcb98a0552b70696338f5bf802&#39;, extra_info=None)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="n">index</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="n">index_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query_text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://alphasec.io/query-your-own-documents-with-llamaindex-and-langchain/">Query Your Own Documents with LlamaIndex and LangChain</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/jerryjliu/llama_index/blob/main/docs/how_to/integrations/using_with_langchain.md">Using LlamaIndex with Langchain</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Using-HuggingFace-Embeddings">Using HuggingFace Embeddings<a class="anchor-link" href="#Using-HuggingFace-Embeddings">&#182;</a></h3><ul>
<li><a target="_blank" rel="noopener" href="https://gpt-index.readthedocs.io/en/latest/how_to/customization/embeddings.html">LlamaIndex Embedding Support</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://towardsdatascience.com/generative-question-answering-with-long-term-memory-c280e237b144">Generative Q&amp;A With GPT 3.5 and Long-Term Memory</a><ul>
<li>Embedding &amp; Pinecone</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/openai/openai-cookbook/blob/main/examples/Question_answering_using_embeddings.ipynb">Question Answering using openai.Embedding.create</a></li>
</ul>

</div>
</div>
</div>
 




	
	</div>
	
  
</div>
	<a type="button" href="/2023/04/11/LLaMA-Index/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-04-11 </div>
			<div class="article-title"><a href="/2023/04/11/Elastic-Versatile-Agent-with-LangChain/" >Elastic Versatile Agent with LangChain</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Microsoft-TaskMatrix"><a target="_blank" rel="noopener" href="https://github.com/microsoft/TaskMatrix">Microsoft TaskMatrix</a><a class="anchor-link" href="#Microsoft-TaskMatrix">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Elastic-Versatile-Agent-with-LangChain"><a target="_blank" rel="noopener" href="https://github.com/corca-ai/EVAL">Elastic Versatile Agent with LangChain</a><a class="anchor-link" href="#Elastic-Versatile-Agent-with-LangChain">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p> macOS  Redis  Homebrew </p>
<ol>
<li><p>Terminal</p>
</li>
<li><p> Homebrew Homebrew</p>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="k">$(</span>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="k">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol start="3">
<li> Redis</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
brew<span class="w"> </span>install<span class="w"> </span>redis
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol start="4">
<li> Redis </li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
brew<span class="w"> </span>services<span class="w"> </span>start<span class="w"> </span>redis
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> Redis </p>
<p> Redis </p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
brew<span class="w"> </span>services<span class="w"> </span>stop<span class="w"> </span>redis
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> Redis</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
brew<span class="w"> </span>uninstall<span class="w"> </span>redis
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><a target="_blank" rel="noopener" href="https://github.com/corca-ai/EVAL/blob/main/core/tools/cpu.py">https://github.com/corca-ai/EVAL/blob/main/core/tools/cpu.py</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">env</span> USE_GPU=False
<span class="o">%</span><span class="k">env</span> CELERY_BROKER_URL=redis://localhost:6379
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># https://github.com/corca-ai/EVAL/blob/main/api/main.py</span>
<span class="n">executor</span> <span class="o">=</span> <span class="n">agent_manager</span><span class="o">.</span><span class="n">create_executor</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;session&quot;: &quot;sessionid&quot;, &quot;files&quot;: [], &quot;prompt&quot;: &quot;Hi there!&quot;}&#39;</span><span class="w"> </span>http://localhost:8000/api/execute
</pre></div>

    </div>
</div>
</div>

</div>
 




	
	</div>
	
  
</div>
	<a type="button" href="/2023/04/11/Elastic-Versatile-Agent-with-LangChain/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-04-07 </div>
			<div class="article-title"><a href="/2023/04/07/BioGPT-Agent-Tools/" >BioGPT Agent Tools</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <div class="tabs" id="biogpt-agent-tools"><ul class="nav-tabs"><li class="tab active"><a href="#biogpt-agent-tools-1">English</a></li><li class="tab"><a href="#biogpt-agent-tools-2"></a></li></ul><div class="tab-content"><div class="tab-pane active" id="biogpt-agent-tools-1"><blockquote>
<p>The twenty-first century is presenting humankind with unprecedented environmental and medical challenges. The ability to design novel proteins tailored for specific purposes would potentially transform our ability to respond to these issues in a timely manner. Recent advances in the field of artificial intelligence are now setting the stage to make this goal achievable. Protein sequences are inherently similar to natural languages: amino acids arrange in a multitude of combinations to form structures that carry function, the same way as letters form words and sentences carry meaning. Accordingly, it is not surprising that, throughout the history of natural language processing (NLP), many of its techniques have been applied to protein research problems. In the past few years we have witnessed revolutionary breakthroughs in the field of NLP. The implementation of transformer pre-trained models has enabled text generation with human-like capabilities, including texts with specific properties such as style or subject. Motivated by its considerable success in NLP tasks, we expect dedicated transformers to dominate custom protein sequence generation in the near future. Fine-tuning pre-trained models on protein families will enable the extension of their repertoires with novel sequences that could be highly divergent but still potentially functional. The combination of control tags such as cellular compartment or function will further enable the controllable design of novel protein functions. Moreover, recent model interpretability methods will allow us to open the black box and thus enhance our understanding of folding principles. Early initiatives show the enormous potential of generative language models to design functional sequences. We believe that using generative text models to create novel proteins is a promising and largely unexplored field, and we discuss its foreseeable impact on protein design.</p>
<p><a target="_blank" rel="noopener" href="https://www.nature.com/articles/s42256-022-00499-z">Controllable protein design with language models</a></p>
</blockquote>
<blockquote>
<p>To accelerate biomedical research process, deep-learning systems are developed to automatically acquire knowledge about molecule entities by reading large-scale biomedical data. Inspired by humans that learn deep molecule knowledge from versatile reading on both molecule structure and biomedical text information, we propose a knowledgeable machine reading system that bridges both types of information in a unified deep-learning framework for comprehensive biomedical research assistance. We solve the problem that existing machine reading models can only process different types of data separately, and thus achieve a comprehensive and thorough understanding of molecule entities. By grasping meta-knowledge in an unsupervised fashion within and across different information sources, our system can facilitate various real-world biomedical applications, including molecular property prediction, biomedical relation extraction and so on. Experimental results show that our system even surpasses human professionals in the capability of molecular property comprehension, and also reveal its promising potential in facilitating automatic drug discovery and documentation in the future.</p>
<p><a target="_blank" rel="noopener" href="https://www.nature.com/articles/s41467-022-28494-3">A deep-learning system bridging molecule structure and biomedical text with comprehension comparable to human professionals</a></p>
<p><a target="_blank" rel="noopener" href="https://drive.google.com/drive/folders/1xig3-3JG63kR-Xqj1b9wkPEdxtfD_4IX">KV-PLM-Download</a></p>
</blockquote></div><div class="tab-pane" id="biogpt-agent-tools-2"><blockquote>
<p>NLPTransformer  NLP  Transformer black box folding </p>
<p></p>
</blockquote>
<blockquote>
<p></p>
<p></p>
<p> nature communicationsA deep-learning system bridging molecule structure and biomedical text with comprehension comparable to human professionals</p>
</blockquote></div></div></div>

<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DeepMind-AlphaFold"><a target="_blank" rel="noopener" href="https://github.com/deepmind/alphafold">DeepMind AlphaFold</a><a class="anchor-link" href="#DeepMind-AlphaFold">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://hackmd.io/p1Ba4wLzQ6GBDG2Dcd7PCw">Protein Binder Engineering</a></li>
<li><a target="_blank" rel="noopener" href="https://mirror.xyz/thetechnocrat.eth/CaBr74AhQLX7bDWSsWGOeKwxjuiFNe8_XH2Hf3Bw4Dg">How to Fold Proteins with Decentralized Computing?</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/hpcaitech/FastFold">https://github.com/hpcaitech/FastFold</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://www.nature.com/articles/s41586-024-07220-7">Formation of memory assemblies through the DNA-sensing TLR9 pathway</a></li>
<li><a target="_blank" rel="noopener" href="https://www.nature.com/articles/s41593-024-01615-5">Neuronal activity rapidly reprograms dendritic translation via eIF4G2:uORF binding</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2202787">BioGPT</a></li>
<li><a target="_blank" rel="noopener" href="https://pubmed.ncbi.nlm.nih.gov/36156661/">BioGPT: generative pre-trained transformer for biomedical text generation and mining</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1963555"></a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Single-cell-RNA-seq">Single cell RNA-seq<a class="anchor-link" href="#Single-cell-RNA-seq">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://www.kaggle.com/competitions/open-problems-multimodal">Open Problems - Multimodal Single-Cell Integration | Kaggle</a></p>
<p>In the past decade, the advent of single-cell genomics has enabled the measurement of DNA, RNA, and proteins in single cells. These technologies allow the study of biology at an unprecedented scale and resolution and have led to new insights into fundamental drivers of health and disease.</p>
<p>In this competition, you will predict how DNA, RNA, and protein measurements co-vary in single cells as bone marrow stem cells develop into more mature blood cells. You will have access to a 300,000-cell timecourse dataset and develop a model that predicts from DNA to RNA and from RNA to protein at a later unseen timepoint.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://singlecellanalysistutorial.readthedocs.io/en/latest/index.html"></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://hackmd.io/p1Ba4wLzQ6GBDG2Dcd7PCw">Protein Binder Engineering</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://www.k.u-tokyo.ac.jp/exam/">https://www.k.u-tokyo.ac.jp/exam/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://www.k.u-tokyo.ac.jp/exam/apr_sch/">https://www.k.u-tokyo.ac.jp/exam/apr_sch/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://www.k.u-tokyo.ac.jp/exam/recurrent_programs/">https://www.k.u-tokyo.ac.jp/exam/recurrent_programs/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://www.k.u-tokyo.ac.jp/education/dstep/">https://www.k.u-tokyo.ac.jp/education/dstep/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://genome-school.k.u-tokyo.ac.jp/">https://genome-school.k.u-tokyo.ac.jp/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://www.k.u-tokyo.ac.jp/exam/info/">https://www.k.u-tokyo.ac.jp/exam/info/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://www.cbms.k.u-tokyo.ac.jp/labs/rnakato/">https://www.cbms.k.u-tokyo.ac.jp/labs/rnakato/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://www.cbms.k.u-tokyo.ac.jp/labs/#labs2">https://www.cbms.k.u-tokyo.ac.jp/labs/#labs2</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://nakatolab.iqb.u-tokyo.ac.jp/joinus.html">https://nakatolab.iqb.u-tokyo.ac.jp/joinus.html</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://nakatolab.iqb.u-tokyo.ac.jp/software.html">https://nakatolab.iqb.u-tokyo.ac.jp/software.html</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a target="_blank" rel="noopener" href="https://v3-migration.vuejs.org/zh/">https://v3-migration.vuejs.org/zh/</a></p>

</div>
</div>
</div>
 




	
	</div>
	
  
</div>
	<a type="button" href="/2023/04/07/BioGPT-Agent-Tools/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2023-04-07 </div>
			<div class="article-title"><a href="/2023/04/07/Robotic-Process-Automation/" >Robotic Process Automation</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>General Artificial Intelligence Agent</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://python.langchain.com/v0.2/docs/integrations/toolkits/openapi/">Hierarchical Planning Agent</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.langchain.dev/planning-agents/">Plan-and-Execute Agents</a></li>
</ul>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/langchain-ai/langgraph">LangGraph</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/langchain-ai/langgraph/blob/main/examples/multi_agent/hierarchical_agent_teams.ipynb">Hierarchical Agent Teams</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/TransformerOptimus/AutoNode">Cognitive GUI Automation</a><ul>
<li><a target="_blank" rel="noopener" href="https://superagi.com/introducing-autonode-advancing-rpa-with-a-multi-expert-ai-system/">Introducing AutoNode: Advancing RPA with a Multi-Expert AI System</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/UB-Mannheim/tesseract/wiki">Tesseract at UB Mannheim</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-bash"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/TransformerOptimus/AutoNode.git<span class="w"> </span>~/AutoNode
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Cloning into &#39;AutoNode&#39;...
remote: Enumerating objects: 436, done.        
remote: Counting objects: 100% (164/164), done.        
remote: Compressing objects: 100% (126/126), done.        
remote: Total 436 (delta 65), reused 83 (delta 38), pack-reused 272        
Receiving objects: 100% (436/436), 254.46 MiB | 10.35 MiB/s, done.
Resolving deltas: 100% (187/187), done.
Updating files: 100% (145/145), done.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-bash"><pre><span></span><span class="nb">cd</span><span class="w"> </span>~/AutoNode
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-bash"><pre><span></span>cp<span class="w"> </span>~/AutoNode/autonode/.env.example<span class="w"> </span>~/AutoNode/autonode/.env
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-bash"><pre><span></span>cp<span class="w"> </span>~/AutoNode/ocr/ocr/.env.example<span class="w"> </span>~/AutoNode/ocr/ocr/.env
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-bash"><pre><span></span>cp<span class="w"> </span>~/AutoNode/yolo/yolo/.env.example<span class="w"> </span>~/AutoNode/yolo/yolo/.env
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-bash"><pre><span></span>/usr/local/bin/docker<span class="w"> </span>compose<span class="w"> </span>-f<span class="w"> </span>~/AutoNode/docker-compose.yaml<span class="w"> </span>up<span class="w"> </span>--build
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-bash"><pre><span></span>/usr/local/bin/docker<span class="w"> </span>compose<span class="w"> </span>-f<span class="w"> </span>~/AutoNode/docker-compose.yaml<span class="w"> </span>up
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p><code>WebDriver Protocol</code> </p>
<ol>
<li><strong>Browser Driver</strong><ul>
<li><strong></strong></li>
<li><strong></strong>Browser Driver  Web  <strong>Selenium WebDriver</strong> ChromeFirefoxSafariSelenium WebDriver  2008 </li>
</ul>
</li>
<li><strong>iOS Application Driver</strong><ul>
<li><strong></strong></li>
<li><strong></strong>iOS Application Driver  <strong>WebDriverAgent</strong> Facebook  iOS  WebDriver WebDriverAgent  Appium  iOS  2015  iOS  UI </li>
</ul>
</li>
<li><strong>Windows Application Driver</strong><ul>
<li><strong></strong></li>
<li><strong></strong>Windows Application Driver (WinAppDriver)  Microsoft  Windows WinAppDriver  2016  Windows  WebDriver  WebDriver  Windows </li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>http+usbmux</code>  URL  Apple </p>
<h3 id="http+usbmux-%E7%9A%84%E5%90%AB%E4%B9%89"><code>http+usbmux</code> &#30340;&#21547;&#20041;<a class="anchor-link" href="#http+usbmux-%E7%9A%84%E5%90%AB%E4%B9%89">&#182;</a></h3><ul>
<li><strong><code>http</code></strong>: Hypertext Transfer Protocol</li>
<li><strong><code>+usbmux</code></strong>:  USB USB Multiplexing Protocol MUX</li>
</ul>
<h3 id="MUX-%E7%9A%84%E5%90%AB%E4%B9%89"><code>MUX</code> &#30340;&#21547;&#20041;<a class="anchor-link" href="#MUX-%E7%9A%84%E5%90%AB%E4%B9%89">&#182;</a></h3><ul>
<li><strong>MUX</strong>: Multiplexer</li>
</ul>
<h3 id="http+usbmux-%E7%9A%84%E5%85%B7%E4%BD%93%E5%90%AB%E4%B9%89"><code>http+usbmux</code> &#30340;&#20855;&#20307;&#21547;&#20041;<a class="anchor-link" href="#http+usbmux-%E7%9A%84%E5%85%B7%E4%BD%93%E5%90%AB%E4%B9%89">&#182;</a></h3><p> Apple <code>http+usbmux</code>  USB USBMux HTTP USB  Apple  iPhone  iPad USB </p>
<ul>
<li><strong></strong>: <code>http+usbmux</code>  USB  iOS  Web </li>
<li><strong></strong>:  <code>http+usbmux</code>  USB  iOS  Web  USB  HTTP </li>
</ul>
<h3 id="%E6%80%BB%E7%BB%93">&#24635;&#32467;<a class="anchor-link" href="#%E6%80%BB%E7%BB%93">&#182;</a></h3><ul>
<li><strong><code>http+usbmux</code></strong>:  URL  USB  HTTP </li>
<li><strong><code>MUX</code></strong>: </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>USB</strong> Universal Serial BusUSB </p>
<ol>
<li><p><strong></strong>: USB </p>
</li>
<li><p><strong></strong>: USB  USB </p>
</li>
<li><p><strong></strong>: USB </p>
</li>
</ol>
<h3 id="USB-%E7%9A%84%E5%8E%86%E5%8F%B2%E5%92%8C%E7%89%88%E6%9C%AC">USB &#30340;&#21382;&#21490;&#21644;&#29256;&#26412;<a class="anchor-link" href="#USB-%E7%9A%84%E5%8E%86%E5%8F%B2%E5%92%8C%E7%89%88%E6%9C%AC">&#182;</a></h3><ul>
<li><strong>USB 1.0/1.1</strong>:  USB 1.5 Mbps12 Mbps</li>
<li><strong>USB 2.0</strong>:  480 Mbps</li>
<li><strong>USB 3.0</strong>:  5 Gbps</li>
<li><strong>USB 3.1/3.2</strong>:  10 Gbps  20 Gbps Type-C </li>
<li><strong>USB4</strong>:  40 Gbps Thunderbolt 3  Type-C </li>
</ul>
<h3 id="USB-%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%B1%BB%E5%9E%8B">USB &#25509;&#21475;&#30340;&#31867;&#22411;<a class="anchor-link" href="#USB-%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%B1%BB%E5%9E%8B">&#182;</a></h3><ul>
<li><strong>Type-A</strong>: </li>
<li><strong>Type-B</strong>: </li>
<li><strong>Mini-USB/Micro-USB</strong>: </li>
<li><strong>Type-C</strong>: </li>
</ul>

</div>
</div>
</div>
 




<div class="tabs" id="gui"><ul class="nav-tabs"><li class="tab active"><a href="#gui-1"></a></li><li class="tab"><a href="#gui-2">GUI</a></li></ul><div class="tab-content"><div class="tab-pane active" id="gui-1"><p> <code>PyWebView</code><code>Gradio</code>  <code>Tkinter</code> </p>
<ol>
<li><strong></strong><ul>
<li><code>PyWebView</code>HTML&#x2F;JS&#x2F;CSS Web  GUI </li>
<li><code>Gradio</code> Web </li>
<li><code>Tkinter</code>Python  GUI </li>
</ul>
</li>
</ol>
<br />

<ol start="2">
<li><strong></strong><ul>
<li><code>PyWebView</code> Web  HTML  JavaScript  UI Web </li>
<li><code>Gradio</code> Web  Web UI</li>
<li><code>Tkinter</code> Tkinter </li>
</ul>
</li>
</ol>
<br />

<ol start="3">
<li><strong></strong><ul>
<li><code>PyWebView</code> ReactVue </li>
<li><code>Gradio</code>UI  UI </li>
<li><code>Tkinter</code></li>
</ul>
</li>
</ol>
<br />

<ol start="4">
<li><strong></strong><ul>
<li><code>PyWebView</code>WindowsmacOS  Linux</li>
<li><code>Gradio</code> Web</li>
<li><code>Tkinter</code>WindowsmacOSLinux</li>
</ul>
</li>
</ol>
<br />

<ol start="5">
<li><strong></strong><ul>
<li><code>PyWebView</code> Web </li>
<li><code>Gradio</code></li>
<li><code>Tkinter</code> UI </li>
</ul>
</li>
</ol>
<br />

<ol start="6">
<li><strong> Python </strong><ul>
<li><code>PyWebView</code> Python  JavaScript  Web  Python </li>
<li><code>Gradio</code> PyTorchTensorFlow</li>
<li><code>Tkinter</code> Python  Python  Python  UI </li>
</ul>
</li>
</ol>
<br />

<ol start="7">
<li><strong></strong><ul>
<li><code>PyWebView</code> Web  Web </li>
<li><code>Gradio</code></li>
<li><code>Tkinter</code></li>
</ul>
</li>
</ol>
<br />

<p></p>
<ul>
<li><code>PyWebView</code> Web </li>
<li><code>Gradio</code> Web </li>
<li><code>Tkinter</code> GUI </li>
</ul>
<br />

<p></p></div><div class="tab-pane" id="gui-2"><p>Heres a comparison of <code>PyWebView</code>, <code>Gradio</code>, and <code>Tkinter</code> across various key aspects:</p>
<ol>
<li><strong>Purpose and Use Case</strong>:<ul>
<li><code>PyWebView</code>: Used to create lightweight desktop applications by embedding web content (HTML&#x2F;JS&#x2F;CSS) in a native window. It allows web-based apps to run as desktop applications. Primarily for desktop UI with web technologies.</li>
<li><code>Gradio</code>: Primarily designed for creating simple web-based UIs for machine learning models and other applications. It excels at quickly sharing models and data processing workflows through a web interface.</li>
<li><code>Tkinter</code>: The standard Python library for building desktop GUI applications. Its used for creating traditional desktop interfaces with widgets like buttons, labels, and menus.</li>
</ul>
</li>
</ol>
<br />

<ol start="2">
<li><strong>Ease of Use</strong>:<ul>
<li><code>PyWebView</code>: Fairly simple to use if youre familiar with web technologies. You just need HTML and JavaScript to create the interface, making it ideal for developers who want to reuse their web development skills for desktop apps.</li>
<li><code>Gradio</code>: Extremely easy for ML developers and those who want to quickly prototype web UIs for models or data workflows. You dont need to be familiar with web development, as Gradio generates interfaces with very little code.</li>
<li><code>Tkinter</code>: More complex compared to Gradio and PyWebView but still fairly accessible due to its inclusion in the Python standard library. However, creating complex or modern-looking GUIs can be challenging due to its more traditional widget set.</li>
</ul>
</li>
</ol>
<br />

<ol start="3">
<li><strong>Appearance and Flexibility</strong>:<ul>
<li><code>PyWebView</code>: Offers high flexibility since you can use any front-end web framework (like React, Vue, or plain HTML&#x2F;CSS) to design modern, polished UIs. Appearance depends entirely on your web development skills.</li>
<li><code>Gradio</code>: Limited in terms of UI customization but good for rapid prototyping. Its excellent for showcasing machine learning models but lacks the depth for more intricate GUI applications.</li>
<li><code>Tkinter</code>: Comes with a set of pre-built widgets, which are relatively basic in appearance. Styling options are limited, and it can be challenging to create visually modern interfaces without heavy customization.</li>
</ul>
</li>
</ol>
<br />

<ol start="4">
<li><strong>Platform Support</strong>:<ul>
<li><code>PyWebView</code>: Cross-platform (Windows, macOS, and Linux), making it easy to create desktop applications that work on all major operating systems.</li>
<li><code>Gradio</code>: Web-based, so it runs on any platform with a browser, but its not a desktop application framework. Its typically used to host interfaces online.</li>
<li><code>Tkinter</code>: Cross-platform (Windows, macOS, Linux) with native support, but the look and feel of the widgets may differ slightly between operating systems.</li>
</ul>
</li>
</ol>
<br />

<ol start="5">
<li><strong>Performance</strong>:<ul>
<li><code>PyWebView</code>: Relatively fast, but performance depends on the complexity of the web content you embed. For basic HTML&#x2F;JS, it runs smoothly, but heavy web apps can be slow.</li>
<li><code>Gradio</code>: Lightweight and optimized for simple UIs to interact with models. Performance is tied to your backend or model, but for general UI tasks, its quite efficient.</li>
<li><code>Tkinter</code>: Very fast for simple GUI applications since its native to Python and doesnt rely on external libraries or browsers. However, its not ideal for highly complex UIs or apps requiring high customization.</li>
</ul>
</li>
</ol>
<br />

<ol start="6">
<li><strong>Integration with Python</strong>:<ul>
<li><code>PyWebView</code>: Allows two-way communication between Python and JavaScript, making it easy to control the backend logic with Python and the frontend with web technologies.</li>
<li><code>Gradio</code>: Seamless integration with Python and particularly machine learning frameworks like PyTorch and TensorFlow, providing ready-made components for input and output of models.</li>
<li><code>Tkinter</code>: Fully integrated with Python since its part of the standard library, making it highly compatible for general-purpose Python applications. However, its more verbose to set up complex UIs compared to web-based alternatives.</li>
</ul>
</li>
</ol>
<br />

<ol start="8">
<li><strong>Best Suited For</strong>:<ul>
<li><code>PyWebView</code>: Best for developers looking to create cross-platform desktop apps using web technologies or who already have web-based interfaces they want to deploy as desktop apps.</li>
<li><code>Gradio</code>: Ideal for data scientists or ML developers who want a simple, fast way to prototype and share models with interactive UIs.</li>
<li><code>Tkinter</code>: Best suited for traditional desktop applications where no web content is involved and the developer prefers to work within Pythons native ecosystem without external dependencies.</li>
</ul>
</li>
</ol>
<br />

<p>Summary:</p>
<ul>
<li><code>PyWebView</code>: Flexible, modern web-based desktop apps.</li>
<li><code>Gradio</code>: Quick web interfaces for models, with minimal coding.</li>
<li><code>Tkinter</code>: Traditional, native Python desktop GUIs.</li>
</ul>
<br />

<p>Each tool shines in its respective domain: <code>PyWebView</code> for web-driven desktop apps, <code>Gradio</code> for rapid machine learning demos, and <code>Tkinter</code> for simple native Python GUIs.</p></div></div></div>

<br />

<p><code>PyQt6</code>  <code>PyWebView</code>  <code>CEF Python</code>  <code>PyQt6</code><code>PyWebView</code>  <code>CEF Python</code> <code>PyQt6</code> </p>
<ol>
<li><p><code>PyQt6</code> <br><code>PyQt6</code>  Qt  Python  GUI  <code>QWebEngineView</code> Chromium  <code>QWebView</code> WebKit <code>PyWebView</code>  <code>CEF Python</code> <code>PyQt6</code> </p>
<p></p>
<ul>
<li><code>PyQt6</code>  GUI  UI </li>
<li> WindowsmacOS  LinuxQt <code>PyQt6</code> </li>
<li> Chromium  WebKit<code>PyQt6</code>  <code>QWebEngineView</code>  Chromium  <code>CEF Python</code></li>
<li> <code>PyQt6</code> </li>
</ul>
<p></p>
<ul>
<li><code>PyQt6</code>  API  Web </li>
<li> <code>QWebEngineView</code>  Chromium  <code>PyQt6</code>  <code>CEF Python</code> </li>
<li> Web  <code>PyQt6</code>  GUI Web UI<code>PyQt6</code> </li>
</ul>
</li>
<li><p><code>PyWebView</code> <br><code>PyWebView</code>  HTMLCSS  JavaScript  Python  Web </p>
<p></p>
<ul>
<li> <code>PyQt6</code>  <code>CEF Python</code><code>PyWebView</code>  Web </li>
<li><code>PyWebView</code>  WebKitmacOS EdgeHTMLWindows</li>
<li> Web <code>PyWebView</code> </li>
</ul>
<p></p>
<ul>
<li><code>PyWebView</code>  GUI  <code>PyQt6</code> </li>
<li> <code>PyQt6</code> <code>PyWebView</code> <code>PyWebView</code> </li>
</ul>
</li>
<li><p><code>CEF Python</code> <br><code>CEF Python</code>  Chromium Embedded FrameworkCEF Python  Chromium  Web </p>
<p></p>
<ul>
<li> Chromium <code>CEF Python</code>  HTML5CSS3JavaScript  WebAssembly Web </li>
<li><code>CEF Python</code>  API  Python  JavaScript DOM </li>
<li> Chromium <code>CEF Python</code> </li>
</ul>
<p></p>
<ul>
<li><code>CEF Python</code>  Chromium </li>
<li><code>CEF Python</code>  API </li>
</ul>
</li>
<li><p><code>PyQt6</code>  <code>PyWebView</code>  <code>CEF Python</code></p>
<p><code>PyQt6</code>  <code>PyWebView</code></p>
<ul>
<li> GUI <code>PyQt6</code> <code>PyWebView</code>  <code>PyQt6</code> </li>
<li><code>PyWebView</code> <code>PyQt6</code> </li>
</ul>
<p><code>PyQt6</code>  <code>CEF Python</code></p>
<ul>
<li> Web <code>PyQt6</code>  <code>QWebEngineView</code>  <code>CEF Python</code>  Chromium  <code>CEF Python</code> </li>
<li> Web  JavaScript  DOM <code>CEF Python</code>  API  <code>QWebEngineView</code>  <code>CEF Python</code> </li>
</ul>
</li>
<li><p></p>
<ul>
<li> <code>PyQt6</code>  <code>PyWebView</code> GUI <code>PyQt6</code>  Web <code>PyWebView</code> </li>
<li> <code>PyQt6</code>  <code>CEF Python</code><code>PyQt6</code>  <code>QWebEngineView</code>  Web  Chromium  JavaScript  Python <code>CEF Python</code> </li>
</ul>
<p> <code>PyQt6</code>  <code>PyWebView</code>  <code>CEF Python</code>  Web </p>
</li>
</ol>
<br />

<table>
<thead>
<tr>
<th>&nbsp;</th>
<th>&nbsp;<strong>Dash</strong>&nbsp;</th>
<th>&nbsp;<strong>PyWebIO</strong>&nbsp;</th>
<th>&nbsp;<code>Gradio</code>&nbsp;</th>
<th>&nbsp;<strong>Streamlit</strong>&nbsp;</th>
<th>&nbsp;<strong>Panel</strong>&nbsp;</th>
<th>&nbsp;<strong>Voila</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong></strong>&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp; Web &nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp; Jupyter Notebook  Web </td>
</tr>
<tr>
<td><strong></strong>&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp; Jupyter Notebook </td>
</tr>
<tr>
<td><strong></strong>&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp; Notebook </td>
</tr>
<tr>
<td><strong></strong>&nbsp;</td>
<td>&nbsp; Dash &nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp; HoloViz &nbsp;</td>
<td>&nbsp; Jupyter </td>
</tr>
<tr>
<td><strong></strong>&nbsp;</td>
<td>&nbsp; Flask &nbsp;</td>
<td>&nbsp; Flask &nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp; Bokeh Server &nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><strong></strong>&nbsp;</td>
<td>&nbsp;Plotly &nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;HoloViz &nbsp;</td>
<td>&nbsp; Jupyter Notebook </td>
</tr>
<tr>
<td><strong></strong>&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody></table>

	
	</div>
	
  
</div>
	<a type="button" href="/2023/04/07/Robotic-Process-Automation/#more" class="btn btn-default more">Read More</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> Prev</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/3/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
	<div class="widget">
		<h4 style="margin-top: 18px;">Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/tags/Bible/">Bible<span>2</span></a></li>
		
			<li><a href="/tags/Neuro/">Neuro<span>5</span></a></li>
		
			<li><a href="/tags/Nietzsche/">Nietzsche<span>3</span></a></li>
		
			<li><a href="/tags//"><span>2</span></a></li>
		
			<li><a href="/tags/Quantum/">Quantum<span>5</span></a></li>
		
			<li><a href="/tags//"><span>1</span></a></li>
		
			<li><a href="/tags/CoD/">CoD<span>16</span></a></li>
		
			<li><a href="/tags//"><span>2</span></a></li>
		
			<li><a href="/tags/Logotherapy/">Logotherapy<span>3</span></a></li>
		
			<li><a href="/tags/Typography/">Typography<span>4</span></a></li>
		
			<li><a href="/tags//"><span>2</span></a></li>
		
			<li><a href="/tags/Notebooks/">Notebooks<span>14</span></a></li>
		
			<li><a href="/tags/Imaging/">Imaging<span>3</span></a></li>
		
			<li><a href="/tags//"><span>4</span></a></li>
		
			<li><a href="/tags/Metaverse/">Metaverse<span>13</span></a></li>
		
			<li><a href="/tags/BioBuilder/">BioBuilder<span>12</span></a></li>
		
			<li><a href="/tags/Syt-7/">Syt-7<span>1</span></a></li>
		
			<li><a href="/tags/UltimateFacts/">UltimateFacts<span>4</span></a></li>
		
			<li><a href="/tags/Psalms/">Psalms<span>11</span></a></li>
		
			<li><a href="/tags/Pharisee/">Pharisee<span>2</span></a></li>
		
		
			<li><a href="/tags">...<span>21</span></a></li>
		
		</ul>
	</div>


		
			
<div class="widget">
  <h4 style="margin-top: 18px;">Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2024/07/31//" ><i class="fa fa-file-o"></i></a>
      </li>
    
      <li>
        <a href="/2024/05/19/biobuilder/glossary/" ><i class="fa fa-file-o"></i></a>
      </li>
    
      <li>
        <a href="/2024/05/19/biobuilder/appendix/" ><i class="fa fa-file-o"></i></a>
      </li>
    
      <li>
        <a href="/2024/05/16//" ><i class="fa fa-file-o"></i></a>
      </li>
    
      <li>
        <a href="/2024/05/15/biobuilder/chapter-10/" ><i class="fa fa-file-o"></i></a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget" style="border-bottom: none;">

	<h4 style="margin-top: 18px;">Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li>
			<i class="fa fa-github"></i>
			<a href="https://github.com/seii-saintway" title="Andrew's Github repository." target="_blank">Andrew&#39;s Github</a>
		</li>
	
		<li>
			<i class="fa fa-twitter"></i>
			<a href="https://twitter.com/seii_saintway" title="Andrew's Twitter account." target="_blank">Andrew&#39;s Twitter</a>
		</li>
	
	</ul>

</div>

<div class="widget" style="border-bottom: none;">

  <h5>GitHub Repos</h5>
  <ul id="gh_repos" class="list-unstyled">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <a href="https://github.com/seii-saintway" target="_blank">@seii-saintway</a> on GitHub
  <script src="/js/github.js" type="text/javascript"></script>
  <script type="text/javascript">
    github.showRepos({
        user: 'seii-saintway',
        count: 0,
        skip_forks: true,
        target: '#gh_repos',
        blacklist: ''
    });
  </script>

</div>

<div class="widget">

<h5>Twitter Tweets</h5>
<ul id="tweets" class="list-unstyled"><li class="loading">Status updating&#8230;</li></ul>
<a href="https://twitter.com/seii_saintway" target="_blank">@seii_saintway</a> on Twitter
<script src="/js/twitter.js" type="text/javascript"></script>
<script type="text/javascript">
    twitter.showTweets({
        count: 10,
        target: '#tweets',
        blacklist: ''
    });
</script>

</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2025 Andrew
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span></span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>

</html>
